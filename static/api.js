!function(t){function e(e){for(var r,a,u=e[0],c=e[1],s=e[2],l=0,p=[];l<u.length;l++)a=u[l],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&p.push(i[a][0]),i[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);for(f&&f(e);p.length;)p.shift()();return o.push.apply(o,s||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],r=!0,u=1;u<n.length;u++){var c=n[u];0!==i[c]&&(r=!1)}r&&(o.splice(e--,1),t=a(a.s=n[0]))}return t}var r={},i={1:0},o=[];function a(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=r,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)a.d(n,r,function(e){return t[e]}.bind(null,r));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="";var u=window.webpackJsonp=window.webpackJsonp||[],c=u.push.bind(u);u.push=e,u=u.slice();for(var s=0;s<u.length;s++)e(u[s]);var f=c;o.push([20,0]),n()}({20:function(t,e,n){"use strict";n.r(e),n.d(e,"BASE_PATH",(function(){return R})),n.d(e,"BaseAPI",(function(){return M})),n.d(e,"RequiredError",(function(){return q})),n.d(e,"COLLECTION_FORMATS",(function(){return C})),n.d(e,"Configuration",(function(){return I})),n.d(e,"exists",(function(){return T})),n.d(e,"querystring",(function(){return E})),n.d(e,"mapValues",(function(){return _})),n.d(e,"canConsumeForm",(function(){return D})),n.d(e,"JSONApiResponse",(function(){return U})),n.d(e,"VoidApiResponse",(function(){return B})),n.d(e,"BlobApiResponse",(function(){return F})),n.d(e,"TextApiResponse",(function(){return J}));var r=n(12),i=n.n(r),o=n(19),a=n.n(o),u=n(14),c=n.n(u),s=n(120),f=n.n(s),l=n(34),p=n.n(l),h=n(6),d=n.n(h),y=n(5),v=n.n(y),b=n(11),g=n.n(b),w=n(9),m=n.n(w),k=n(10),O=n.n(k);function x(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=c()(t);if(e){var i=c()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return a()(this,n)}}function j(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function P(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?j(Object(n),!0).forEach((function(e){v()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function A(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return S(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function S(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var R="http://localhost:8000".replace(/\/+$/,""),M=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new I;m()(this,t),this.configuration=n,this.fetchApi=function(){var t=g()(d.a.mark((function t(n,r){var i,o,a,u,c,s,f,l;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i={url:n,init:r},o=A(e.middleware),t.prev=2,o.s();case 4:if((a=o.n()).done){t.next=15;break}if(!(u=a.value).pre){t.next=13;break}return t.next=9,u.pre(P({fetch:e.fetchApi},i));case 9:if(t.t0=t.sent,t.t0){t.next=12;break}t.t0=i;case 12:i=t.t0;case 13:t.next=4;break;case 15:t.next=20;break;case 17:t.prev=17,t.t1=t.catch(2),o.e(t.t1);case 20:return t.prev=20,o.f(),t.finish(20);case 23:return t.next=25,e.configuration.fetchApi(i.url,i.init);case 25:c=t.sent,s=A(e.middleware),t.prev=27,s.s();case 29:if((f=s.n()).done){t.next=40;break}if(!(l=f.value).post){t.next=38;break}return t.next=34,l.post({fetch:e.fetchApi,url:n,init:r,response:c.clone()});case 34:if(t.t2=t.sent,t.t2){t.next=37;break}t.t2=c;case 37:c=t.t2;case 38:t.next=29;break;case 40:t.next=45;break;case 42:t.prev=42,t.t3=t.catch(27),s.e(t.t3);case 45:return t.prev=45,s.f(),t.finish(45);case 48:return t.abrupt("return",c);case 49:case"end":return t.stop()}}),t,null,[[2,17,20,23],[27,42,45,48]])})));return function(e,n){return t.apply(this,arguments)}}(),this.middleware=n.middleware}var e;return O()(t,[{key:"withMiddleware",value:function(){var t,e=this.clone();return e.middleware=(t=e.middleware).concat.apply(t,arguments),e}},{key:"withPreMiddleware",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e.map((function(t){return{pre:t}}));return this.withMiddleware.apply(this,p()(r))}},{key:"withPostMiddleware",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e.map((function(t){return{post:t}}));return this.withMiddleware.apply(this,p()(r))}},{key:"request",value:(e=g()(d.a.mark((function t(e){var n,r,i,o;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.createFetchParams(e),r=n.url,i=n.init,t.next=3,this.fetchApi(r,i);case 3:if(!((o=t.sent).status>=200&&o.status<300)){t.next=6;break}return t.abrupt("return",o);case 6:throw o;case 7:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})},{key:"createFetchParams",value:function(t){var e=this.configuration.basePath+t.path;void 0!==t.query&&0!==Object.keys(t.query).length&&(e+="?"+this.configuration.queryParamsStringify(t.query));var n,r=t.body instanceof FormData||t.body instanceof URLSearchParams||(n=t.body,"undefined"!=typeof Blob&&n instanceof Blob)?t.body:JSON.stringify(t.body),i=Object.assign({},this.configuration.headers,t.headers);return{url:e,init:{method:t.method,headers:i,body:r,credentials:this.configuration.credentials}}}},{key:"clone",value:function(){var t=new(0,this.constructor)(this.configuration);return t.middleware=this.middleware.slice(),t}}]),t}(),q=function(t){i()(n,t);var e=x(n);function n(t,r){var i;return m()(this,n),(i=e.call(this,r)).field=t,i.name="RequiredError",i}return n}(f()(Error)),C={csv:",",ssv:" ",tsv:"\t",pipes:"|"},I=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};m()(this,t),this.configuration=e}return O()(t,[{key:"basePath",get:function(){return null!=this.configuration.basePath?this.configuration.basePath:R}},{key:"fetchApi",get:function(){return this.configuration.fetchApi||window.fetch.bind(window)}},{key:"middleware",get:function(){return this.configuration.middleware||[]}},{key:"queryParamsStringify",get:function(){return this.configuration.queryParamsStringify||E}},{key:"username",get:function(){return this.configuration.username}},{key:"password",get:function(){return this.configuration.password}},{key:"apiKey",get:function(){var t=this.configuration.apiKey;if(t)return"function"==typeof t?t:function(){return t}}},{key:"accessToken",get:function(){var t=this.configuration.accessToken;if(t)return"function"==typeof t?t:function(){return t}}},{key:"headers",get:function(){return this.configuration.headers}},{key:"credentials",get:function(){return this.configuration.credentials}}]),t}();function T(t,e){var n=t[e];return null!=n}function E(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Object.keys(t).map((function(n){var r=e+(e.length?"[".concat(n,"]"):n),i=t[n];if(i instanceof Array){var o=i.map((function(t){return encodeURIComponent(String(t))})).join("&".concat(encodeURIComponent(r),"="));return"".concat(encodeURIComponent(r),"=").concat(o)}return i instanceof Object?E(i,r):"".concat(encodeURIComponent(r),"=").concat(encodeURIComponent(String(i)))})).filter((function(t){return t.length>0})).join("&")}function _(t,e){return Object.keys(t).reduce((function(n,r){return P(P({},n),{},v()({},r,e(t[r])))}),{})}function D(t){var e,n=A(t);try{for(n.s();!(e=n.n()).done;){if("multipart/form-data"===e.value.contentType)return!0}}catch(t){n.e(t)}finally{n.f()}return!1}var U=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(t){return t};m()(this,t),this.raw=e,this.transformer=n}var e;return O()(t,[{key:"value",value:(e=g()(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=this,t.next=3,this.raw.json();case 3:return t.t1=t.sent,t.abrupt("return",t.t0.transformer.call(t.t0,t.t1));case 5:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})}]),t}(),B=function(){function t(e){m()(this,t),this.raw=e}var e;return O()(t,[{key:"value",value:(e=g()(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",void 0);case 1:case"end":return t.stop()}}),t)}))),function(){return e.apply(this,arguments)})}]),t}(),F=function(){function t(e){m()(this,t),this.raw=e}var e;return O()(t,[{key:"value",value:(e=g()(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.raw.blob();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})}]),t}(),J=function(){function t(e){m()(this,t),this.raw=e}var e;return O()(t,[{key:"value",value:(e=g()(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.raw.text();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})}]),t}()}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3J1bnRpbWUudHMiXSwibmFtZXMiOlsid2VicGFja0pzb25wQ2FsbGJhY2siLCJkYXRhIiwibW9kdWxlSWQiLCJjaHVua0lkIiwiY2h1bmtJZHMiLCJtb3JlTW9kdWxlcyIsImV4ZWN1dGVNb2R1bGVzIiwiaSIsInJlc29sdmVzIiwibGVuZ3RoIiwiT2JqZWN0IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiaW5zdGFsbGVkQ2h1bmtzIiwicHVzaCIsIm1vZHVsZXMiLCJwYXJlbnRKc29ucEZ1bmN0aW9uIiwic2hpZnQiLCJkZWZlcnJlZE1vZHVsZXMiLCJhcHBseSIsImNoZWNrRGVmZXJyZWRNb2R1bGVzIiwicmVzdWx0IiwiZGVmZXJyZWRNb2R1bGUiLCJmdWxmaWxsZWQiLCJqIiwiZGVwSWQiLCJzcGxpY2UiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwicyIsImluc3RhbGxlZE1vZHVsZXMiLCIxIiwiZXhwb3J0cyIsIm1vZHVsZSIsImwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicCIsImpzb25wQXJyYXkiLCJ3aW5kb3ciLCJvbGRKc29ucEZ1bmN0aW9uIiwic2xpY2UiLCJCQVNFX1BBVEgiLCJyZXBsYWNlIiwiQmFzZUFQSSIsImNvbmZpZ3VyYXRpb24iLCJDb25maWd1cmF0aW9uIiwiZmV0Y2hBcGkiLCJ1cmwiLCJpbml0IiwiYSIsImZldGNoUGFyYW1zIiwibWlkZGxld2FyZSIsInByZSIsImZldGNoIiwicmVzcG9uc2UiLCJwb3N0IiwiY2xvbmUiLCJ0aGlzIiwibmV4dCIsImNvbmNhdCIsInByZU1pZGRsZXdhcmVzIiwibWlkZGxld2FyZXMiLCJtYXAiLCJ3aXRoTWlkZGxld2FyZSIsInBvc3RNaWRkbGV3YXJlcyIsImNvbnRleHQiLCJjcmVhdGVGZXRjaFBhcmFtcyIsInN0YXR1cyIsImJhc2VQYXRoIiwicGF0aCIsInVuZGVmaW5lZCIsInF1ZXJ5Iiwia2V5cyIsInF1ZXJ5UGFyYW1zU3RyaW5naWZ5IiwiYm9keSIsIkZvcm1EYXRhIiwiVVJMU2VhcmNoUGFyYW1zIiwiQmxvYiIsIkpTT04iLCJzdHJpbmdpZnkiLCJoZWFkZXJzIiwiYXNzaWduIiwibWV0aG9kIiwiY3JlZGVudGlhbHMiLCJjb25zdHJ1Y3RvciIsIlJlcXVpcmVkRXJyb3IiLCJmaWVsZCIsIm1zZyIsIkVycm9yIiwiQ09MTEVDVElPTl9GT1JNQVRTIiwiY3N2Iiwic3N2IiwidHN2IiwicGlwZXMiLCJxdWVyeXN0cmluZyIsInVzZXJuYW1lIiwicGFzc3dvcmQiLCJhcGlLZXkiLCJhY2Nlc3NUb2tlbiIsImV4aXN0cyIsImpzb24iLCJwYXJhbXMiLCJwcmVmaXgiLCJmdWxsS2V5IiwiQXJyYXkiLCJtdWx0aVZhbHVlIiwic2luZ2xlVmFsdWUiLCJlbmNvZGVVUklDb21wb25lbnQiLCJTdHJpbmciLCJqb2luIiwiZmlsdGVyIiwicGFydCIsIm1hcFZhbHVlcyIsImZuIiwicmVkdWNlIiwiYWNjIiwiY2FuQ29uc3VtZUZvcm0iLCJjb25zdW1lcyIsImNvbnRlbnRUeXBlIiwiSlNPTkFwaVJlc3BvbnNlIiwicmF3IiwidHJhbnNmb3JtZXIiLCJqc29uVmFsdWUiLCJWb2lkQXBpUmVzcG9uc2UiLCJCbG9iQXBpUmVzcG9uc2UiLCJibG9iIiwiVGV4dEFwaVJlc3BvbnNlIiwidGV4dCJdLCJtYXBwaW5ncyI6ImFBQ0UsU0FBU0EsRUFBcUJDLEdBUTdCLElBUEEsSUFNSUMsRUFBVUMsRUFOVkMsRUFBV0gsRUFBSyxHQUNoQkksRUFBY0osRUFBSyxHQUNuQkssRUFBaUJMLEVBQUssR0FJSE0sRUFBSSxF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c0NBLEtBQUsrRCxJQUFJcEIsT0FKL0MsaURBSW9CcUIsWUFKcEIscUhBUWFFLEVBQWIsV0FDSSxXQUFtQkgsR0FBZSxpQkFBZkEsTUFEdkIsb0tBSWVsRCxHQUpmLCtGQVFhc0QsRUFBYixXQUNJLFdBQW1CSixHQUFlLGlCQUFmQSxNQUR2QixzSkFJcUIvRCxLQUFLK0QsSUFBSUssT0FKOUIsNElBUWFDLEVBQWIsV0FDSSxXQUFtQk4sR0FBZSxpQkFBZkEsTUFEdkIsc0pBSXFCL0QsS0FBSytELElBQUlPLE9BSjlCIiwiZmlsZSI6ImFwaS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIGluc3RhbGwgYSBKU09OUCBjYWxsYmFjayBmb3IgY2h1bmsgbG9hZGluZ1xuIFx0ZnVuY3Rpb24gd2VicGFja0pzb25wQ2FsbGJhY2soZGF0YSkge1xuIFx0XHR2YXIgY2h1bmtJZHMgPSBkYXRhWzBdO1xuIFx0XHR2YXIgbW9yZU1vZHVsZXMgPSBkYXRhWzFdO1xuIFx0XHR2YXIgZXhlY3V0ZU1vZHVsZXMgPSBkYXRhWzJdO1xuXG4gXHRcdC8vIGFkZCBcIm1vcmVNb2R1bGVzXCIgdG8gdGhlIG1vZHVsZXMgb2JqZWN0LFxuIFx0XHQvLyB0aGVuIGZsYWcgYWxsIFwiY2h1bmtJZHNcIiBhcyBsb2FkZWQgYW5kIGZpcmUgY2FsbGJhY2tcbiBcdFx0dmFyIG1vZHVsZUlkLCBjaHVua0lkLCBpID0gMCwgcmVzb2x2ZXMgPSBbXTtcbiBcdFx0Zm9yKDtpIDwgY2h1bmtJZHMubGVuZ3RoOyBpKyspIHtcbiBcdFx0XHRjaHVua0lkID0gY2h1bmtJZHNbaV07XG4gXHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGluc3RhbGxlZENodW5rcywgY2h1bmtJZCkgJiYgaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdKSB7XG4gXHRcdFx0XHRyZXNvbHZlcy5wdXNoKGluc3RhbGxlZENodW5rc1tjaHVua0lkXVswXSk7XG4gXHRcdFx0fVxuIFx0XHRcdGluc3RhbGxlZENodW5rc1tjaHVua0lkXSA9IDA7XG4gXHRcdH1cbiBcdFx0Zm9yKG1vZHVsZUlkIGluIG1vcmVNb2R1bGVzKSB7XG4gXHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vcmVNb2R1bGVzLCBtb2R1bGVJZCkpIHtcbiBcdFx0XHRcdG1vZHVsZXNbbW9kdWxlSWRdID0gbW9yZU1vZHVsZXNbbW9kdWxlSWRdO1xuIFx0XHRcdH1cbiBcdFx0fVxuIFx0XHRpZihwYXJlbnRKc29ucEZ1bmN0aW9uKSBwYXJlbnRKc29ucEZ1bmN0aW9uKGRhdGEpO1xuXG4gXHRcdHdoaWxlKHJlc29sdmVzLmxlbmd0aCkge1xuIFx0XHRcdHJlc29sdmVzLnNoaWZ0KCkoKTtcbiBcdFx0fVxuXG4gXHRcdC8vIGFkZCBlbnRyeSBtb2R1bGVzIGZyb20gbG9hZGVkIGNodW5rIHRvIGRlZmVycmVkIGxpc3RcbiBcdFx0ZGVmZXJyZWRNb2R1bGVzLnB1c2guYXBwbHkoZGVmZXJyZWRNb2R1bGVzLCBleGVjdXRlTW9kdWxlcyB8fCBbXSk7XG5cbiBcdFx0Ly8gcnVuIGRlZmVycmVkIG1vZHVsZXMgd2hlbiBhbGwgY2h1bmtzIHJlYWR5XG4gXHRcdHJldHVybiBjaGVja0RlZmVycmVkTW9kdWxlcygpO1xuIFx0fTtcbiBcdGZ1bmN0aW9uIGNoZWNrRGVmZXJyZWRNb2R1bGVzKCkge1xuIFx0XHR2YXIgcmVzdWx0O1xuIFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgZGVmZXJyZWRNb2R1bGVzLmxlbmd0aDsgaSsrKSB7XG4gXHRcdFx0dmFyIGRlZmVycmVkTW9kdWxlID0gZGVmZXJyZWRNb2R1bGVzW2ldO1xuIFx0XHRcdHZhciBmdWxmaWxsZWQgPSB0cnVlO1xuIFx0XHRcdGZvcih2YXIgaiA9IDE7IGogPCBkZWZlcnJlZE1vZHVsZS5sZW5ndGg7IGorKykge1xuIFx0XHRcdFx0dmFyIGRlcElkID0gZGVmZXJyZWRNb2R1bGVbal07XG4gXHRcdFx0XHRpZihpbnN0YWxsZWRDaHVua3NbZGVwSWRdICE9PSAwKSBmdWxmaWxsZWQgPSBmYWxzZTtcbiBcdFx0XHR9XG4gXHRcdFx0aWYoZnVsZmlsbGVkKSB7XG4gXHRcdFx0XHRkZWZlcnJlZE1vZHVsZXMuc3BsaWNlKGktLSwgMSk7XG4gXHRcdFx0XHRyZXN1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IGRlZmVycmVkTW9kdWxlWzBdKTtcbiBcdFx0XHR9XG4gXHRcdH1cblxuIFx0XHRyZXR1cm4gcmVzdWx0O1xuIFx0fVxuXG4gXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBvYmplY3QgdG8gc3RvcmUgbG9hZGVkIGFuZCBsb2FkaW5nIGNodW5rc1xuIFx0Ly8gdW5kZWZpbmVkID0gY2h1bmsgbm90IGxvYWRlZCwgbnVsbCA9IGNodW5rIHByZWxvYWRlZC9wcmVmZXRjaGVkXG4gXHQvLyBQcm9taXNlID0gY2h1bmsgbG9hZGluZywgMCA9IGNodW5rIGxvYWRlZFxuIFx0dmFyIGluc3RhbGxlZENodW5rcyA9IHtcbiBcdFx0MTogMFxuIFx0fTtcblxuIFx0dmFyIGRlZmVycmVkTW9kdWxlcyA9IFtdO1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG4gXHR2YXIganNvbnBBcnJheSA9IHdpbmRvd1tcIndlYnBhY2tKc29ucFwiXSA9IHdpbmRvd1tcIndlYnBhY2tKc29ucFwiXSB8fCBbXTtcbiBcdHZhciBvbGRKc29ucEZ1bmN0aW9uID0ganNvbnBBcnJheS5wdXNoLmJpbmQoanNvbnBBcnJheSk7XG4gXHRqc29ucEFycmF5LnB1c2ggPSB3ZWJwYWNrSnNvbnBDYWxsYmFjaztcbiBcdGpzb25wQXJyYXkgPSBqc29ucEFycmF5LnNsaWNlKCk7XG4gXHRmb3IodmFyIGkgPSAwOyBpIDwganNvbnBBcnJheS5sZW5ndGg7IGkrKykgd2VicGFja0pzb25wQ2FsbGJhY2soanNvbnBBcnJheVtpXSk7XG4gXHR2YXIgcGFyZW50SnNvbnBGdW5jdGlvbiA9IG9sZEpzb25wRnVuY3Rpb247XG5cblxuIFx0Ly8gYWRkIGVudHJ5IG1vZHVsZSB0byBkZWZlcnJlZCBsaXN0XG4gXHRkZWZlcnJlZE1vZHVsZXMucHVzaChbMjAsMF0pO1xuIFx0Ly8gcnVuIGRlZmVycmVkIG1vZHVsZXMgd2hlbiByZWFkeVxuIFx0cmV0dXJuIGNoZWNrRGVmZXJyZWRNb2R1bGVzKCk7XG4iLCIvKiB0c2xpbnQ6ZGlzYWJsZSAqL1xuLyogZXNsaW50LWRpc2FibGUgKi9cbi8qKlxuICogRmFzdEFQSVxuICogTm8gZGVzY3JpcHRpb24gcHJvdmlkZWQgKGdlbmVyYXRlZCBieSBPcGVuYXBpIEdlbmVyYXRvciBodHRwczovL2dpdGh1Yi5jb20vb3BlbmFwaXRvb2xzL29wZW5hcGktZ2VuZXJhdG9yKVxuICpcbiAqIFRoZSB2ZXJzaW9uIG9mIHRoZSBPcGVuQVBJIGRvY3VtZW50OiAwLjEuMFxuICogXG4gKlxuICogTk9URTogVGhpcyBjbGFzcyBpcyBhdXRvIGdlbmVyYXRlZCBieSBPcGVuQVBJIEdlbmVyYXRvciAoaHR0cHM6Ly9vcGVuYXBpLWdlbmVyYXRvci50ZWNoKS5cbiAqIGh0dHBzOi8vb3BlbmFwaS1nZW5lcmF0b3IudGVjaFxuICogRG8gbm90IGVkaXQgdGhlIGNsYXNzIG1hbnVhbGx5LlxuICovXG5cblxuZXhwb3J0IGNvbnN0IEJBU0VfUEFUSCA9IFwiaHR0cDovL2xvY2FsaG9zdDo4MDAwXCIucmVwbGFjZSgvXFwvKyQvLCBcIlwiKTtcblxuY29uc3QgaXNCbG9iID0gKHZhbHVlOiBhbnkpID0+IHR5cGVvZiBCbG9iICE9PSAndW5kZWZpbmVkJyAmJiB2YWx1ZSBpbnN0YW5jZW9mIEJsb2I7XG5cbi8qKlxuICogVGhpcyBpcyB0aGUgYmFzZSBjbGFzcyBmb3IgYWxsIGdlbmVyYXRlZCBBUEkgY2xhc3Nlcy5cbiAqL1xuZXhwb3J0IGNsYXNzIEJhc2VBUEkge1xuXG4gICAgcHJpdmF0ZSBtaWRkbGV3YXJlOiBNaWRkbGV3YXJlW107XG5cbiAgICBjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQgY29uZmlndXJhdGlvbiA9IG5ldyBDb25maWd1cmF0aW9uKCkpIHtcbiAgICAgICAgdGhpcy5taWRkbGV3YXJlID0gY29uZmlndXJhdGlvbi5taWRkbGV3YXJlO1xuICAgIH1cblxuICAgIHdpdGhNaWRkbGV3YXJlPFQgZXh0ZW5kcyBCYXNlQVBJPih0aGlzOiBULCAuLi5taWRkbGV3YXJlczogTWlkZGxld2FyZVtdKSB7XG4gICAgICAgIGNvbnN0IG5leHQgPSB0aGlzLmNsb25lPFQ+KCk7XG4gICAgICAgIG5leHQubWlkZGxld2FyZSA9IG5leHQubWlkZGxld2FyZS5jb25jYXQoLi4ubWlkZGxld2FyZXMpO1xuICAgICAgICByZXR1cm4gbmV4dDtcbiAgICB9XG5cbiAgICB3aXRoUHJlTWlkZGxld2FyZTxUIGV4dGVuZHMgQmFzZUFQST4odGhpczogVCwgLi4ucHJlTWlkZGxld2FyZXM6IEFycmF5PE1pZGRsZXdhcmVbJ3ByZSddPikge1xuICAgICAgICBjb25zdCBtaWRkbGV3YXJlcyA9IHByZU1pZGRsZXdhcmVzLm1hcCgocHJlKSA9PiAoeyBwcmUgfSkpO1xuICAgICAgICByZXR1cm4gdGhpcy53aXRoTWlkZGxld2FyZTxUPiguLi5taWRkbGV3YXJlcyk7XG4gICAgfVxuXG4gICAgd2l0aFBvc3RNaWRkbGV3YXJlPFQgZXh0ZW5kcyBCYXNlQVBJPih0aGlzOiBULCAuLi5wb3N0TWlkZGxld2FyZXM6IEFycmF5PE1pZGRsZXdhcmVbJ3Bvc3QnXT4pIHtcbiAgICAgICAgY29uc3QgbWlkZGxld2FyZXMgPSBwb3N0TWlkZGxld2FyZXMubWFwKChwb3N0KSA9PiAoeyBwb3N0IH0pKTtcbiAgICAgICAgcmV0dXJuIHRoaXMud2l0aE1pZGRsZXdhcmU8VD4oLi4ubWlkZGxld2FyZXMpO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBhc3luYyByZXF1ZXN0KGNvbnRleHQ6IFJlcXVlc3RPcHRzKTogUHJvbWlzZTxSZXNwb25zZT4ge1xuICAgICAgICBjb25zdCB7IHVybCwgaW5pdCB9ID0gdGhpcy5jcmVhdGVGZXRjaFBhcmFtcyhjb250ZXh0KTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmZldGNoQXBpKHVybCwgaW5pdCk7XG4gICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPj0gMjAwICYmIHJlc3BvbnNlLnN0YXR1cyA8IDMwMCkge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IHJlc3BvbnNlO1xuICAgIH1cblxuICAgIHByaXZhdGUgY3JlYXRlRmV0Y2hQYXJhbXMoY29udGV4dDogUmVxdWVzdE9wdHMpIHtcbiAgICAgICAgbGV0IHVybCA9IHRoaXMuY29uZmlndXJhdGlvbi5iYXNlUGF0aCArIGNvbnRleHQucGF0aDtcbiAgICAgICAgaWYgKGNvbnRleHQucXVlcnkgIT09IHVuZGVmaW5lZCAmJiBPYmplY3Qua2V5cyhjb250ZXh0LnF1ZXJ5KS5sZW5ndGggIT09IDApIHtcbiAgICAgICAgICAgIC8vIG9ubHkgYWRkIHRoZSBxdWVyeXN0cmluZyB0byB0aGUgVVJMIGlmIHRoZXJlIGFyZSBxdWVyeSBwYXJhbWV0ZXJzLlxuICAgICAgICAgICAgLy8gdGhpcyBpcyBkb25lIHRvIGF2b2lkIHVybHMgZW5kaW5nIHdpdGggYSBcIj9cIiBjaGFyYWN0ZXIgd2hpY2ggYnVnZ3kgd2Vic2VydmVyc1xuICAgICAgICAgICAgLy8gZG8gbm90IGhhbmRsZSBjb3JyZWN0bHkgc29tZXRpbWVzLlxuICAgICAgICAgICAgdXJsICs9ICc/JyArIHRoaXMuY29uZmlndXJhdGlvbi5xdWVyeVBhcmFtc1N0cmluZ2lmeShjb250ZXh0LnF1ZXJ5KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBib2R5ID0gKGNvbnRleHQuYm9keSBpbnN0YW5jZW9mIEZvcm1EYXRhIHx8IGNvbnRleHQuYm9keSBpbnN0YW5jZW9mIFVSTFNlYXJjaFBhcmFtcyB8fCBpc0Jsb2IoY29udGV4dC5ib2R5KSlcblx0ICAgID8gY29udGV4dC5ib2R5XG5cdCAgICA6IEpTT04uc3RyaW5naWZ5KGNvbnRleHQuYm9keSk7XG5cbiAgICAgICAgY29uc3QgaGVhZGVycyA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuY29uZmlndXJhdGlvbi5oZWFkZXJzLCBjb250ZXh0LmhlYWRlcnMpO1xuICAgICAgICBjb25zdCBpbml0ID0ge1xuICAgICAgICAgICAgbWV0aG9kOiBjb250ZXh0Lm1ldGhvZCxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBib2R5LFxuICAgICAgICAgICAgY3JlZGVudGlhbHM6IHRoaXMuY29uZmlndXJhdGlvbi5jcmVkZW50aWFsc1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4geyB1cmwsIGluaXQgfTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGZldGNoQXBpID0gYXN5bmMgKHVybDogc3RyaW5nLCBpbml0OiBSZXF1ZXN0SW5pdCkgPT4ge1xuICAgICAgICBsZXQgZmV0Y2hQYXJhbXMgPSB7IHVybCwgaW5pdCB9O1xuICAgICAgICBmb3IgKGNvbnN0IG1pZGRsZXdhcmUgb2YgdGhpcy5taWRkbGV3YXJlKSB7XG4gICAgICAgICAgICBpZiAobWlkZGxld2FyZS5wcmUpIHtcbiAgICAgICAgICAgICAgICBmZXRjaFBhcmFtcyA9IGF3YWl0IG1pZGRsZXdhcmUucHJlKHtcbiAgICAgICAgICAgICAgICAgICAgZmV0Y2g6IHRoaXMuZmV0Y2hBcGksXG4gICAgICAgICAgICAgICAgICAgIC4uLmZldGNoUGFyYW1zLFxuICAgICAgICAgICAgICAgIH0pIHx8IGZldGNoUGFyYW1zO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxldCByZXNwb25zZSA9IGF3YWl0IHRoaXMuY29uZmlndXJhdGlvbi5mZXRjaEFwaShmZXRjaFBhcmFtcy51cmwsIGZldGNoUGFyYW1zLmluaXQpO1xuICAgICAgICBmb3IgKGNvbnN0IG1pZGRsZXdhcmUgb2YgdGhpcy5taWRkbGV3YXJlKSB7XG4gICAgICAgICAgICBpZiAobWlkZGxld2FyZS5wb3N0KSB7XG4gICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBhd2FpdCBtaWRkbGV3YXJlLnBvc3Qoe1xuICAgICAgICAgICAgICAgICAgICBmZXRjaDogdGhpcy5mZXRjaEFwaSxcbiAgICAgICAgICAgICAgICAgICAgdXJsLFxuICAgICAgICAgICAgICAgICAgICBpbml0LFxuICAgICAgICAgICAgICAgICAgICByZXNwb25zZTogcmVzcG9uc2UuY2xvbmUoKSxcbiAgICAgICAgICAgICAgICB9KSB8fCByZXNwb25zZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgc2hhbGxvdyBjbG9uZSBvZiBgdGhpc2AgYnkgY29uc3RydWN0aW5nIGEgbmV3IGluc3RhbmNlXG4gICAgICogYW5kIHRoZW4gc2hhbGxvdyBjbG9uaW5nIGRhdGEgbWVtYmVycy5cbiAgICAgKi9cbiAgICBwcml2YXRlIGNsb25lPFQgZXh0ZW5kcyBCYXNlQVBJPih0aGlzOiBUKTogVCB7XG4gICAgICAgIGNvbnN0IGNvbnN0cnVjdG9yID0gdGhpcy5jb25zdHJ1Y3RvciBhcyBhbnk7XG4gICAgICAgIGNvbnN0IG5leHQgPSBuZXcgY29uc3RydWN0b3IodGhpcy5jb25maWd1cmF0aW9uKTtcbiAgICAgICAgbmV4dC5taWRkbGV3YXJlID0gdGhpcy5taWRkbGV3YXJlLnNsaWNlKCk7XG4gICAgICAgIHJldHVybiBuZXh0O1xuICAgIH1cbn07XG5cbmV4cG9ydCBjbGFzcyBSZXF1aXJlZEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAgIG5hbWU6IFwiUmVxdWlyZWRFcnJvclwiID0gXCJSZXF1aXJlZEVycm9yXCI7XG4gICAgY29uc3RydWN0b3IocHVibGljIGZpZWxkOiBzdHJpbmcsIG1zZz86IHN0cmluZykge1xuICAgICAgICBzdXBlcihtc2cpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IENPTExFQ1RJT05fRk9STUFUUyA9IHtcbiAgICBjc3Y6IFwiLFwiLFxuICAgIHNzdjogXCIgXCIsXG4gICAgdHN2OiBcIlxcdFwiLFxuICAgIHBpcGVzOiBcInxcIixcbn07XG5cbmV4cG9ydCB0eXBlIEZldGNoQVBJID0gV2luZG93T3JXb3JrZXJHbG9iYWxTY29wZVsnZmV0Y2gnXTtcblxuZXhwb3J0IGludGVyZmFjZSBDb25maWd1cmF0aW9uUGFyYW1ldGVycyB7XG4gICAgYmFzZVBhdGg/OiBzdHJpbmc7IC8vIG92ZXJyaWRlIGJhc2UgcGF0aFxuICAgIGZldGNoQXBpPzogRmV0Y2hBUEk7IC8vIG92ZXJyaWRlIGZvciBmZXRjaCBpbXBsZW1lbnRhdGlvblxuICAgIG1pZGRsZXdhcmU/OiBNaWRkbGV3YXJlW107IC8vIG1pZGRsZXdhcmUgdG8gYXBwbHkgYmVmb3JlL2FmdGVyIGZldGNoIHJlcXVlc3RzXG4gICAgcXVlcnlQYXJhbXNTdHJpbmdpZnk/OiAocGFyYW1zOiBIVFRQUXVlcnkpID0+IHN0cmluZzsgLy8gc3RyaW5naWZ5IGZ1bmN0aW9uIGZvciBxdWVyeSBzdHJpbmdzXG4gICAgdXNlcm5hbWU/OiBzdHJpbmc7IC8vIHBhcmFtZXRlciBmb3IgYmFzaWMgc2VjdXJpdHlcbiAgICBwYXNzd29yZD86IHN0cmluZzsgLy8gcGFyYW1ldGVyIGZvciBiYXNpYyBzZWN1cml0eVxuICAgIGFwaUtleT86IHN0cmluZyB8ICgobmFtZTogc3RyaW5nKSA9PiBzdHJpbmcpOyAvLyBwYXJhbWV0ZXIgZm9yIGFwaUtleSBzZWN1cml0eVxuICAgIGFjY2Vzc1Rva2VuPzogc3RyaW5nIHwgKChuYW1lPzogc3RyaW5nLCBzY29wZXM/OiBzdHJpbmdbXSkgPT4gc3RyaW5nKTsgLy8gcGFyYW1ldGVyIGZvciBvYXV0aDIgc2VjdXJpdHlcbiAgICBoZWFkZXJzPzogSFRUUEhlYWRlcnM7IC8vaGVhZGVyIHBhcmFtcyB3ZSB3YW50IHRvIHVzZSBvbiBldmVyeSByZXF1ZXN0XG4gICAgY3JlZGVudGlhbHM/OiBSZXF1ZXN0Q3JlZGVudGlhbHM7IC8vdmFsdWUgZm9yIHRoZSBjcmVkZW50aWFscyBwYXJhbSB3ZSB3YW50IHRvIHVzZSBvbiBlYWNoIHJlcXVlc3Rcbn1cblxuZXhwb3J0IGNsYXNzIENvbmZpZ3VyYXRpb24ge1xuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgY29uZmlndXJhdGlvbjogQ29uZmlndXJhdGlvblBhcmFtZXRlcnMgPSB7fSkge31cblxuICAgIGdldCBiYXNlUGF0aCgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5jb25maWd1cmF0aW9uLmJhc2VQYXRoICE9IG51bGwgPyB0aGlzLmNvbmZpZ3VyYXRpb24uYmFzZVBhdGggOiBCQVNFX1BBVEg7XG4gICAgfVxuXG4gICAgZ2V0IGZldGNoQXBpKCk6IEZldGNoQVBJIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uZmlndXJhdGlvbi5mZXRjaEFwaSB8fCB3aW5kb3cuZmV0Y2guYmluZCh3aW5kb3cpO1xuICAgIH1cblxuICAgIGdldCBtaWRkbGV3YXJlKCk6IE1pZGRsZXdhcmVbXSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbmZpZ3VyYXRpb24ubWlkZGxld2FyZSB8fCBbXTtcbiAgICB9XG5cbiAgICBnZXQgcXVlcnlQYXJhbXNTdHJpbmdpZnkoKTogKHBhcmFtczogSFRUUFF1ZXJ5KSA9PiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5jb25maWd1cmF0aW9uLnF1ZXJ5UGFyYW1zU3RyaW5naWZ5IHx8IHF1ZXJ5c3RyaW5nO1xuICAgIH1cblxuICAgIGdldCB1c2VybmFtZSgpOiBzdHJpbmcgfCB1bmRlZmluZWQge1xuICAgICAgICByZXR1cm4gdGhpcy5jb25maWd1cmF0aW9uLnVzZXJuYW1lO1xuICAgIH1cblxuICAgIGdldCBwYXNzd29yZCgpOiBzdHJpbmcgfCB1bmRlZmluZWQge1xuICAgICAgICByZXR1cm4gdGhpcy5jb25maWd1cmF0aW9uLnBhc3N3b3JkO1xuICAgIH1cblxuICAgIGdldCBhcGlLZXkoKTogKChuYW1lOiBzdHJpbmcpID0+IHN0cmluZykgfCB1bmRlZmluZWQge1xuICAgICAgICBjb25zdCBhcGlLZXkgPSB0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5O1xuICAgICAgICBpZiAoYXBpS2V5KSB7XG4gICAgICAgICAgICByZXR1cm4gdHlwZW9mIGFwaUtleSA9PT0gJ2Z1bmN0aW9uJyA/IGFwaUtleSA6ICgpID0+IGFwaUtleTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGdldCBhY2Nlc3NUb2tlbigpOiAoKG5hbWU6IHN0cmluZywgc2NvcGVzPzogc3RyaW5nW10pID0+IHN0cmluZykgfCB1bmRlZmluZWQge1xuICAgICAgICBjb25zdCBhY2Nlc3NUb2tlbiA9IHRoaXMuY29uZmlndXJhdGlvbi5hY2Nlc3NUb2tlbjtcbiAgICAgICAgaWYgKGFjY2Vzc1Rva2VuKSB7XG4gICAgICAgICAgICByZXR1cm4gdHlwZW9mIGFjY2Vzc1Rva2VuID09PSAnZnVuY3Rpb24nID8gYWNjZXNzVG9rZW4gOiAoKSA9PiBhY2Nlc3NUb2tlbjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGdldCBoZWFkZXJzKCk6ICBIVFRQSGVhZGVycyB8IHVuZGVmaW5lZCB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbmZpZ3VyYXRpb24uaGVhZGVycztcbiAgICB9XG5cbiAgICBnZXQgY3JlZGVudGlhbHMoKTogUmVxdWVzdENyZWRlbnRpYWxzIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uZmlndXJhdGlvbi5jcmVkZW50aWFscztcbiAgICB9XG59XG5cbmV4cG9ydCB0eXBlIEpzb24gPSBhbnk7XG5leHBvcnQgdHlwZSBIVFRQTWV0aG9kID0gJ0dFVCcgfCAnUE9TVCcgfCAnUFVUJyB8ICdQQVRDSCcgfCAnREVMRVRFJyB8ICdPUFRJT05TJztcbmV4cG9ydCB0eXBlIEhUVFBIZWFkZXJzID0geyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfTtcbmV4cG9ydCB0eXBlIEhUVFBRdWVyeSA9IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIHwgbnVtYmVyIHwgbnVsbCB8IGJvb2xlYW4gfCBBcnJheTxzdHJpbmcgfCBudW1iZXIgfCBudWxsIHwgYm9vbGVhbj4gfCBIVFRQUXVlcnkgfTtcbmV4cG9ydCB0eXBlIEhUVFBCb2R5ID0gSnNvbiB8IEZvcm1EYXRhIHwgVVJMU2VhcmNoUGFyYW1zO1xuZXhwb3J0IHR5cGUgTW9kZWxQcm9wZXJ0eU5hbWluZyA9ICdjYW1lbENhc2UnIHwgJ3NuYWtlX2Nhc2UnIHwgJ1Bhc2NhbENhc2UnIHwgJ29yaWdpbmFsJztcblxuZXhwb3J0IGludGVyZmFjZSBGZXRjaFBhcmFtcyB7XG4gICAgdXJsOiBzdHJpbmc7XG4gICAgaW5pdDogUmVxdWVzdEluaXQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUmVxdWVzdE9wdHMge1xuICAgIHBhdGg6IHN0cmluZztcbiAgICBtZXRob2Q6IEhUVFBNZXRob2Q7XG4gICAgaGVhZGVyczogSFRUUEhlYWRlcnM7XG4gICAgcXVlcnk/OiBIVFRQUXVlcnk7XG4gICAgYm9keT86IEhUVFBCb2R5O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZXhpc3RzKGpzb246IGFueSwga2V5OiBzdHJpbmcpIHtcbiAgICBjb25zdCB2YWx1ZSA9IGpzb25ba2V5XTtcbiAgICByZXR1cm4gdmFsdWUgIT09IG51bGwgJiYgdmFsdWUgIT09IHVuZGVmaW5lZDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHF1ZXJ5c3RyaW5nKHBhcmFtczogSFRUUFF1ZXJ5LCBwcmVmaXg6IHN0cmluZyA9ICcnKTogc3RyaW5nIHtcbiAgICByZXR1cm4gT2JqZWN0LmtleXMocGFyYW1zKVxuICAgICAgICAubWFwKChrZXkpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGZ1bGxLZXkgPSBwcmVmaXggKyAocHJlZml4Lmxlbmd0aCA/IGBbJHtrZXl9XWAgOiBrZXkpO1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBwYXJhbXNba2V5XTtcbiAgICAgICAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbXVsdGlWYWx1ZSA9IHZhbHVlLm1hcChzaW5nbGVWYWx1ZSA9PiBlbmNvZGVVUklDb21wb25lbnQoU3RyaW5nKHNpbmdsZVZhbHVlKSkpXG4gICAgICAgICAgICAgICAgICAgIC5qb2luKGAmJHtlbmNvZGVVUklDb21wb25lbnQoZnVsbEtleSl9PWApO1xuICAgICAgICAgICAgICAgIHJldHVybiBgJHtlbmNvZGVVUklDb21wb25lbnQoZnVsbEtleSl9PSR7bXVsdGlWYWx1ZX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgT2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHF1ZXJ5c3RyaW5nKHZhbHVlIGFzIEhUVFBRdWVyeSwgZnVsbEtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gYCR7ZW5jb2RlVVJJQ29tcG9uZW50KGZ1bGxLZXkpfT0ke2VuY29kZVVSSUNvbXBvbmVudChTdHJpbmcodmFsdWUpKX1gO1xuICAgICAgICB9KVxuICAgICAgICAuZmlsdGVyKHBhcnQgPT4gcGFydC5sZW5ndGggPiAwKVxuICAgICAgICAuam9pbignJicpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbWFwVmFsdWVzKGRhdGE6IGFueSwgZm46IChpdGVtOiBhbnkpID0+IGFueSkge1xuICByZXR1cm4gT2JqZWN0LmtleXMoZGF0YSkucmVkdWNlKFxuICAgIChhY2MsIGtleSkgPT4gKHsgLi4uYWNjLCBba2V5XTogZm4oZGF0YVtrZXldKSB9KSxcbiAgICB7fVxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY2FuQ29uc3VtZUZvcm0oY29uc3VtZXM6IENvbnN1bWVbXSk6IGJvb2xlYW4ge1xuICAgIGZvciAoY29uc3QgY29uc3VtZSBvZiBjb25zdW1lcykge1xuICAgICAgICBpZiAoJ211bHRpcGFydC9mb3JtLWRhdGEnID09PSBjb25zdW1lLmNvbnRlbnRUeXBlKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29uc3VtZSB7XG4gICAgY29udGVudFR5cGU6IHN0cmluZ1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFJlcXVlc3RDb250ZXh0IHtcbiAgICBmZXRjaDogRmV0Y2hBUEk7XG4gICAgdXJsOiBzdHJpbmc7XG4gICAgaW5pdDogUmVxdWVzdEluaXQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUmVzcG9uc2VDb250ZXh0IHtcbiAgICBmZXRjaDogRmV0Y2hBUEk7XG4gICAgdXJsOiBzdHJpbmc7XG4gICAgaW5pdDogUmVxdWVzdEluaXQ7XG4gICAgcmVzcG9uc2U6IFJlc3BvbnNlO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE1pZGRsZXdhcmUge1xuICAgIHByZT8oY29udGV4dDogUmVxdWVzdENvbnRleHQpOiBQcm9taXNlPEZldGNoUGFyYW1zIHwgdm9pZD47XG4gICAgcG9zdD8oY29udGV4dDogUmVzcG9uc2VDb250ZXh0KTogUHJvbWlzZTxSZXNwb25zZSB8IHZvaWQ+O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEFwaVJlc3BvbnNlPFQ+IHtcbiAgICByYXc6IFJlc3BvbnNlO1xuICAgIHZhbHVlKCk6IFByb21pc2U8VD47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUmVzcG9uc2VUcmFuc2Zvcm1lcjxUPiB7XG4gICAgKGpzb246IGFueSk6IFQ7XG59XG5cbmV4cG9ydCBjbGFzcyBKU09OQXBpUmVzcG9uc2U8VD4ge1xuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyByYXc6IFJlc3BvbnNlLCBwcml2YXRlIHRyYW5zZm9ybWVyOiBSZXNwb25zZVRyYW5zZm9ybWVyPFQ+ID0gKGpzb25WYWx1ZTogYW55KSA9PiBqc29uVmFsdWUpIHt9XG5cbiAgICBhc3luYyB2YWx1ZSgpOiBQcm9taXNlPFQ+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNmb3JtZXIoYXdhaXQgdGhpcy5yYXcuanNvbigpKTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBWb2lkQXBpUmVzcG9uc2Uge1xuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyByYXc6IFJlc3BvbnNlKSB7fVxuXG4gICAgYXN5bmMgdmFsdWUoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgQmxvYkFwaVJlc3BvbnNlIHtcbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgcmF3OiBSZXNwb25zZSkge31cblxuICAgIGFzeW5jIHZhbHVlKCk6IFByb21pc2U8QmxvYj4ge1xuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5yYXcuYmxvYigpO1xuICAgIH07XG59XG5cbmV4cG9ydCBjbGFzcyBUZXh0QXBpUmVzcG9uc2Uge1xuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyByYXc6IFJlc3BvbnNlKSB7fVxuXG4gICAgYXN5bmMgdmFsdWUoKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMucmF3LnRleHQoKTtcbiAgICB9O1xufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==