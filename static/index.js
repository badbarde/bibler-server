!function(e){function t(t){for(var n,s,u=t[0],c=t[1],i=t[2],f=0,d=[];f<u.length;f++)s=u[f],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&d.push(a[s][0]),a[s]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);for(l&&l(t);d.length;)d.shift()();return o.push.apply(o,i||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],n=!0,u=1;u<r.length;u++){var c=r[u];0!==a[c]&&(n=!1)}n&&(o.splice(t--,1),e=s(s.s=r[0]))}return e}var n={},a={2:0,1:0},o=[];function s(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=e,s.c=n,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(r,n,function(t){return e[t]}.bind(null,n));return r},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="";var u=window.webpackJsonp=window.webpackJsonp||[],c=u.push.bind(u);u.push=t,u=u.slice();for(var i=0;i<u.length;i++)t(u[i]);var l=c;o.push([449,0,3]),r()}({20:function(e,t,r){"use strict";r.r(t),r.d(t,"BASE_PATH",(function(){return R})),r.d(t,"BaseAPI",(function(){return Q})),r.d(t,"RequiredError",(function(){return K})),r.d(t,"COLLECTION_FORMATS",(function(){return P})),r.d(t,"Configuration",(function(){return D})),r.d(t,"exists",(function(){return I})),r.d(t,"querystring",(function(){return U})),r.d(t,"mapValues",(function(){return T})),r.d(t,"canConsumeForm",(function(){return N})),r.d(t,"JSONApiResponse",(function(){return q})),r.d(t,"VoidApiResponse",(function(){return J})),r.d(t,"BlobApiResponse",(function(){return O})),r.d(t,"TextApiResponse",(function(){return G}));var n=r(12),a=r.n(n),o=r(19),s=r.n(o),u=r(14),c=r.n(u),i=r(120),l=r.n(i),f=r(34),d=r.n(f),p=r(6),h=r.n(p),y=r(5),m=r.n(y),v=r(11),k=r.n(v),b=r(9),g=r.n(b),A=r(10),w=r.n(A);function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=c()(e);if(t){var a=c()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return s()(this,r)}}function B(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function C(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?B(Object(r),!0).forEach((function(t){m()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function x(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return S(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return S(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==r.return||r.return()}finally{if(u)throw o}}}}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var R="http://localhost:8000".replace(/\/+$/,""),Q=function(){function e(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new D;g()(this,e),this.configuration=r,this.fetchApi=function(){var e=k()(h.a.mark((function e(r,n){var a,o,s,u,c,i,l,f;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a={url:r,init:n},o=x(t.middleware),e.prev=2,o.s();case 4:if((s=o.n()).done){e.next=15;break}if(!(u=s.value).pre){e.next=13;break}return e.next=9,u.pre(C({fetch:t.fetchApi},a));case 9:if(e.t0=e.sent,e.t0){e.next=12;break}e.t0=a;case 12:a=e.t0;case 13:e.next=4;break;case 15:e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),o.e(e.t1);case 20:return e.prev=20,o.f(),e.finish(20);case 23:return e.next=25,t.configuration.fetchApi(a.url,a.init);case 25:c=e.sent,i=x(t.middleware),e.prev=27,i.s();case 29:if((l=i.n()).done){e.next=40;break}if(!(f=l.value).post){e.next=38;break}return e.next=34,f.post({fetch:t.fetchApi,url:r,init:n,response:c.clone()});case 34:if(e.t2=e.sent,e.t2){e.next=37;break}e.t2=c;case 37:c=e.t2;case 38:e.next=29;break;case 40:e.next=45;break;case 42:e.prev=42,e.t3=e.catch(27),i.e(e.t3);case 45:return e.prev=45,i.f(),e.finish(45);case 48:return e.abrupt("return",c);case 49:case"end":return e.stop()}}),e,null,[[2,17,20,23],[27,42,45,48]])})));return function(t,r){return e.apply(this,arguments)}}(),this.middleware=r.middleware}var t;return w()(e,[{key:"withMiddleware",value:function(){var e,t=this.clone();return t.middleware=(e=t.middleware).concat.apply(e,arguments),t}},{key:"withPreMiddleware",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t.map((function(e){return{pre:e}}));return this.withMiddleware.apply(this,d()(n))}},{key:"withPostMiddleware",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t.map((function(e){return{post:e}}));return this.withMiddleware.apply(this,d()(n))}},{key:"request",value:(t=k()(h.a.mark((function e(t){var r,n,a,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.createFetchParams(t),n=r.url,a=r.init,e.next=3,this.fetchApi(n,a);case 3:if(!((o=e.sent).status>=200&&o.status<300)){e.next=6;break}return e.abrupt("return",o);case 6:throw o;case 7:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"createFetchParams",value:function(e){var t=this.configuration.basePath+e.path;void 0!==e.query&&0!==Object.keys(e.query).length&&(t+="?"+this.configuration.queryParamsStringify(e.query));var r,n=e.body instanceof FormData||e.body instanceof URLSearchParams||(r=e.body,"undefined"!=typeof Blob&&r instanceof Blob)?e.body:JSON.stringify(e.body),a=Object.assign({},this.configuration.headers,e.headers);return{url:t,init:{method:e.method,headers:a,body:n,credentials:this.configuration.credentials}}}},{key:"clone",value:function(){var e=new(0,this.constructor)(this.configuration);return e.middleware=this.middleware.slice(),e}}]),e}(),K=function(e){a()(r,e);var t=E(r);function r(e,n){var a;return g()(this,r),(a=t.call(this,n)).field=e,a.name="RequiredError",a}return r}(l()(Error)),P={csv:",",ssv:" ",tsv:"\t",pipes:"|"},D=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};g()(this,e),this.configuration=t}return w()(e,[{key:"basePath",get:function(){return null!=this.configuration.basePath?this.configuration.basePath:R}},{key:"fetchApi",get:function(){return this.configuration.fetchApi||window.fetch.bind(window)}},{key:"middleware",get:function(){return this.configuration.middleware||[]}},{key:"queryParamsStringify",get:function(){return this.configuration.queryParamsStringify||U}},{key:"username",get:function(){return this.configuration.username}},{key:"password",get:function(){return this.configuration.password}},{key:"apiKey",get:function(){var e=this.configuration.apiKey;if(e)return"function"==typeof e?e:function(){return e}}},{key:"accessToken",get:function(){var e=this.configuration.accessToken;if(e)return"function"==typeof e?e:function(){return e}}},{key:"headers",get:function(){return this.configuration.headers}},{key:"credentials",get:function(){return this.configuration.credentials}}]),e}();function I(e,t){var r=e[t];return null!=r}function U(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Object.keys(e).map((function(r){var n=t+(t.length?"[".concat(r,"]"):r),a=e[r];if(a instanceof Array){var o=a.map((function(e){return encodeURIComponent(String(e))})).join("&".concat(encodeURIComponent(n),"="));return"".concat(encodeURIComponent(n),"=").concat(o)}return a instanceof Object?U(a,n):"".concat(encodeURIComponent(n),"=").concat(encodeURIComponent(String(a)))})).filter((function(e){return e.length>0})).join("&")}function T(e,t){return Object.keys(e).reduce((function(r,n){return C(C({},r),{},m()({},n,t(e[n])))}),{})}function N(e){var t,r=x(e);try{for(r.s();!(t=r.n()).done;){if("multipart/form-data"===t.value.contentType)return!0}}catch(e){r.e(e)}finally{r.f()}return!1}var q=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e};g()(this,e),this.raw=t,this.transformer=r}var t;return w()(e,[{key:"value",value:(t=k()(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this,e.next=3,this.raw.json();case 3:return e.t1=e.sent,e.abrupt("return",e.t0.transformer.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),e}(),J=function(){function e(t){g()(this,e),this.raw=t}var t;return w()(e,[{key:"value",value:(t=k()(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",void 0);case 1:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})}]),e}(),O=function(){function e(t){g()(this,e),this.raw=t}var t;return w()(e,[{key:"value",value:(t=k()(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.raw.blob();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),e}(),G=function(){function e(t){g()(this,e),this.raw=t}var t;return w()(e,[{key:"value",value:(t=k()(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.raw.text();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),e}()},449:function(e,t,r){"use strict";r.r(t);var n,a,o,s,u,c=r(1),i=r.n(c),l=r(33),f=r.n(l),d=r(9),p=r.n(d),h=r(10),y=r.n(h),m=r(12),v=r.n(m),k=r(19),b=r.n(k),g=r(14),A=r.n(g),w=r(457),E=r(68),B=(r(240),r(166)),C=r.n(B),x=r(51),S=r(228),R=r(6),Q=r.n(R),K=r(11),P=r.n(K),D=r(466),I=r(476),U=r(461),T=r(49),N=r(20);function q(e){return function(e,t){if(null==e)return e;return{key:e.key,title:e.title,author:e.author,publisher:e.publisher,number:e.number,shorthand:e.shorthand,category:e.category,isbn:Object(N.exists)(e,"isbn")?e.isbn:void 0,media:Object(N.exists)(e,"media")?F(e.media):void 0}}(e)}function J(e){if(void 0!==e)return null===e?null:{key:e.key,title:e.title,author:e.author,publisher:e.publisher,number:e.number,shorthand:e.shorthand,category:e.category,isbn:e.isbn,media:L(e.media)}}function O(e){return function(e,t){if(null==e)return e;return{status:G(e.status),returnDate:Object(N.exists)(e,"return_date")?new Date(e.return_date):void 0}}(e)}function G(e){return function(e,t){return e}(e)}function j(e){return function(e,t){if(null==e)return e;return{name:e.name,color:e.color}}(e)}function z(e){return function(e,t){if(null==e)return e;return{status:M(e.status),returnDate:Object(N.exists)(e,"return_date")?new Date(e.return_date):void 0}}(e)}function M(e){return function(e,t){return e}(e)}function F(e){return function(e,t){if(null==e)return e;return{cover:e.cover}}(e)}function L(e){if(void 0!==e)return null===e?null:{cover:e.cover}}function Y(e){return function(e,t){if(null==e)return e;return{status:H(e.status)}}(e)}function H(e){return function(e,t){return e}(e)}function Z(e){return function(e,t){if(null==e)return e;return{status:V(e.status)}}(e)}function V(e){return function(e,t){return e}(e)}function W(e){return function(e,t){if(null==e)return e;return{status:X(e.status)}}(e)}function X(e){return function(e,t){return e}(e)}function _(e){return function(e,t){if(null==e)return e;return{firstname:e.firstname,lastname:e.lastname,classname:Object(N.exists)(e,"classname")?e.classname:void 0}}(e)}function $(e){if(void 0!==e)return null===e?null:{firstname:e.firstname,lastname:e.lastname,classname:e.classname}}function ee(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=A()(e);if(t){var a=A()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return b()(this,r)}}!function(e){e.SuccessfullyBorrowed="successfully borrowed",e.AlreadyBorrowed="already borrowed",e.UserUnknown="user unknown",e.MaximumNumberObBooksAlreadyBorrowed="maximum number ob books already borrowed"}(n||(n={})),function(e){e.SuccessfullyExtended="successfully extended",e.BookNotBorrowed="book not borrowed",e.UserUnknown="user unknown",e.MaximumBorrowPeriodReached="maximum borrow period reached"}(a||(a={})),function(e){e.Created="book created",e.NotCreated="book not created"}(o||(o={})),function(e){e.Created="user created",e.NotCreated="user not created"}(s||(s={})),function(e){e.SuccessfullyReturned="successfully returned",e.BookNotBorrowed="book not borrowed",e.UserUnknown="user unknown",e.BookUnknown="book unknown"}(u||(u={}));var te=function(e){v()(ue,e);var t,r,n,a,o,s,u,c,i,l,f,d,h,m,k,b,g,A,w,E,B,C,x,S,R,K,D,I,U,T,q,G,M,F,L,H,V,X,_,te,re,ne,ae,oe,se=ee(ue);function ue(){return p()(this,ue),se.apply(this,arguments)}return y()(ue,[{key:"bookCoverExistesMediaExistsBookKeyGetRaw",value:(oe=P()(Q.a.mark((function e(t){var r,n,a;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t.bookKey&&void 0!==t.bookKey){e.next=2;break}throw new N.RequiredError("bookKey","Required parameter requestParameters.bookKey was null or undefined when calling bookCoverExistesMediaExistsBookKeyGet.");case 2:return r={},n={},e.next=6,this.request({path:"/media/exists/{book_key}".replace("{".concat("book_key","}"),encodeURIComponent(String(t.bookKey))),method:"GET",headers:n,query:r});case 6:return a=e.sent,e.abrupt("return",new N.TextApiResponse(a));case 8:case"end":return e.stop()}}),e,this)}))),function(e){return oe.apply(this,arguments)})},{key:"bookCoverExistesMediaExistsBookKeyGet",value:(ae=P()(Q.a.mark((function e(t){var r;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.bookCoverExistesMediaExistsBookKeyGetRaw(t);case 2:return r=e.sent,e.next=5,r.value();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)}))),function(e){return ae.apply(this,arguments)})},{key:"borrowBookBorrowUserKeyBookKeyPatchRaw",value:(ne=P()(Q.a.mark((function e(t){var r,n,a;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t.userKey&&void 0!==t.userKey){e.next=2;break}throw new N.RequiredError("userKey","Required parameter requestParameters.userKey was null or undefined when calling borrowBookBorrowUserKeyBookKeyPatch.");case 2:if(null!==t.bookKey&&void 0!==t.bookKey){e.next=4;break}throw new N.RequiredError("bookKey","Required parameter requestParameters.bookKey was null or undefined when calling borrowBookBorrowUserKeyBookKeyPatch.");case 4:return r={},void 0!==t.duration&&(r.duration=t.duration),n={},e.next=9,this.request({path:"/borrow/{user_key}/{book_key}".replace("{".concat("user_key","}"),encodeURIComponent(String(t.userKey))).replace("{".concat("book_key","}"),encodeURIComponent(String(t.bookKey))),method:"PATCH",headers:n,query:r});case 9:return a=e.sent,e.abrupt("return",new N.JSONApiResponse(a,(function(e){return O(e)})));case 11:case"end":return e.stop()}}),e,this)}))),function(e){return ne.apply(this,arguments)})},{key:"borrowBookBorrowUserKeyBookKeyPatch",value:(re=P()(Q.a.mark((function e(t){var r;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.borrowBookBorrowUserKeyBookKeyPatchRaw(t);case 2:return r=e.sent,e.next=5,r.value();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)}))),function(e){return re.apply(this,arguments)})},{key:"dbPutBookBookPutRaw",value:(te=P()(Q.a.mark((function e(t){var r,n,a;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t.book&&void 0!==t.book){e.next=2;break}throw new N.RequiredError("book","Required parameter requestParameters.book was null or undefined when calling dbPutBookBookPut.");case 2:return r={},(n={})["Content-Type"]="application/json",e.next=7,this.request({path:"/book",method:"PUT",headers:n,query:r,body:J(t.book)});case 7:return a=e.sent,e.abrupt("return",new N.JSONApiResponse(a,(function(e){return Y(e)})));case 9:case"end":return e.stop()}}),e,this)}))),function(e){return te.apply(this,arguments)})},{key:"dbPutBookBookPut",value:(_=P()(Q.a.mark((function e(t){var r;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.dbPutBookBookPutRaw(t);case 2:return r=e.sent,e.next=5,r.value();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)}))),function(e){return _.apply(this,arguments)})},{key:"exportBooksCsvBooksExportCsvGetRaw",value:(X=P()(Q.a.mark((function e(){var t,r,n;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},r={},e.next=4,this.request({path:"/books/export/csv/",method:"GET",headers:r,query:t});case 4:return n=e.sent,e.abrupt("return",new N.VoidApiResponse(n));case 6:case"end":return e.stop()}}),e,this)}))),function(){return X.apply(this,arguments)})},{key:"exportBooksCsvBooksExportCsvGet",value:(V=P()(Q.a.mark((function e(){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.exportBooksCsvBooksExportCsvGetRaw();case 2:case"end":return e.stop()}}),e,this)}))),function(){return V.apply(this,arguments)})},{key:"exportBooksCsvUsersExportCsvGetRaw",value:(H=P()(Q.a.mark((function e(){var t,r,n;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},r={},e.next=4,this.request({path:"/users/export/csv/",method:"GET",headers:r,query:t});case 4:return n=e.sent,e.abrupt("return",new N.VoidApiResponse(n));case 6:case"end":return e.stop()}}),e,this)}))),function(){return H.apply(this,arguments)})},{key:"exportBooksCsvUsersExportCsvGet",value:(L=P()(Q.a.mark((function e(){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.exportBooksCsvUsersExportCsvGetRaw();case 2:case"end":return e.stop()}}),e,this)}))),function(){return L.apply(this,arguments)})},{key:"extendBorrowPeriodExtendUserKeyBookKeyPatchRaw",value:(F=P()(Q.a.mark((function e(t){var r,n,a;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t.userKey&&void 0!==t.userKey){e.next=2;break}throw new N.RequiredError("userKey","Required parameter requestParameters.userKey was null or undefined when calling extendBorrowPeriodExtendUserKeyBookKeyPatch.");case 2:if(null!==t.bookKey&&void 0!==t.bookKey){e.next=4;break}throw new N.RequiredError("bookKey","Required parameter requestParameters.bookKey was null or undefined when calling extendBorrowPeriodExtendUserKeyBookKeyPatch.");case 4:return r={},void 0!==t.duration&&(r.duration=t.duration),n={},e.next=9,this.request({path:"/extend/{user_key}/{book_key}".replace("{".concat("user_key","}"),encodeURIComponent(String(t.userKey))).replace("{".concat("book_key","}"),encodeURIComponent(String(t.bookKey))),method:"PATCH",headers:n,query:r});case 9:return a=e.sent,e.abrupt("return",new N.JSONApiResponse(a,(function(e){return z(e)})));case 11:case"end":return e.stop()}}),e,this)}))),function(e){return F.apply(this,arguments)})},{key:"extendBorrowPeriodExtendUserKeyBookKeyPatch",value:(M=P()(Q.a.mark((function e(t){var r;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.extendBorrowPeriodExtendUserKeyBookKeyPatchRaw(t);case 2:return r=e.sent,e.next=5,r.value();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)}))),function(e){return M.apply(this,arguments)})},{key:"getAvailableBooksBooksAvailableGetRaw",value:(G=P()(Q.a.mark((function e(){var t,r,n;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},r={},e.next=4,this.request({path:"/books/available",method:"GET",headers:r,query:t});case 4:return n=e.sent,e.abrupt("return",new N.JSONApiResponse(n));case 6:case"end":return e.stop()}}),e,this)}))),function(){return G.apply(this,arguments)})},{key:"getAvailableBooksBooksAvailableGet",value:(q=P()(Q.a.mark((function e(){var t;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getAvailableBooksBooksAvailableGetRaw();case 2:return t=e.sent,e.next=5,t.value();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)}))),function(){return q.apply(this,arguments)})},{key:"getBookCoverMediaBookKeyGetRaw",value:(T=P()(Q.a.mark((function e(t){var r,n,a;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t.bookKey&&void 0!==t.bookKey){e.next=2;break}throw new N.RequiredError("bookKey","Required parameter requestParameters.bookKey was null or undefined when calling getBookCoverMediaBookKeyGet.");case 2:return r={},n={},e.next=6,this.request({path:"/media/{book_key}".replace("{".concat("book_key","}"),encodeURIComponent(String(t.bookKey))),method:"GET",headers:n,query:r});case 6:return a=e.sent,e.abrupt("return",new N.JSONApiResponse(a));case 8:case"end":return e.stop()}}),e,this)}))),function(e){return T.apply(this,arguments)})},{key:"getBookCoverMediaBookKeyGet",value:(U=P()(Q.a.mark((function e(t){var r;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getBookCoverMediaBookKeyGetRaw(t);case 2:return r=e.sent,e.next=5,r.value();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)}))),function(e){return U.apply(this,arguments)})},{key:"getBooksBooksGetRaw",value:(I=P()(Q.a.mark((function e(t){var r,n,a;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={},void 0!==t.userKey&&(r.user_key=t.userKey),n={},e.next=5,this.request({path:"/books",method:"GET",headers:n,query:r});case 5:return a=e.sent,e.abrupt("return",new N.JSONApiResponse(a));case 7:case"end":return e.stop()}}),e,this)}))),function(e){return I.apply(this,arguments)})},{key:"getBooksBooksGet",value:(D=P()(Q.a.mark((function e(t){var r;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getBooksBooksGetRaw(t);case 2:return r=e.sent,e.next=5,r.value();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)}))),function(e){return D.apply(this,arguments)})},{key:"getBooksCountStatsBooksCountGetRaw",value:(K=P()(Q.a.mark((function e(){var t,r,n;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},r={},e.next=4,this.request({path:"/stats/books/count",method:"GET",headers:r,query:t});case 4:return n=e.sent,e.abrupt("return",new N.JSONApiResponse(n));case 6:case"end":return e.stop()}}),e,this)}))),function(){return K.apply(this,arguments)})},{key:"getBooksCountStatsBooksCountGet",value:(R=P()(Q.a.mark((function e(){var t;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getBooksCountStatsBooksCountGetRaw();case 2:return t=e.sent,e.next=5,t.value();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)}))),function(){return R.apply(this,arguments)})},{key:"getBooksCountStatsUsersCountGetRaw",value:(S=P()(Q.a.mark((function e(){var t,r,n;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},r={},e.next=4,this.request({path:"/stats/users/count",method:"GET",headers:r,query:t});case 4:return n=e.sent,e.abrupt("return",new N.JSONApiResponse(n));case 6:case"end":return e.stop()}}),e,this)}))),function(){return S.apply(this,arguments)})},{key:"getBooksCountStatsUsersCountGet",value:(x=P()(Q.a.mark((function e(){var t;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getBooksCountStatsUsersCountGetRaw();case 2:return t=e.sent,e.next=5,t.value();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)}))),function(){return x.apply(this,arguments)})},{key:"getBorrowedCountStatsBooksBorrowedGetRaw",value:(C=P()(Q.a.mark((function e(){var t,r,n;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},r={},e.next=4,this.request({path:"/stats/books/borrowed",method:"GET",headers:r,query:t});case 4:return n=e.sent,e.abrupt("return",new N.JSONApiResponse(n));case 6:case"end":return e.stop()}}),e,this)}))),function(){return C.apply(this,arguments)})},{key:"getBorrowedCountStatsBooksBorrowedGet",value:(B=P()(Q.a.mark((function e(){var t;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getBorrowedCountStatsBooksBorrowedGetRaw();case 2:return t=e.sent,e.next=5,t.value();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)}))),function(){return B.apply(this,arguments)})},{key:"getBorrowingUsersUsersBorrowingGetRaw",value:(E=P()(Q.a.mark((function e(){var t,r,n;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},r={},e.next=4,this.request({path:"/users/borrowing",method:"GET",headers:r,query:t});case 4:return n=e.sent,e.abrupt("return",new N.JSONApiResponse(n));case 6:case"end":return e.stop()}}),e,this)}))),function(){return E.apply(this,arguments)})},{key:"getBorrowingUsersUsersBorrowingGet",value:(w=P()(Q.a.mark((function e(){var t;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getBorrowingUsersUsersBorrowingGetRaw();case 2:return t=e.sent,e.next=5,t.value();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)}))),function(){return w.apply(this,arguments)})},{key:"getCategoryCategoryGetRaw",value:(A=P()(Q.a.mark((function e(){var t,r,n;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},r={},e.next=4,this.request({path:"/category",method:"GET",headers:r,query:t});case 4:return n=e.sent,e.abrupt("return",new N.JSONApiResponse(n,(function(e){return e.map(j)})));case 6:case"end":return e.stop()}}),e,this)}))),function(){return A.apply(this,arguments)})},{key:"getCategoryCategoryGet",value:(g=P()(Q.a.mark((function e(){var t;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getCategoryCategoryGetRaw();case 2:return t=e.sent,e.next=5,t.value();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)}))),function(){return g.apply(this,arguments)})},{key:"getOverdueCountStatsBooksOverdueGetRaw",value:(b=P()(Q.a.mark((function e(){var t,r,n;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},r={},e.next=4,this.request({path:"/stats/books/overdue",method:"GET",headers:r,query:t});case 4:return n=e.sent,e.abrupt("return",new N.JSONApiResponse(n));case 6:case"end":return e.stop()}}),e,this)}))),function(){return b.apply(this,arguments)})},{key:"getOverdueCountStatsBooksOverdueGet",value:(k=P()(Q.a.mark((function e(){var t;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOverdueCountStatsBooksOverdueGetRaw();case 2:return t=e.sent,e.next=5,t.value();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)}))),function(){return k.apply(this,arguments)})},{key:"getUsersUsersGetRaw",value:(m=P()(Q.a.mark((function e(){var t,r,n;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},r={},e.next=4,this.request({path:"/users",method:"GET",headers:r,query:t});case 4:return n=e.sent,e.abrupt("return",new N.JSONApiResponse(n));case 6:case"end":return e.stop()}}),e,this)}))),function(){return m.apply(this,arguments)})},{key:"getUsersUsersGet",value:(h=P()(Q.a.mark((function e(){var t;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getUsersUsersGetRaw();case 2:return t=e.sent,e.next=5,t.value();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)}))),function(){return h.apply(this,arguments)})},{key:"importBooksCsvBooksImportCsvPostRaw",value:(d=P()(Q.a.mark((function e(t){var r,n,a,o,s,u;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t.file&&void 0!==t.file){e.next=2;break}throw new N.RequiredError("file","Required parameter requestParameters.file was null or undefined when calling importBooksCsvBooksImportCsvPost.");case 2:return r={},n={},a=[{contentType:"multipart/form-data"}],o=N.canConsumeForm(a),s=o?new FormData:new URLSearchParams,void 0!==t.file&&s.append("file",t.file),e.next=12,this.request({path:"/books/import/csv/",method:"POST",headers:n,query:r,body:s});case 12:return u=e.sent,e.abrupt("return",new N.JSONApiResponse(u));case 14:case"end":return e.stop()}}),e,this)}))),function(e){return d.apply(this,arguments)})},{key:"importBooksCsvBooksImportCsvPost",value:(f=P()(Q.a.mark((function e(t){var r;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.importBooksCsvBooksImportCsvPostRaw(t);case 2:return r=e.sent,e.next=5,r.value();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)}))),function(e){return f.apply(this,arguments)})},{key:"importUserCsvUsersImportCsvPostRaw",value:(l=P()(Q.a.mark((function e(t){var r,n,a,o,s,u;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t.file&&void 0!==t.file){e.next=2;break}throw new N.RequiredError("file","Required parameter requestParameters.file was null or undefined when calling importUserCsvUsersImportCsvPost.");case 2:return r={},n={},a=[{contentType:"multipart/form-data"}],o=N.canConsumeForm(a),s=o?new FormData:new URLSearchParams,void 0!==t.file&&s.append("file",t.file),e.next=12,this.request({path:"/users/import/csv/",method:"POST",headers:n,query:r,body:s});case 12:return u=e.sent,e.abrupt("return",new N.JSONApiResponse(u));case 14:case"end":return e.stop()}}),e,this)}))),function(e){return l.apply(this,arguments)})},{key:"importUserCsvUsersImportCsvPost",value:(i=P()(Q.a.mark((function e(t){var r;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.importUserCsvUsersImportCsvPostRaw(t);case 2:return r=e.sent,e.next=5,r.value();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"indexGetRaw",value:(c=P()(Q.a.mark((function e(){var t,r,n;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},r={},e.next=4,this.request({path:"/",method:"GET",headers:r,query:t});case 4:return n=e.sent,e.abrupt("return",new N.JSONApiResponse(n));case 6:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)})},{key:"indexGet",value:(u=P()(Q.a.mark((function e(){var t;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.indexGetRaw();case 2:return t=e.sent,e.next=5,t.value();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"isBorrowedBookBorrowedBookKeyGetRaw",value:(s=P()(Q.a.mark((function e(t){var r,n,a;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t.bookKey&&void 0!==t.bookKey){e.next=2;break}throw new N.RequiredError("bookKey","Required parameter requestParameters.bookKey was null or undefined when calling isBorrowedBookBorrowedBookKeyGet.");case 2:return r={},n={},e.next=6,this.request({path:"/book/borrowed/{book_key}".replace("{".concat("book_key","}"),encodeURIComponent(String(t.bookKey))),method:"GET",headers:n,query:r});case 6:return a=e.sent,e.abrupt("return",new N.TextApiResponse(a));case 8:case"end":return e.stop()}}),e,this)}))),function(e){return s.apply(this,arguments)})},{key:"isBorrowedBookBorrowedBookKeyGet",value:(o=P()(Q.a.mark((function e(t){var r;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.isBorrowedBookBorrowedBookKeyGetRaw(t);case 2:return r=e.sent,e.next=5,r.value();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"putUserUserPutRaw",value:(a=P()(Q.a.mark((function e(t){var r,n,a;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t.userIn&&void 0!==t.userIn){e.next=2;break}throw new N.RequiredError("userIn","Required parameter requestParameters.userIn was null or undefined when calling putUserUserPut.");case 2:return r={},(n={})["Content-Type"]="application/json",e.next=7,this.request({path:"/user",method:"PUT",headers:n,query:r,body:$(t.userIn)});case 7:return a=e.sent,e.abrupt("return",new N.JSONApiResponse(a,(function(e){return Z(e)})));case 9:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"putUserUserPut",value:(n=P()(Q.a.mark((function e(t){var r;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.putUserUserPutRaw(t);case 2:return r=e.sent,e.next=5,r.value();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"returnBookReturnUserKeyBookKeyPatchRaw",value:(r=P()(Q.a.mark((function e(t){var r,n,a;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t.userKey&&void 0!==t.userKey){e.next=2;break}throw new N.RequiredError("userKey","Required parameter requestParameters.userKey was null or undefined when calling returnBookReturnUserKeyBookKeyPatch.");case 2:if(null!==t.bookKey&&void 0!==t.bookKey){e.next=4;break}throw new N.RequiredError("bookKey","Required parameter requestParameters.bookKey was null or undefined when calling returnBookReturnUserKeyBookKeyPatch.");case 4:return r={},n={},e.next=8,this.request({path:"/return/{user_key}/{book_key}".replace("{".concat("user_key","}"),encodeURIComponent(String(t.userKey))).replace("{".concat("book_key","}"),encodeURIComponent(String(t.bookKey))),method:"PATCH",headers:n,query:r});case 8:return a=e.sent,e.abrupt("return",new N.JSONApiResponse(a,(function(e){return W(e)})));case 10:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"returnBookReturnUserKeyBookKeyPatch",value:(t=P()(Q.a.mark((function e(t){var r;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.returnBookReturnUserKeyBookKeyPatchRaw(t);case 2:return r=e.sent,e.next=5,r.value();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),ue}(N.BaseAPI);function re(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=A()(e);if(t){var a=A()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return b()(this,r)}}var ne=new te,ae=function(e){v()(r,e);var t=re(r);function r(e){var n;return p()(this,r),(n=t.call(this,e)).save=P()(Q.a.mark((function e(){var t,r,a;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.state.record,r=!1,""==t.title&&(D.b.error("Titel darf nicht leer sein"),r=!0),""==t.author&&(D.b.error("Autor darf nicht leer sein"),r=!0),""==t.number&&(D.b.error("Nummer darf nicht leer sein"),r=!0),""==t.publisher&&(D.b.error("Verlag darf nicht leer sein"),r=!0),""==t.shorthand&&(D.b.error("Kürzel darf nicht leer sein"),r=!0),!r){e.next=9;break}return e.abrupt("return");case 9:return e.next=11,ne.dbPutBookBookPut({book:q(t)});case 11:a=e.sent,e.t0=a.status,e.next=e.t0===o.Created?15:e.t0===o.NotCreated?17:19;break;case 15:return D.b.success("Buch wurde gespeichert"),e.abrupt("break",21);case 17:return D.b.error("Buch konnte nicht gespeichert werden"),e.abrupt("break",21);case 19:return D.b.error("Es ist ein Fehler aufgetreten"),e.abrupt("break",21);case 21:setTimeout((function(){return n.setState({loading:!1,record:{key:0,author:"",category:"",isbn:"",number:"",publisher:"",shorthand:"",title:""}})}),1e3);case 22:case"end":return e.stop()}}),e)}))),n.state={record:{key:0,author:"",category:"",isbn:"",number:"",publisher:"",shorthand:"",title:""},loading:!1},n}return y()(r,[{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"borrow-form-workflow"},i.a.createElement("form",{style:{padding:"1rem"}},i.a.createElement("h1",{style:{fontSize:"2rem"}},"Buch hinzufügen"),i.a.createElement("input",{id:"book-key",name:"book-key",style:{visibility:"hidden",pointerEvents:"none",display:"none"}}),i.a.createElement("div",{style:{display:"grid",gridTemplateColumns:"auto 1fr"}},i.a.createElement("div",{style:{display:"1/2"}},i.a.createElement(I.b,{direction:"vertical"},i.a.createElement("label",null,"Titel"),i.a.createElement(U.a,{required:!0,placeholder:"Titel",onChange:function(t){var r=e.state.record;r.title=t.target.value,e.setState({record:r})}}),i.a.createElement("label",null,"Autor"),i.a.createElement(U.a,{required:!0,placeholder:"Autor",onChange:function(t){var r=e.state.record;r.author=t.target.value,e.setState({record:r})}}),i.a.createElement("label",null,"Verlag"),i.a.createElement(U.a,{required:!0,placeholder:"Verlag",onChange:function(t){var r=e.state.record;r.publisher=t.target.value,e.setState({record:r})}}),i.a.createElement("label",null,"Kategorie"),i.a.createElement(U.a,{placeholder:"Kategorie",onChange:function(t){var r=e.state.record;r.category=t.target.value,e.setState({record:r})}}))),i.a.createElement("div",{style:{display:"2/3",marginInline:"1rem"}},i.a.createElement(I.b,{direction:"vertical"},i.a.createElement("label",null,"Kürzel"),i.a.createElement(U.a,{required:!0,placeholder:"Kürzel",onChange:function(t){var r=e.state.record;r.shorthand=t.target.value,e.setState({record:r})}}),i.a.createElement("label",null,"Nummer"),i.a.createElement(U.a,{required:!0,placeholder:"Nummer",onChange:function(t){var r=e.state.record;r.number=t.target.value,e.setState({record:r})}}),i.a.createElement("label",null,"ISBN"),i.a.createElement(U.a,{placeholder:"ISBN",onChange:function(t){var r=e.state.record;r.isbn=t.target.value,e.setState({record:r})}})))),i.a.createElement("div",{style:{marginBlock:"1rem",justifySelf:"end"}},i.a.createElement(T.a,{size:"large",shape:"round",type:"primary",onClick:this.save},"Speichern"))))}}]),r}(i.a.Component),oe=r(2),se=r.n(oe),ue=r(468),ce=r(469),ie=r(103),le=r.n(ie);function fe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=A()(e);if(t){var a=A()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return b()(this,r)}}var de,pe=function(e){v()(r,e);var t=fe(r);function r(){var e,n;p()(this,r);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return b()(n,(e=n=t.call.apply(t,[this].concat(o)),n.state={loading:!1},e))}return y()(r,[{key:"render",value:function(){var e={name:"file",action:"".concat(N.BASE_PATH,"/books/import/csv"),headers:{authorization:"authorization-text"},onChange:function(e){"uploading"!==e.file.status&&console.log(e.file,e.fileList),"done"===e.file.status?D.b.success("".concat(e.file.name," file uploaded successfully")):"error"===e.file.status&&D.b.error("".concat(e.file.name," file upload failed."))}};return i.a.createElement("div",{style:{padding:"1rem"}},i.a.createElement(I.b,{direction:"vertical"},i.a.createElement(le.a,se()({style:{padding:"1rem"}},e),i.a.createElement("p",{className:"ant-upload-drag-icon"},i.a.createElement(ue.a,null)),i.a.createElement("h1",null,"Bücherliste importieren"),i.a.createElement("p",null,"Wähle eine CSV Datei mit Büchern aus, die importiert werden sollen. "),i.a.createElement("p",null,"Stelle sicher, dass die Spalten wie folgt benannt sind:"),i.a.createElement("ul",null,i.a.createElement("li",null,"title: Pflicht"),i.a.createElement("li",null,"author: Pflicht"),i.a.createElement("li",null,"publisher: Pflicht"),i.a.createElement("li",null,"category: Optional"),i.a.createElement("li",null,"shorthand: Pflicht"),i.a.createElement("li",null,"number: Pflicht"),i.a.createElement("li",null,"isbn: Optional"))),i.a.createElement("div",null,i.a.createElement(T.a,{shape:"round",type:"primary",icon:i.a.createElement(ce.a,null),size:"large"},i.a.createElement("a",{style:{color:"white"},href:"".concat(N.BASE_PATH,"/books/export/csv")},"Download Bücherliste")))))}}]),r}(i.a.Component),he=r(470),ye=r(471),me=r(462),ve=r(453);function ke(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=A()(e);if(t){var a=A()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return b()(this,r)}}!function(e){e[e.CARD=0]="CARD",e[e.TABLE=1]="TABLE",e[e.DETAIL=2]="DETAIL"}(de||(de={}));var be=U.a.Search,ge=new ve.a(de.TABLE),Ae=new ve.a(""),we=function(e){v()(r,e);var t=ke(r);function r(){var e,n;p()(this,r);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return b()(n,(e=n=t.call.apply(t,[this].concat(o)),n.state={showAsTable:!1,title:"Bibler",subtitle:"Bücherei App"},n.getViewTypeToggleIcon=function(){return n.state.showAsTable?i.a.createElement(he.a,{style:{}}):i.a.createElement(ye.a,{style:{}})},n.handleViewTypeToggle=function(){var e=n.state.showAsTable,t=e?de.TABLE:de.CARD;ge.next(t),n.setState({showAsTable:!e})},n.onSearchChanged=function(e){var t=e.target.value;console.log("changes: ".concat(t)),Ae.next(t)},n.onSearch=function(e){console.log("seaching for: ".concat(e)),Ae.next(e)},e))}return y()(r,[{key:"render",value:function(){return i.a.createElement(me.a,{onBack:function(){return null},title:this.state.title,subTitle:this.state.subtitle,style:{color:"white",backgroundColor:"white",paddingTop:".5rem",paddingBottom:".3rem"},backIcon:i.a.createElement(x.d,{size:30}),extra:i.a.createElement("div",{style:{display:"grid",gridTemplateColumns:"auto 1fr"}},i.a.createElement("title",null,this.state.title," - ",this.state.subtitle),i.a.createElement("div",null,i.a.createElement(I.b,null,i.a.createElement(T.a,{type:"text",shape:"circle",size:"large"}),i.a.createElement("h1",{style:{color:"white"}},"Bibler"))),i.a.createElement("div",{style:{justifySelf:"end"}},i.a.createElement(I.b,null,i.a.createElement(be,{placeholder:"Suchen",size:"large",onChange:this.onSearchChanged,onSearch:this.onSearch}),i.a.createElement(T.a,{type:"text",shape:"circle",size:"large",onClick:this.handleViewTypeToggle,icon:this.getViewTypeToggleIcon()}))))})}}]),r}(i.a.Component),Ee=r(459),Be=r(463),Ce=r(474),xe=r(229);function Se(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=A()(e);if(t){var a=A()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return b()(this,r)}}var Re=Ee.a.Meta,Qe=new xe.a,Ke=new te,Pe=function(e){v()(r,e);var t=Se(r);function r(){var e,n;p()(this,r);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return b()(n,(e=n=t.call.apply(t,[this].concat(o)),n.state={data:[]},n.loadCategoryColors=P()(Q.a.mark((function e(){var t;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ke.getCategoryCategoryGet();case 2:t=e.sent,n.setState({categoryColors:t});case 4:case"end":return e.stop()}}),e)}))),e))}return y()(r,[{key:"componentDidMount",value:function(){this.loadCategoryColors()}},{key:"getCategoryColor",value:function(e){var t,r=this.state.categoryColors;if(null!=r)return null===(t=r.find((function(t){return t.name==e})))||void 0===t?void 0:t.color}},{key:"render",value:function(){var e=this.props.book;return i.a.createElement(Ee.a,{onClick:function(){return t=e,Qe.next(t);var t},hoverable:!0,style:{width:320},cover:i.a.createElement(Be.a,{alt:"example",src:"".concat(N.BASE_PATH,"/media/").concat(this.props.book.key),fallback:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMIAAADDCAYAAADQvc6UAAABRWlDQ1BJQ0MgUHJvZmlsZQAAKJFjYGASSSwoyGFhYGDIzSspCnJ3UoiIjFJgf8LAwSDCIMogwMCcmFxc4BgQ4ANUwgCjUcG3awyMIPqyLsis7PPOq3QdDFcvjV3jOD1boQVTPQrgSkktTgbSf4A4LbmgqISBgTEFyFYuLykAsTuAbJEioKOA7DkgdjqEvQHEToKwj4DVhAQ5A9k3gGyB5IxEoBmML4BsnSQk8XQkNtReEOBxcfXxUQg1Mjc0dyHgXNJBSWpFCYh2zi+oLMpMzyhRcASGUqqCZ16yno6CkYGRAQMDKMwhqj/fAIcloxgHQqxAjIHBEugw5sUIsSQpBobtQPdLciLEVJYzMPBHMDBsayhILEqEO4DxG0txmrERhM29nYGBddr//5/DGRjYNRkY/l7////39v///y4Dmn+LgeHANwDrkl1AuO+pmgAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAwqADAAQAAAABAAAAwwAAAAD9b/HnAAAHlklEQVR4Ae3dP3PTWBSGcbGzM6GCKqlIBRV0dHRJFarQ0eUT8LH4BnRU0NHR0UEFVdIlFRV7TzRksomPY8uykTk/zewQfKw/9znv4yvJynLv4uLiV2dBoDiBf4qP3/ARuCRABEFAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghgg0Aj8i0JO4OzsrPv69Wv+hi2qPHr0qNvf39+iI97soRIh4f3z58/u7du3SXX7Xt7Z2enevHmzfQe+oSN2apSAPj09TSrb+XKI/f379+08+A0cNRE2ANkupk+ACNPvkSPcAAEibACyXUyfABGm3yNHuAECRNgAZLuYPgEirKlHu7u7XdyytGwHAd8jjNyng4OD7vnz51dbPT8/7z58+NB9+/bt6jU/TI+AGWHEnrx48eJ/EsSmHzx40L18+fLyzxF3ZVMjEyDCiEDjMYZZS5wiPXnyZFbJaxMhQIQRGzHvWR7XCyOCXsOmiDAi1HmPMMQjDpbpEiDCiL358eNHurW/5SnWdIBbXiDCiA38/Pnzrce2YyZ4//59F3ePLNMl4PbpiL2J0L979+7yDtHDhw8vtzzvdGnEXdvUigSIsCLAWavHp/+qM0BcXMd/q25n1vF57TYBp0a3mUzilePj4+7k5KSLb6gt6ydAhPUzXnoPR0dHl79WGTNCfBnn1uvSCJdegQhLI1vvCk+fPu2ePXt2tZOYEV6/fn31dz+shwAR1sP1cqvLntbEN9MxA9xcYjsxS1jWR4AIa2Ibzx0tc44fYX/16lV6NDFLXH+YL32jwiACRBiEbf5KcXoTIsQSpzXx4N28Ja4BQoK7rgXiydbHjx/P25TaQAJEGAguWy0+2Q8PD6/Ki4R8EVl+bzBOnZY95fq9rj9zAkTI2SxdidBHqG9+skdw43borCXO/ZcJdraPWdv22uIEiLA4q7nvvCug8WTqzQveOH26fodo7g6uFe/a17W3+nFBAkRYENRdb1vkkz1CH9cPsVy/jrhr27PqMYvENYNlHAIesRiBYwRy0V+8iXP8+/fvX11Mr7L7ECueb/r48eMqm7FuI2BGWDEG8cm+7G3NEOfmdcTQw4h9/55lhm7DekRYKQPZF2ArbXTAyu4kDYB2YxUzwg0gi/41ztHnfQG26HbGel/crVrm7tNY+/1btkOEAZ2M05r4FB7r9GbAIdxaZYrHdOsgJ/wCEQY0J74TmOKnbxxT9n3FgGGWWsVdowHtjt9Nnvf7yQM2aZU/TIAIAxrw6dOnAWtZZcoEnBpNuTuObWMEiLAx1HY0ZQJEmHJ3HNvGCBBhY6jtaMoEiJB0Z29vL6ls58vxPcO8/zfrdo5qvKO+d3Fx8Wu8zf1dW4p/cPzLly/dtv9Ts/EbcvGAHhHyfBIhZ6NSiIBTo0LNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiEC/wGgKKC4YMA4TAAAAABJRU5ErkJggg=="})},i.a.createElement(Re,{title:this.props.book.title,description:this.props.book.author}),i.a.createElement("div",null,i.a.createElement("span",null,"Verlag: "),this.props.book.publisher),i.a.createElement("div",null,i.a.createElement("span",null,"Kategorie: ",i.a.createElement(Ce.a,{color:this.getCategoryColor(this.props.book.category)},this.props.book.category))),i.a.createElement("div",null,i.a.createElement("span",null,"ISBN: "),this.props.book.isbn),i.a.createElement("div",null,i.a.createElement("span",null,"Etikett: "),this.props.book.shorthand," ",this.props.book.number))}}]),r}(i.a.Component),De=r(135),Ie=r(73);function Ue(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=A()(e);if(t){var a=A()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return b()(this,r)}}var Te=new te,Ne=function(e){v()(n,e);var t,r=Ue(n);function n(){var e,t;p()(this,n);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return b()(t,(e=t=r.call.apply(r,[this].concat(o)),t.state={data:[],page:1,pageSize:12,filteredData:[]},t.searchFilterSub=null,t.loadData=P()(Q.a.mark((function e(){var r;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Te.getBooksBooksGet({});case 2:r=e.sent,console.log(r),t.setState({data:r,filteredData:r});case 5:case"end":return e.stop()}}),e)}))),e))}return y()(n,[{key:"componentDidMount",value:(t=P()(Q.a.mark((function e(){var t=this;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadData();case 2:this.searchFilterSub=Ae.subscribe((function(e){var r;console.log("filtering by: "+e);var n=new RegExp(".*"+e+".*"),a=null===(r=t.state.data)||void 0===r?void 0:r.filter((function(e){return Object.values(e).some((function(e){return null!=e&&n.test(e.toString())}))}));console.log("filterd books",a),t.setState({filteredData:a})}));case 3:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){var e;null===(e=this.searchFilterSub)||void 0===e||e.unsubscribe()}},{key:"render",value:function(){var e=this;return null!=this.state.filteredData?i.a.createElement("div",null,i.a.createElement("div",{style:{marginLeft:"1rem",marginTop:"1rem",display:"grid",gridGap:"1rem",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))"}},this.state.filteredData.slice(this.state.page-1,this.state.page+this.state.pageSize).map((function(e){return i.a.createElement(Pe,{key:"book-card"+e.key,book:e})}))),i.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},i.a.createElement(De.a,{style:{},defaultCurrent:1,current:this.state.page,onChange:function(t,r){return e.setState({page:t,pageSize:r})},total:this.state.filteredData.length}))):i.a.createElement(Ie.a,null)}}]),n}(i.a.Component),qe=r(467),Je=r(456),Oe=r(460),Ge=r(219),je=r.n(Ge),ze=r(165),Me=r.n(ze),Fe=r(473),Le=r(472),Ye=r(465),He=r(475),Ze=r(232);function Ve(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=A()(e);if(t){var a=A()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return b()(this,r)}}var We=new te,Xe=new xe.a,_e=function(e){v()(n,e);var t,r=Ve(n);function n(){var e,t;p()(this,n);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return b()(t,(e=t=r.call.apply(r,[this].concat(o)),t.state={data:[],filteredData:[]},t.searchFilterSub=null,t.loadData=P()(Q.a.mark((function e(){var r;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,We.getUsersUsersGet();case 2:r=e.sent,console.log(r),t.setState({data:r.map((function(e){return{user:e[0],borrowedBooks:e[1]}}))});case 5:case"end":return e.stop()}}),e)}))),t.filterData=function(e){var r;console.log("filtering by: "+e);var n=new RegExp(".*"+e+".*"),a=null===(r=t.state.data)||void 0===r?void 0:r.filter((function(e){return console.log("scanning: ",e),Object.values(e.user).some((function(e){return null!=e&&n.test(e.toString())}))}));console.log("filtered data: ",a),t.setState({filteredData:a})},e))}return y()(n,[{key:"componentDidMount",value:(t=P()(Q.a.mark((function e(){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadData();case 2:this.searchFilterSub=Ae.subscribe(this.filterData);case 3:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){var e;null===(e=this.searchFilterSub)||void 0===e||e.unsubscribe()}},{key:"handleClick",value:function(e){var t=this.state.data;if(null!=t&&null!=e){var r=t.find((function(t){return t.user.key==e}));null!=r&&(console.log("user: ".concat(r," selected")),function(e){Xe.next(e)}(r),console.log(r),this.setState({selectedRecord:r}))}}},{key:"render",value:function(){var e=this,t=function(e){var t=e.icon,r=e.text;return i.a.createElement(I.b,null,t,r)};if(console.log("rendering: ",this.state.filteredData),null!=this.state.filteredData&&0!=this.state.filteredData.length){console.log("rendering: ",this.state.filteredData);var r=this.state.filteredData.map((function(t){return{key:t.user.key,avatar:"",content:i.a.createElement("div",null),description:null!=t.user.classname?t.user.classname:"",href:"",icon:i.a.createElement(Fe.a,null),title:t.user.firstname+" "+t.user.lastname,borrowedBooks:t.borrowedBooks,selected:null!=e.state.selectedRecord&&e.state.selectedRecord.user.key==t.user.key}}));return i.a.createElement(He.b,{itemLayout:"vertical",size:"large",pagination:{onChange:function(e){console.log(e)},pageSize:10},dataSource:r,renderItem:function(r){var n=r.selected?{backgroundColor:"lightgray"}:{backgroundColor:"white"};return i.a.createElement(He.b.Item,{style:n,onClick:function(){return e.handleClick(r.key)},key:r.title,actions:[i.a.createElement(t,{icon:i.a.createElement(Le.a,null),text:"0",key:"list-vertical-like-o"}),i.a.createElement(t,{icon:i.a.createElement(Ye.a,null),text:"0",key:"list-vertical-message"}),i.a.createElement(t,{icon:i.a.createElement(x.b,null),text:r.borrowedBooks.toString(),key:"list-vertical-message"})],extra:i.a.createElement("div",null)},i.a.createElement(He.b.Item.Meta,{avatar:i.a.createElement(Ze.a,{icon:i.a.createElement(Fe.a,null),src:r.avatar}),title:i.a.createElement("a",{onClick:function(){return e.handleClick(r.key)}},r.title),description:r.description}),r.content)}})}return i.a.createElement(Ie.a,null)}}]),n}(i.a.Component);function $e(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=A()(e);if(t){var a=A()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return b()(this,r)}}var et=new xe.a,tt=function(e){v()(n,e);var t,r=$e(n);function n(){var e,t;p()(this,n);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return b()(t,(e=t=r.call.apply(r,[this].concat(o)),t.borrowModalSeachFilterSub=null,e))}return y()(n,[{key:"componentDidMount",value:(t=P()(Q.a.mark((function e(){var t;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Me()(A()(n.prototype),"componentDidMount",this).call(this),null===(t=this.searchFilterSub)||void 0===t||t.unsubscribe(),this.borrowModalSeachFilterSub=at.subscribe(this.filterData);case 3:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){var e;Me()(A()(n.prototype),"componentWillUnmount",this).call(this),null===(e=this.borrowModalSeachFilterSub)||void 0===e||e.unsubscribe()}},{key:"handleClick",value:function(e){var t=this.state.data;if(null!=t&&null!=e){var r=t.find((function(t){return t.user.key==e}));null!=r&&(console.log("user:",r),et.next(r),console.log(r),this.setState({selectedRecord:r}))}}}]),n}(_e);function rt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=A()(e);if(t){var a=A()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return b()(this,r)}}var nt=new te,at=new xe.a,ot=function(e){v()(o,e);var t,r=rt(o);function o(e){var t;return p()(this,o),(t=r.call(this,e)).state={loading:!1,borrowModalVisible:!1,borrowButtonDisabled:!1,isAlreadyBorrowed:!1,mediaExists:!1},t.usersTableSub=null,t.showBorrowingModal=function(){t.setState({borrowModalVisible:!0})},t.extendBorrowPeriod=P()(Q.a.mark((function e(){var r;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("extend book"),null==t.state.borrowingUser){e.next=14;break}return e.next=4,nt.extendBorrowPeriodExtendUserKeyBookKeyPatch({bookKey:t.props.book.key,userKey:t.state.borrowingUser.key});case 4:r=e.sent,e.t0=r.status,e.next=e.t0===a.SuccessfullyExtended?8:e.t0===a.MaximumBorrowPeriodReached?10:12;break;case 8:return D.b.success("Buch erfolgreich verlängert bis "+r.returnDate),e.abrupt("break",14);case 10:return D.b.error("Das Buch kann nicht weiter verlängert werden"),e.abrupt("break",14);case 12:return D.b.error("Ein fehler ist aufgetreten"),e.abrupt("break",14);case 14:case"end":return e.stop()}}),e)}))),t.returnBookAction=P()(Q.a.mark((function e(){var r;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.setState({borrowButtonDisabled:!0,loading:!0}),null==t.state.borrowingUser){e.next=7;break}return e.next=4,nt.returnBookReturnUserKeyBookKeyPatch({bookKey:t.props.book.key,userKey:t.state.borrowingUser.key});case 4:r=e.sent,console.log(r),null!=r&&r.status==u.SuccessfullyReturned?setTimeout((function(){D.b.success("Das Buch wurde erfolgreich zurück gegeben"),t.setState({borrowingUser:null,isAlreadyBorrowed:!1,loading:!1,borrowButtonDisabled:!1})}),1e3):D.b.error("Es ist ein Problem aufgetreten:"+r.status);case 7:case"end":return e.stop()}}),e)}))),t.handleOk=P()(Q.a.mark((function e(){var r,a;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.state.selectedUser,t.setState({loading:!0}),null==r){e.next=9;break}return console.log("borrowing user",r),e.next=6,nt.borrowBookBorrowUserKeyBookKeyPatch({bookKey:t.props.book.key,userKey:+r.key});case 6:a=e.sent,console.log(a),null!=a&&a.status==n.SuccessfullyBorrowed?setTimeout((function(){D.b.success("Das Buch wurde erfolgreich ausgeliehen"),t.setState({loading:!1,borrowModalVisible:!1,borrowButtonDisabled:!1,borrowingUser:r})}),1e3):D.b.success("Es ist ein Problem aufgetreten:"+a.status);case 9:case"end":return e.stop()}}),e)}))),t.handleCancel=function(){t.setState({borrowModalVisible:!1})},t.onSearch=function(){console.log("seach")},t.onSearchChanged=function(e){var t=e.target.value;console.log("changes: ".concat(t)),at.next(t)},null!=e.user&&(t.state.borrowingUser=e.user),t}return y()(o,[{key:"componentDidMount",value:(t=P()(Q.a.mark((function e(){var t,r,n=this;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nt.bookCoverExistesMediaExistsBookKeyGet({bookKey:this.props.book.key});case 2:return t=e.sent,e.next=5,nt.isBorrowedBookBorrowedBookKeyGet({bookKey:this.props.book.key});case 5:r=e.sent,this.setState({isAlreadyBorrowed:"false"!=r.replaceAll('"',"").toLowerCase(),mediaExists:"false"!=t.replaceAll('"',"").toLowerCase()}),this.usersTableSub=et.subscribe((function(e){n.setState({selectedUser:e.user})}));case 8:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){var e;null===(e=this.usersTableSub)||void 0===e||e.unsubscribe()}},{key:"render",value:function(){var e,t,r=this.state,n=r.borrowModalVisible,a=r.loading,o=r.selectedUser,s=r.borrowingUser,u=r.borrowButtonDisabled;return null!=s?(e=[i.a.createElement(T.a,{key:"action Zurückgeben",disabled:u,type:"primary",onClick:this.returnBookAction,loading:a,shape:"round",icon:i.a.createElement(x.b,null),size:"large"}," Zurückgeben"),i.a.createElement(T.a,{key:"action Verlängern",shape:"round",onClick:this.extendBorrowPeriod,icon:i.a.createElement(qe.a,null),type:"primary",size:"large"},"Verlängern")],t=i.a.createElement("div",null,i.a.createElement(Je.a,null),i.a.createElement("div",null,i.a.createElement("span",null,"Aktuell ausgeliehen an "),"".concat(s.firstname," ").concat(s.lastname)))):this.state.isAlreadyBorrowed?(e=[i.a.createElement(T.a,{key:"action Verliehen",disabled:!0,type:"primary",loading:!1,shape:"round",icon:i.a.createElement(x.b,null),size:"large"},"Verliehen")],t=i.a.createElement(i.a.Fragment,null)):(e=[i.a.createElement(T.a,{key:"action Ausleihen",disabled:u,type:"primary",onClick:this.showBorrowingModal,loading:a,shape:"round",icon:i.a.createElement(x.b,null),size:"large"},"Ausleihen")],t=i.a.createElement(i.a.Fragment,null)),i.a.createElement("div",{style:{padding:"1.5rem"}},i.a.createElement("h1",{style:{fontSize:"2rem"}},this.props.book.title),i.a.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr"}},i.a.createElement("div",{style:{height:"24rem",display:"inline-block",margin:".5rem"}},i.a.createElement(Be.a,{alt:"example",src:"".concat(N.BASE_PATH,"/media/").concat(this.props.book.key),height:"100%",fallback:"data:image/png;base64,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"})),i.a.createElement("div",{style:{display:"inline-block",marginTop:"1rem",fontSize:"1rem"}},i.a.createElement("div",null,i.a.createElement("span",null,"Autor: "),this.props.book.author),i.a.createElement("div",null,i.a.createElement("span",null,"Verlag: "),this.props.book.publisher),i.a.createElement("div",null,i.a.createElement("span",null,"Kategorie: "),this.props.book.category),i.a.createElement("div",null,i.a.createElement("span",null,"ISBN: "),this.props.book.isbn),i.a.createElement("div",null,i.a.createElement("span",null,"Etikett: "),this.props.book.shorthand," ",this.props.book.number),t),i.a.createElement("div",{style:{paddingBlock:"1rem"}},i.a.createElement(I.b,{direction:"vertical"},e),i.a.createElement(Oe.a,{visible:n,title:"Wer möchte "+this.props.book.title+" ausleihen?",onCancel:this.handleCancel,footer:[i.a.createElement(T.a,{key:"back",onClick:this.handleCancel}," Abbrechen "),i.a.createElement(T.a,{disabled:null==o,key:"submit",type:"primary",loading:a,onClick:this.handleOk}," Ausleihen ")]},i.a.createElement(je.a,{placeholder:"Suchen",size:"large",onChange:this.onSearchChanged,onSearch:this.onSearch}),i.a.createElement("div",{style:{marginBlock:"1rem"}},i.a.createElement(tt,{key:"user-borrow-select"}))))))}}]),o}(i.a.Component),st=r(458),ut=new Map([["self","Buch"],["key","Schlüssel"],["author","Autor"],["category","Kategorie"],["isbn","ISBN"],["number","Nummer"],["publisher","Verlag"],["shorthand","Etikett"],["title","Titel"]]),ct=new Map([["self","Benutzer*in"],["key","Schlüssel"],["firstname","Vorname"],["lastname","Nachname"],["classname","Klasse"],["borrowedBooks","Bücher ausgeliehen"]]),it=new Map([["start_date","Ausleihdatum"],["expiration_date","Rückgabefrist"],["return_date","Rückgabedatum"],["firstname","Vorname"],["lastname","Nachname"],["classname","Klasse"],["key","Schlüssel"],["author","Autor"],["category","Kategorie"],["isbn","ISBN"],["number","Nummer"],["publisher","Verlag"],["shorthand","Etikett"],["title","Titel"]]);function lt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=A()(e);if(t){var a=A()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return b()(this,r)}}var ft=new te,dt=new xe.a,pt=function(e){return dt.next(e)},ht=function(e){v()(a,e);var t,r,n=lt(a);function a(){var e,t;p()(this,a);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return b()(t,(e=t=n.call.apply(n,[this].concat(o)),t.state={data:[],colors:new Map},t.searchFilterSub=null,t.columnFilter=["key"],t.handleRecordClick=function(e,r){console.log("books table record clicked");var n=t.state.filteredData;e.preventDefault(),console.log(r,e),n&&null!=r&&(pt(r),t.setState({selectedRecord:r}))},t.loadCategoryColors=P()(Q.a.mark((function e(){var r;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ft.getCategoryCategoryGet();case 2:r=e.sent,t.setState({categoryColors:r});case 4:case"end":return e.stop()}}),e)}))),t.handleInput=function(e,r){var n=t.state.insertRecord;console.log(r,e.target.value),null==n&&(n={}),n[r]=e.target.value,t.setState({insertRecord:n})},t.insertRecord=P()(Q.a.mark((function e(){var r,n,a,o;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.state,n=r.insertRecord,a=r.data,null==n){e.next=15;break}return console.log(n),e.prev=3,e.next=6,ft.dbPutBookBookPut({book:q(n)});case 6:o=e.sent,console.log(o),null==a||a.unshift(q(n)),t.setState({data:a}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[3,12]])}))),t.handleRightClickRecord=function(e){e.preventDefault(),console.log("rightlick on "+e.target)},t.handleRowClick=function(e){console.log(e)},e))}return y()(a,[{key:"loadData",value:(r=P()(Q.a.mark((function e(){var t,r;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ft.getBooksBooksGet({userKey:null===(t=this.props.userFilter)||void 0===t?void 0:t.key});case 2:r=e.sent,console.log(r),this.setState({data:r,filteredData:r});case 5:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"componentDidMount",value:(t=P()(Q.a.mark((function e(){var t=this;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadCategoryColors();case 2:return e.next=4,this.loadData();case 4:this.searchFilterSub=Ae.subscribe((function(e){var r;console.log("filtering by: "+e);var n=new RegExp(".*"+e+".*"),a=null===(r=t.state.data)||void 0===r?void 0:r.filter((function(e){return Object.values(e).some((function(e){return null!=e&&n.test(e.toString())}))}));console.log("filterd books",a),t.setState({filteredData:a})}));case 5:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){var e;null===(e=this.searchFilterSub)||void 0===e||e.unsubscribe()}},{key:"getCategoryColor",value:function(e){var t,r=this.state.categoryColors;if(null!=r)return null===(t=r.find((function(t){return t.name==e})))||void 0===t?void 0:t.color}},{key:"renderCol",value:function(e,t){if(null!=t&&""!=t)switch(e){case"category":return i.a.createElement(Ce.a,{color:this.getCategoryColor(t)},t);default:return t}return null}},{key:"render",value:function(){var e,t=this,r=this.state.filteredData;return null!=r&&r.length>0&&(console.log("redering table with: ",r),e=Object.keys(r[0]).filter((function(e){return!t.columnFilter.includes(e)})).map((function(e){return{title:ut.get(e),dataIndex:e,key:e,render:function(r){return t.renderCol(e,r)}}}))),i.a.createElement(st.a,{size:"small",columns:e,dataSource:r,pagination:{defaultPageSize:100},onRow:function(e){return{onDoubleClick:function(r){return t.handleRecordClick(r,e)},onClick:function(r){return t.handleRecordClick(r,e)}}}})}}]),a}(i.a.Component);function yt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=A()(e);if(t){var a=A()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return b()(this,r)}}var mt=function(e){v()(r,e);var t=yt(r);function r(){var e,n;p()(this,r);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return b()(n,(e=n=t.call.apply(t,[this].concat(o)),n.state={bookViewType:de.CARD,selectedBook:null},n.viewTypeSub=null,n.bookCardSub=null,n.bookTableSub=null,e))}return y()(r,[{key:"componentDidMount",value:function(){var e=this;this.viewTypeSub=ge.subscribe((function(t){console.log("change vietype to: "+t),e.setState({bookViewType:t})})),this.bookTableSub=Qe.subscribe((function(t){console.log("selected "+t.title),e.setState({selectedBook:t})})),this.bookTableSub=dt.subscribe((function(t){console.log("selected "+t.title),e.setState({selectedBook:t})}))}},{key:"componentWillUnmount",value:function(){var e,t,r;null===(e=this.viewTypeSub)||void 0===e||e.unsubscribe(),null===(t=this.bookTableSub)||void 0===t||t.unsubscribe(),null===(r=this.bookCardSub)||void 0===r||r.unsubscribe()}},{key:"render",value:function(){var e=this.state,t=e.bookViewType,r=e.selectedBook;if(null!=r)return i.a.createElement(ot,{key:"BookItem"+r.title,book:r});switch(t){case de.TABLE:return i.a.createElement(ht,{key:"BorrowBooksTable"});case de.CARD:return i.a.createElement(Ne,{key:"BookCards"})}return i.a.createElement(i.a.Fragment,null)}}]),r}(i.a.Component);function vt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=A()(e);if(t){var a=A()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return b()(this,r)}}var kt=new te,bt=function(e){v()(r,e);var t=vt(r);function r(){var e,n;p()(this,r);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return b()(n,(e=n=t.call.apply(t,[this].concat(o)),n.loadData=P()(Q.a.mark((function e(){var t;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kt.getAvailableBooksBooksAvailableGet();case 2:t=e.sent,console.log(t),n.setState({data:t});case 5:case"end":return e.stop()}}),e)}))),e))}return r}(Ne);function gt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=A()(e);if(t){var a=A()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return b()(this,r)}}var At=new te,wt=function(e){v()(n,e);var t,r=gt(n);function n(){return p()(this,n),r.apply(this,arguments)}return y()(n,[{key:"loadData",value:(t=P()(Q.a.mark((function e(){var t;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,At.getAvailableBooksBooksAvailableGet();case 2:t=e.sent,console.log(t),this.setState({data:t,filteredData:t});case 5:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),n}(ht);function Et(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=A()(e);if(t){var a=A()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return b()(this,r)}}var Bt=function(e){v()(r,e);var t=Et(r);function r(){var e,n;p()(this,r);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return b()(n,(e=n=t.call.apply(t,[this].concat(o)),n.state={bookViewType:de.TABLE,selectedBook:null},n.viewTypeSub=null,n.bookCardSub=null,n.bookTableSub=null,e))}return y()(r,[{key:"componentDidMount",value:function(){var e=this;this.viewTypeSub=ge.subscribe((function(t){console.log("change vietype to: "+t),e.setState({bookViewType:t})})),this.bookCardSub=Qe.subscribe((function(t){console.log("selected "+t.title),e.setState({selectedBook:t})})),this.bookTableSub=dt.subscribe((function(t){console.log("selected "+t.title),e.setState({selectedBook:t})}))}},{key:"componentWillUnmount",value:function(){var e,t,r;null===(e=this.viewTypeSub)||void 0===e||e.unsubscribe(),null===(t=this.bookTableSub)||void 0===t||t.unsubscribe(),null===(r=this.bookCardSub)||void 0===r||r.unsubscribe()}},{key:"render",value:function(){var e=this.state,t=e.bookViewType,r=e.selectedBook;if(null!=r)return i.a.createElement(ot,{key:"BookItem"+r.title,book:r});switch(t){case de.TABLE:return i.a.createElement(wt,{key:"BorrowBooksTable"});case de.CARD:return i.a.createElement(bt,{key:"BookCards"})}return i.a.createElement(i.a.Fragment,null)}}]),r}(i.a.Component);function Ct(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=A()(e);if(t){var a=A()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return b()(this,r)}}var xt,St=new te,Rt=(new xe.a,function(e){v()(n,e);var t,r=Ct(n);function n(e){var t;return p()(this,n),(t=r.call(this,e)).state={data:[]},t.columnFilter=["return_date","expiration_date","start_date","firstname","lastname","classname","title","author","number"],t.loadData=P()(Q.a.mark((function e(){var r;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,St.getBorrowingUsersUsersBorrowingGet();case 2:r=e.sent,console.log(r),t.setState({data:r});case 5:case"end":return e.stop()}}),e)}))),t.handleRecordClick=function(e,r){console.log("books table record clicked");var n=t.state.data;e.preventDefault(),console.log(r,e),n&&null!=r&&t.setState({selectedRecord:n[r]})},t.handleInput=function(e,r){var n=t.state.insertRecord;console.log(r,e.target.value),null==n&&(n={}),n[r]=e.target.value,t.setState({insertRecord:n})},t.handleRightClickRecord=function(e){e.preventDefault(),console.log("rightlick on "+e.target)},t.renderColumns=function(e,t){switch(t){case"expiration_date":return new Date(e)<new Date?i.a.createElement(Ce.a,{color:"red"},e):i.a.createElement(Ce.a,{color:"green"},e);default:return e}},t}return y()(n,[{key:"componentDidMount",value:(t=P()(Q.a.mark((function e(){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadData();case 2:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e,t=this,r=this.state.data;return null!=r&&r.length>0&&(console.log(r),e=Object.keys(r[0]).filter((function(e){return t.columnFilter.includes(e)})).map((function(e){return{title:it.get(e),dataIndex:e,key:e,render:function(r){return t.renderColumns(r,e)}}}))),i.a.createElement(st.a,{columns:e,dataSource:null==r?void 0:r.map((function(e){return e.children=e.borrowed_books,e})),onRow:function(e,r){return{onDoubleClick:function(e){return t.handleRecordClick(e,r)},onClick:function(e){return t.handleRecordClick(e,r)}}}})}}]),n}(i.a.Component));!function(e){e[e.BooksTable=0]="BooksTable",e[e.UsersTable=1]="UsersTable",e[e.BooksCards=2]="BooksCards",e[e.UsersCards=3]="UsersCards",e[e.BookItem=4]="BookItem",e[e.UserItem=5]="UserItem",e[e.BorrowedBooksTable=6]="BorrowedBooksTable"}(xt||(xt={}));var Qt=r(464);function Kt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=A()(e);if(t){var a=A()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return b()(this,r)}}var Pt=new te,Dt=function(e){v()(n,e);var t,r=Kt(n);function n(){var e,t;p()(this,n);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return b()(t,(e=t=r.call.apply(r,[this].concat(o)),t.state={booksBorrowed:0,booksOverdue:0,bookCount:0,userCount:0},e))}return y()(n,[{key:"componentDidMount",value:(t=P()(Q.a.mark((function e(){var t,r,n,a;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pt.getBorrowedCountStatsBooksBorrowedGet();case 2:return t=e.sent,e.next=5,Pt.getOverdueCountStatsBooksOverdueGet();case 5:return r=e.sent,e.next=8,Pt.getBooksCountStatsBooksCountGet();case 8:return n=e.sent,e.next=11,Pt.getBooksCountStatsUsersCountGet();case 11:a=e.sent,this.setState({booksBorrowed:t,booksOverdue:r,bookCount:n,userCount:a});case 13:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){return i.a.createElement("div",{style:{display:"grid",gridTemplateColumns:"auto 1fr"}},i.a.createElement("div",null,i.a.createElement(I.b,null,i.a.createElement(Qt.a,{style:{scale:".5rem",transform:"scale(.7, .7)"},title:"Aktuell verliehende Bücher",value:this.state.booksBorrowed}),i.a.createElement(Qt.a,{style:{scale:".5rem",transform:"scale(.7, .7)"},title:"Überfällige Bücher",value:this.state.booksOverdue}))),i.a.createElement("div",{style:{justifySelf:"end"}},i.a.createElement(I.b,null,i.a.createElement(Qt.a,{style:{scale:".5rem",transform:"scale(.7, .7)"},title:"Bücher",value:this.state.bookCount}),i.a.createElement(Qt.a,{style:{scale:".5rem",transform:"scale(.7, .7)"},title:"Benutzer*innen",value:this.state.userCount}))))}}]),n}(i.a.Component);function It(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=A()(e);if(t){var a=A()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return b()(this,r)}}var Ut=new te,Tt=function(e){v()(r,e);var t=It(r);function r(){var e,n;p()(this,r);for(var a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];return b()(n,(e=n=t.call.apply(t,[this].concat(o)),n.state={record:{key:0,firstname:"",lastname:"",classname:""},loading:!1},n.save=function(){var e=P()(Q.a.mark((function e(t){var r,a,o,u;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),r="updatable",a=n.state.record,o=!1,""==a.firstname&&(D.b.error("Vorname darf nicht leer sein"),o=!0),""==a.lastname&&(D.b.error("Nachname darf nicht leer sein"),o=!0),""==a.classname&&(D.b.error("Klasse darf nicht leer sein"),o=!0),!o){e.next=9;break}return e.abrupt("return");case 9:return D.b.loading({content:"Speichern...",key:r}),setTimeout((function(){D.b.success({content:"Neue Benutzer*in gespeichert!",key:r,duration:2})}),1e3),n.setState({loading:!0}),e.next=14,Ut.putUserUserPut({userIn:_(a)});case 14:u=e.sent,console.log(u),e.t0=u.status,e.next=e.t0===s.Created?19:e.t0===s.NotCreated?21:23;break;case 19:return D.b.success("Benutzer wurde gespeichert"),e.abrupt("break",25);case 21:return D.b.error("Benutzer konnte nicht gespeichert werden"),e.abrupt("break",25);case 23:return D.b.error("Es ist ein Fehler aufgetreten"),e.abrupt("break",25);case 25:setTimeout((function(){return n.setState({loading:!1,record:{lastname:"",firstname:"",key:0,classname:""}})}),1e3);case 26:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e))}return y()(r,[{key:"render",value:function(){var e=this;return i.a.createElement("div",{style:{padding:"1rem"}},i.a.createElement(I.b,{direction:"vertical"},i.a.createElement("h1",{style:{fontSize:"2rem"}},"Benutzer hinzufügen"),i.a.createElement("input",{id:"book-key",name:"book-key",style:{visibility:"hidden",pointerEvents:"none",display:"none"},value:this.state.record.key}),i.a.createElement("label",null,"Vorname"),i.a.createElement(U.a,{placeholder:"Vorname",value:this.state.record.firstname,onChange:function(t){var r=e.state.record;r.firstname=t.target.value,e.setState({record:r})}}),i.a.createElement("label",null,"Nachname"),i.a.createElement(U.a,{placeholder:"Nachname",value:this.state.record.lastname,onChange:function(t){var r=e.state.record;r.lastname=t.target.value,e.setState({record:r})}}),i.a.createElement("label",null,"Klasse"),i.a.createElement(U.a,{placeholder:"Klasse",value:this.state.record.classname,onChange:function(t){var r=e.state.record;r.classname=t.target.value,e.setState({record:r})}}),i.a.createElement(T.a,{type:"primary",size:"large",shape:"round",loading:this.state.loading,onClick:this.save},"Speichern")))}}]),r}(i.a.Component);function Nt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=A()(e);if(t){var a=A()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return b()(this,r)}}var qt=function(e){v()(r,e);var t=Nt(r);function r(){var e,n;p()(this,r);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return b()(n,(e=n=t.call.apply(t,[this].concat(o)),n.state={loading:!1},e))}return y()(r,[{key:"render",value:function(){var e={name:"file",action:"",headers:{authorization:"authorization-text"},onChange:function(e){"uploading"!==e.file.status&&console.log(e.file,e.fileList),"done"===e.file.status?D.b.success("".concat(e.file.name," file uploaded successfully")):"error"===e.file.status&&D.b.error("".concat(e.file.name," file upload failed."))}};return i.a.createElement("div",{className:"borrow-form-workflow",style:{padding:"1rem"}},i.a.createElement(I.b,{direction:"vertical"},i.a.createElement(le.a,se()({style:{padding:"1rem"}},e),i.a.createElement("p",{className:"ant-upload-drag-icon"},i.a.createElement(ue.a,null)),i.a.createElement("h1",null,"Benutzerliste importieren"),i.a.createElement("p",null,"Wähle eine CSV datei mit Benutzern aus, die importiert werden sollen. "),i.a.createElement("p",null,"Stelle sicher, dass die Spalten wie folgt benannt sind:"),i.a.createElement("ul",null,i.a.createElement("li",null,"firstname: Pflicht"),i.a.createElement("li",null,"lastname: Pflicht"),i.a.createElement("li",null,"classname: Pflicht"))),i.a.createElement("div",null,i.a.createElement(T.a,{shape:"round",type:"primary",icon:i.a.createElement(ce.a,null),size:"large"},i.a.createElement("a",{style:{color:"white"},href:"".concat(N.BASE_PATH,"/users/export/csv")},"Download Benutzerliste")))))}}]),r}(i.a.Component),Jt=r(5),Ot=r.n(Jt);function Gt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function jt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Gt(Object(r),!0).forEach((function(t){Ot()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function zt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=A()(e);if(t){var a=A()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return b()(this,r)}}var Mt=new te,Ft=new xe.a,Lt=function(e){return Ft.next(e)},Yt=function(e){v()(n,e);var t,r=zt(n);function n(){var e,t;p()(this,n);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return b()(t,(e=t=r.call.apply(r,[this].concat(o)),t.state={data:[]},t.searchFilterSub=null,t.loadData=P()(Q.a.mark((function e(){var r;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mt.getUsersUsersGet();case 2:r=e.sent,console.log(r),t.setState({data:r.map((function(e){return{user:e[0],borrowedBooks:e[1]}}))});case 5:case"end":return e.stop()}}),e)}))),t.handleRecordClick=function(e,r){var n=t.state.filteredData;e.preventDefault(),null!=n&&null!=r&&(console.log("user: "+n[r]+" selected"),Lt([n[r].user]),console.log(r,e),n&&null!=r&&t.setState({selectedRecord:n[r]}))},t.handleInput=function(e,r){var n=t.state.insertRecord;console.log(r,e.target.value),null==n&&(n={}),n[r]=e.target.value,t.setState({insertRecord:n})},t.handleRightClickRecord=function(e){e.preventDefault(),console.log("rightlick on "+e.target)},e))}return y()(n,[{key:"componentDidMount",value:(t=P()(Q.a.mark((function e(){var t=this;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadData();case 2:this.searchFilterSub=Ae.subscribe((function(e){var r;console.log("filtering by: "+e);var n=new RegExp(".*"+e+".*"),a=null===(r=t.state.data)||void 0===r?void 0:r.filter((function(e){return Object.values(e.user).some((function(e){return null!=e&&n.test(e.toString())}))}));t.setState({filteredData:a})}));case 3:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){null!=this.searchFilterSub&&this.searchFilterSub.unsubscribe()}},{key:"mapExtendedUserToRecord",value:function(e){return jt(jt({},e.user),{},{borrowedBooks:e.borrowedBooks})}},{key:"render",value:function(){var e,t=this,r=this.state.filteredData;return null!=r&&r.length>0&&(console.log(r),e=Object.keys(r[0].user).concat(["borrowedBooks"]).map((function(e){return{title:ct.get(e),dataIndex:e,key:e}}))),console.log("rendering: ",null==r?void 0:r.map((function(e){return e.user}))),i.a.createElement(st.a,{columns:e,dataSource:null==r?void 0:r.map((function(e){return jt(jt({},e.user),{},{borrowedBooks:e.borrowedBooks})})),onRow:function(e,r){return{onDoubleClick:function(e){return t.handleRecordClick(e,r)},onClick:function(e){return t.handleRecordClick(e,r)}}}})}}]),n}(i.a.Component);function Ht(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=A()(e);if(t){var a=A()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return b()(this,r)}}var Zt=function(e){v()(r,e);var t=Ht(r);function r(){var e,n;p()(this,r);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return b()(n,(e=n=t.call.apply(t,[this].concat(o)),n.state={bookViewType:de.CARD,selectedUser:null,selectedBook:null},n.viewTypeSub=null,n.usersTableSub=null,n.usersCardsSub=null,n.bookTableSub=null,e))}return y()(r,[{key:"componentDidMount",value:function(){var e=this;this.viewTypeSub=ge.subscribe((function(t){console.log("change vietype to: "+t),e.setState({bookViewType:t})})),this.usersTableSub=Ft.subscribe((function(t){console.log("selected "+t[0].key),e.setState({selectedUser:t[0]})})),this.usersCardsSub=Xe.subscribe((function(t){console.log("selected "+t.user.key),e.setState({selectedUser:t.user})})),this.bookTableSub=dt.subscribe((function(t){console.log("selected "+t.title),e.setState({selectedBook:t})}))}},{key:"componentWillUnmount",value:function(){null!=this.viewTypeSub&&this.viewTypeSub.unsubscribe(),null!=this.usersTableSub&&this.usersTableSub.unsubscribe(),null!=this.bookTableSub&&this.bookTableSub.unsubscribe()}},{key:"render",value:function(){var e=this.state,t=e.bookViewType,r=e.selectedUser,n=e.selectedBook;if(null!=n&&null!=r)return i.a.createElement(ot,{book:n,user:r,key:"borrowedBook-".concat(r.key,"-").concat(n.key)});if(null!=r)return i.a.createElement(ht,{userFilter:r,key:"borrowedBooks".concat(r.firstname,"-").concat(r.lastname)});switch(t){case de.TABLE:return i.a.createElement(Yt,{key:"BooksTable"});case de.CARD:return i.a.createElement(_e,{key:"BookCards"});default:return i.a.createElement(ht,{key:"BooksTable"})}}}]),r}(i.a.Component);function Vt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=A()(e);if(t){var a=A()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return b()(this,r)}}var Wt=w.a.Header,Xt=w.a.Footer,_t=w.a.Sider,$t=w.a.Content,er=function(e){v()(r,e);var t=Vt(r);function r(){var e,n;p()(this,r);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return b()(n,(e=n=t.call.apply(t,[this].concat(o)),n.state={mainContentType:xt.BooksTable,collapsed:!1,mainContent:i.a.createElement(mt,{key:"BooksView"})},e))}return y()(r,[{key:"render",value:function(){var e=this,t=this.state.mainContent;return i.a.createElement(w.a,{style:{height:"100%"}},i.a.createElement(Wt,{style:{paddingInline:"0px"}},i.a.createElement(we,null)),i.a.createElement(w.a,null,i.a.createElement(_t,{collapsed:this.state.collapsed,width:"30ch"},i.a.createElement(E.a,{defaultSelectedKeys:["1"],defaultOpenKeys:["sub1"],mode:"inline",theme:"dark"},i.a.createElement(E.a.Item,{key:"Ausleihen",icon:i.a.createElement(x.b,null),onClick:function(){e.setState({mainContent:i.a.createElement(Bt,{key:Date.now()})})}},i.a.createElement("span",{style:{paddingLeft:".5rem"}},"Ausleihen")),i.a.createElement(E.a.Item,{key:"Alle Bücher",icon:i.a.createElement(x.b,null),onClick:function(){e.setState({mainContent:i.a.createElement(mt,{key:Date.now()})})}},i.a.createElement("span",{style:{paddingLeft:".5rem"}},"Alle Bücher")),i.a.createElement(E.a.Item,{key:"Zurückgeben",icon:i.a.createElement(x.a,null),onClick:function(){e.setState({mainContent:i.a.createElement(Zt,{key:Date.now()})})}},i.a.createElement("span",{style:{paddingLeft:".5rem"}},"Zurückgeben")),i.a.createElement(E.a.Item,{key:"Fristen",icon:i.a.createElement(x.a,null),onClick:function(){e.setState({mainContent:i.a.createElement(Rt,{key:Date.now()})})}},i.a.createElement("span",{style:{paddingLeft:".5rem"}},"Fristen")),i.a.createElement(C.a,{key:"Buch hinzufügen",icon:i.a.createElement(x.c,null),title:i.a.createElement("span",{style:{paddingLeft:".5rem"}},"Bücher hinzufügen")},i.a.createElement(E.a.Item,{key:"5",onClick:function(){console.log("einzelnes Buch"),e.setState({mainContent:i.a.createElement(ae,{key:Date.now()})})}},"Neues Buch"),i.a.createElement(E.a.Item,{key:"6",onClick:function(){console.log("bulk import"),e.setState({mainContent:i.a.createElement(pe,{key:Date.now()})})}},"Bücherliste")),i.a.createElement(C.a,{key:"Benutzer hinzufügen",icon:i.a.createElement(S.a,null),title:i.a.createElement("span",{style:{paddingLeft:".5rem"}},"Benutzer hinzufügen")},i.a.createElement(E.a.Item,{key:"7",onClick:function(){console.log("Beutzer*in hinzufügen"),e.setState({mainContent:i.a.createElement(Tt,{key:Date.now()})})}},"Neuen Benutzer"),i.a.createElement(E.a.Item,{key:"8",onClick:function(){console.log("bulk import"),e.setState({mainContent:i.a.createElement(qt,{key:Date.now()})})}},"Benutzerliste")))),i.a.createElement($t,null,t)),i.a.createElement(Xt,{style:{padding:".3rem"}},i.a.createElement(Dt,null)))}}]),r}(i.a.Component),tr=function(){return i.a.createElement("div",{style:{width:"100%",height:"100vh",margin:"none",padding:"none"}},i.a.createElement(er,null))},rr=document.createElement("div");f.a.render(i.a.createElement(tr,null),rr),document.body.appendChild(rr)}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3J1bnRpbWUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZGVscy9Cb3Jyb3dSZXNwb25zZVN0YXR1cy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWxzL0V4dGVuZGluZ1Jlc3BvbnNlU3RhdHVzLnRzIiwid2VicGFjazovLy8uL3NyYy9tb2RlbHMvUHV0Qm9va1Jlc3BvbnNlU3RhdHVzLnRzIiwid2VicGFjazovLy8uL3NyYy9tb2RlbHMvUHV0VXNlclJlc3BvbnNlU3RhdHVzLnRzIiwid2VicGFjazovLy8uL3NyYy9tb2RlbHMvUmV0dXJuaW5nUmVzcG9uc2VTdGF0dXMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZGVscy9Cb29rLnRzIiwid2VicGFjazovLy8uL3NyYy9tb2RlbHMvQm9ycm93UmVzcG9uc2VNb2RlbC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWxzL0NhdGVnb3J5LnRzIiwid2VicGFjazovLy8uL3NyYy9tb2RlbHMvRXh0ZW5kaW5nUmVzcG9uc2VNb2RlbC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWxzL01lZGlhLnRzIiwid2VicGFjazovLy8uL3NyYy9tb2RlbHMvUHV0Qm9va1Jlc3BvbnNlTW9kZWwudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZGVscy9QdXRVc2VyUmVzcG9uc2VNb2RlbC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWxzL1JldHVybmluZ1Jlc3BvbnNlTW9kZWwudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZGVscy9Vc2VySW4udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwaXMvRGVmYXVsdEJpYmxlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9Cb29rL0FkZEJvb2tGb3JtLnRzeCIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9Cb29rL0FkZEJvb2tzRmlsZUZvcm0udHN4Iiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL1ZpZXdUeXBlcy50c3giLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvVGl0bGVCYXJNZW51LnRzeCIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9Cb29rL0Jvb2tDYXJkLnRzeCIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9Cb29rL0Jvb2tDYXJkcy50c3giLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvVXNlci9Vc2VyQ2FyZHMudHN4Iiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL1VzZXIvVXNlclNlbGVjdENhcmRzLnRzeCIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9Cb29rL0Jvb2tJdGVtLnRzeCIsIndlYnBhY2s6Ly8vLi9zcmMvaTE4bi50c3giLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvQm9vay9Cb29rc1RhYmxlLnRzeCIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9Cb29rL0Jvb2tzVmlldy50c3giLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvQm9vay9Cb3Jyb3dCb29rQ2FyZHMudHN4Iiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL0Jvb2svQm9ycm93Qm9va3NUYWJsZS50c3giLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvQm9vay9Cb3Jyb3dCb29rc1ZpZXcudHN4Iiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL0JvcnJvd2luZ1VzZXJzVGFibGUudHN4Iiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL01haW5Db250ZW50VHlwZXMudHN4Iiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL1N0YXR1c0Jhci50c3giLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvVXNlci9BZGRVc2VyRm9ybS50c3giLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvVXNlci9BZGRVc2Vyc0ZpbGVGb3JtLnRzeCIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9Vc2VyL1VzZXJzVGFibGUudHN4Iiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL1VzZXIvVXNlcnNWaWV3LnRzeCIsIndlYnBhY2s6Ly8vLi9zcmMvQmlibGVyLnRzeCIsIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXgudHN4Il0sIm5hbWVzIjpbIndlYnBhY2tKc29ucENhbGxiYWNrIiwiZGF0YSIsIm1vZHVsZUlkIiwiY2h1bmtJZCIsImNodW5rSWRzIiwibW9yZU1vZHVsZXMiLCJleGVjdXRlTW9kdWxlcyIsImkiLCJyZXNvbHZlcyIsImxlbmd0aCIsIk9iamVjdCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImluc3RhbGxlZENodW5rcyIsInB1c2giLCJtb2R1bGVzIiwicGFyZW50SnNvbnBGdW5jdGlvbiIsInNoaWZ0IiwiZGVmZXJyZWRNb2R1bGVzIiwiYXBwbHkiLCJjaGVja0RlZmVycmVkTW9kdWxlcyIsInJlc3VsdCIsImRlZmVycmVkTW9kdWxlIiwiZnVsZmlsbGVkIiwiaiIsImRlcElkIiwic3BsaWNlIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsInMiLCJpbnN0YWxsZWRNb2R1bGVzIiwiMiIsIjEiLCJleHBvcnRzIiwibW9kdWxlIiwibCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwIiwianNvbnBBcnJheSIsIndpbmRvdyIsIm9sZEpzb25wRnVuY3Rpb24iLCJzbGljZSIsIkJBU0VfUEFUSCIsInJlcGxhY2UiLCJCYXNlQVBJIiwiY29uZmlndXJhdGlvbiIsIkNvbmZpZ3VyYXRpb24iLCJmZXRjaEFwaSIsInVybCIsImluaXQiLCJhIiwiZmV0Y2hQYXJhbXMiLCJtaWRkbGV3YXJlIiwicHJlIiwiZmV0Y2giLCJyZXNwb25zZSIsInBvc3QiLCJjbG9uZSIsInRoaXMiLCJuZXh0IiwiY29uY2F0IiwicHJlTWlkZGxld2FyZXMiLCJtaWRkbGV3YXJlcyIsIm1hcCIsIndpdGhNaWRkbGV3YXJlIiwicG9zdE1pZGRsZXdhcmVzIiwiY29udGV4dCIsImNyZWF0ZUZldGNoUGFyYW1zIiwic3RhdHVzIiwiYmFzZVBhdGgiLCJwYXRoIiwidW5kZWZpbmVkIiwicXVlcnkiLCJrZXlzIiwicXVlcnlQYXJhbXNTdHJpbmdpZnkiLCJib2R5IiwiRm9ybURhdGEiLCJVUkxTZWFyY2hQYXJhbXMiLCJCbG9iIiwiSlNPTiIsInN0cmluZ2lmeSIsImhlYWRlcnMiLCJhc3NpZ24iLCJtZXRob2QiLCJjcmVkZW50aWFscyIsImNvbnN0cnVjdG9yIiwiUmVxdWlyZWRFcnJvciIsImZpZWxkIiwibXNnIiwiRXJyb3IiLCJDT0xMRUNUSU9OX0ZPUk1BVFMiLCJjc3YiLCJzc3YiLCJ0c3YiLCJwaXBlcyIsInF1ZXJ5c3RyaW5nIiwidXNlcm5hbWUiLCJwYXNzd29yZCIsImFwaUtleSIsImFjY2Vzc1Rva2VuIiwiZXhpc3RzIiwianNvbiIsInBhcmFtcyIsInByZWZpeCIsImZ1bGxLZXkiLCJBcnJheSIsIm11bHRpVmFsdWUiLCJzaW5nbGVWYWx1ZSIsImVuY29kZVVSSUNvbXBvbmVudCIsIlN0cmluZyIsImpvaW4iLCJmaWx0ZXIiLCJwYXJ0IiwibWFwVmFsdWVzIiwiZm4iLCJyZWR1Y2UiLCJhY2MiLCJjYW5Db25zdW1lRm9ybSIsImNvbnN1bWVzIiwiY29udGVudFR5cGUiLCJKU09OQXBpUmVzcG9uc2UiLCJyYXciLCJ0cmFuc2Zvcm1lciIsImpzb25WYWx1ZSIsIlZvaWRBcGlSZXNwb25zZSIsIkJsb2JBcGlSZXNwb25zZSIsImJsb2IiLCJUZXh0QXBpUmVzcG9uc2UiLCJ0ZXh0IiwiQm9ycm93UmVzcG9uc2VTdGF0dXMiLCJFeHRlbmRpbmdSZXNwb25zZVN0YXR1cyIsIlB1dEJvb2tSZXNwb25zZVN0YXR1cyIsIlB1dFVzZXJSZXNwb25zZVN0YXR1cyIsIlJldHVybmluZ1Jlc3BvbnNlU3RhdHVzIiwiQm9va0Zyb21KU09OIiwiaWdub3JlRGlzY3JpbWluYXRvciIsIk1lZGlhRnJvbUpTT04iLCJCb29rRnJvbUpTT05UeXBlZCIsIkJvb2tUb0pTT04iLCJ0aXRsZSIsImF1dGhvciIsInB1Ymxpc2hlciIsIm51bWJlciIsInNob3J0aGFuZCIsImNhdGVnb3J5IiwiaXNibiIsIk1lZGlhVG9KU09OIiwibWVkaWEiLCJCb3Jyb3dSZXNwb25zZU1vZGVsRnJvbUpTT04iLCJCb3Jyb3dSZXNwb25zZVN0YXR1c0Zyb21KU09OIiwiRGF0ZSIsIkJvcnJvd1Jlc3BvbnNlTW9kZWxGcm9tSlNPTlR5cGVkIiwiQm9ycm93UmVzcG9uc2VTdGF0dXNGcm9tSlNPTlR5cGVkIiwiQ2F0ZWdvcnlGcm9tSlNPTiIsIkNhdGVnb3J5RnJvbUpTT05UeXBlZCIsIkV4dGVuZGluZ1Jlc3BvbnNlTW9kZWxGcm9tSlNPTiIsIkV4dGVuZGluZ1Jlc3BvbnNlU3RhdHVzRnJvbUpTT04iLCJFeHRlbmRpbmdSZXNwb25zZU1vZGVsRnJvbUpTT05UeXBlZCIsIkV4dGVuZGluZ1Jlc3BvbnNlU3RhdHVzRnJvbUpTT05UeXBlZCIsIk1lZGlhRnJvbUpTT05UeXBlZCIsImNvdmVyIiwiUHV0Qm9va1Jlc3BvbnNlTW9kZWxGcm9tSlNPTiIsIlB1dEJvb2tSZXNwb25zZVN0YXR1c0Zyb21KU09OIiwiUHV0Qm9va1Jlc3BvbnNlTW9kZWxGcm9tSlNPTlR5cGVkIiwiUHV0Qm9va1Jlc3BvbnNlU3RhdHVzRnJvbUpTT05UeXBlZCIsIlB1dFVzZXJSZXNwb25zZU1vZGVsRnJvbUpTT04iLCJQdXRVc2VyUmVzcG9uc2VTdGF0dXNGcm9tSlNPTiIsIlB1dFVzZXJSZXNwb25zZU1vZGVsRnJvbUpTT05UeXBlZCIsIlB1dFVzZXJSZXNwb25zZVN0YXR1c0Zyb21KU09OVHlwZWQiLCJSZXR1cm5pbmdSZXNwb25zZU1vZGVsRnJvbUpTT04iLCJSZXR1cm5pbmdSZXNwb25zZVN0YXR1c0Zyb21KU09OIiwiUmV0dXJuaW5nUmVzcG9uc2VNb2RlbEZyb21KU09OVHlwZWQiLCJSZXR1cm5pbmdSZXNwb25zZVN0YXR1c0Zyb21KU09OVHlwZWQiLCJVc2VySW5Gcm9tSlNPTiIsIlVzZXJJbkZyb21KU09OVHlwZWQiLCJVc2VySW5Ub0pTT04iLCJmaXJzdG5hbWUiLCJsYXN0bmFtZSIsImNsYXNzbmFtZSIsIkRlZmF1bHRCaWJsZXIiLCJyZXF1ZXN0UGFyYW1ldGVycyIsImJvb2tLZXkiLCJydW50aW1lIiwicXVlcnlQYXJhbWV0ZXJzIiwiaGVhZGVyUGFyYW1ldGVycyIsInJlcXVlc3QiLCJib29rQ292ZXJFeGlzdGVzTWVkaWFFeGlzdHNCb29rS2V5R2V0UmF3IiwidXNlcktleSIsImR1cmF0aW9uIiwiYm9ycm93Qm9va0JvcnJvd1VzZXJLZXlCb29rS2V5UGF0Y2hSYXciLCJib29rIiwiZGJQdXRCb29rQm9va1B1dFJhdyIsImV4cG9ydEJvb2tzQ3N2Qm9va3NFeHBvcnRDc3ZHZXRSYXciLCJleHBvcnRCb29rc0NzdlVzZXJzRXhwb3J0Q3N2R2V0UmF3IiwiZXh0ZW5kQm9ycm93UGVyaW9kRXh0ZW5kVXNlcktleUJvb2tLZXlQYXRjaFJhdyIsImdldEF2YWlsYWJsZUJvb2tzQm9va3NBdmFpbGFibGVHZXRSYXciLCJnZXRCb29rQ292ZXJNZWRpYUJvb2tLZXlHZXRSYXciLCJnZXRCb29rc0Jvb2tzR2V0UmF3IiwiZ2V0Qm9va3NDb3VudFN0YXRzQm9va3NDb3VudEdldFJhdyIsImdldEJvb2tzQ291bnRTdGF0c1VzZXJzQ291bnRHZXRSYXciLCJnZXRCb3Jyb3dlZENvdW50U3RhdHNCb29rc0JvcnJvd2VkR2V0UmF3IiwiZ2V0Qm9ycm93aW5nVXNlcnNVc2Vyc0JvcnJvd2luZ0dldFJhdyIsImdldENhdGVnb3J5Q2F0ZWdvcnlHZXRSYXciLCJnZXRPdmVyZHVlQ291bnRTdGF0c0Jvb2tzT3ZlcmR1ZUdldFJhdyIsImdldFVzZXJzVXNlcnNHZXRSYXciLCJmaWxlIiwiZm9ybVBhcmFtcyIsImFwcGVuZCIsImltcG9ydEJvb2tzQ3N2Qm9va3NJbXBvcnRDc3ZQb3N0UmF3IiwiaW1wb3J0VXNlckNzdlVzZXJzSW1wb3J0Q3N2UG9zdFJhdyIsImluZGV4R2V0UmF3IiwiaXNCb3Jyb3dlZEJvb2tCb3Jyb3dlZEJvb2tLZXlHZXRSYXciLCJ1c2VySW4iLCJwdXRVc2VyVXNlclB1dFJhdyIsInJldHVybkJvb2tSZXR1cm5Vc2VyS2V5Qm9va0tleVBhdGNoUmF3IiwiYXBpIiwiQWRkQm9va0Zvcm0iLCJwcm9wcyIsInNhdmUiLCJyZWNvcmQiLCJzdGF0ZSIsImZhaWwiLCJtZXNzYWdlIiwiZXJyb3IiLCJkYlB1dEJvb2tCb29rUHV0IiwiQ3JlYXRlZCIsIk5vdENyZWF0ZWQiLCJzdWNjZXNzIiwic2V0VGltZW91dCIsInNldFN0YXRlIiwibG9hZGluZyIsImNsYXNzTmFtZSIsInN0eWxlIiwicGFkZGluZyIsImZvbnRTaXplIiwiaWQiLCJ2aXNpYmlsaXR5IiwicG9pbnRlckV2ZW50cyIsImRpc3BsYXkiLCJncmlkVGVtcGxhdGVDb2x1bW5zIiwiZGlyZWN0aW9uIiwicmVxdWlyZWQiLCJwbGFjZWhvbGRlciIsIm9uQ2hhbmdlIiwiZSIsInRhcmdldCIsIm1hcmdpbklubGluZSIsIm1hcmdpbkJsb2NrIiwianVzdGlmeVNlbGYiLCJzaXplIiwic2hhcGUiLCJ0eXBlIiwib25DbGljayIsIlJlYWN0IiwiQ29tcG9uZW50IiwiVmlld1R5cGVzIiwiQWRkQm9va3NGaWxlRm9ybSIsImFjdGlvbiIsImF1dGhvcml6YXRpb24iLCJpbmZvIiwiY29uc29sZSIsImxvZyIsImZpbGVMaXN0IiwiSW5ib3hPdXRsaW5lZCIsImljb24iLCJEb3dubG9hZE91dGxpbmVkIiwiY29sb3IiLCJocmVmIiwiU2VhcmNoIiwiSW5wdXQiLCJ2aWV3VHlwZVN1YmplY3QiLCJCZWhhdmlvclN1YmplY3QiLCJUQUJMRSIsInNlYXJjaEZpbHRlclN1YmplY3QiLCJUaXRsZUJhck1lbnUiLCJzaG93QXNUYWJsZSIsInN1YnRpdGxlIiwiZ2V0Vmlld1R5cGVUb2dnbGVJY29uIiwiVGFibGVPdXRsaW5lZCIsIkFwcHN0b3JlT3V0bGluZWQiLCJoYW5kbGVWaWV3VHlwZVRvZ2dsZSIsInZpZXdUeXBlIiwiQ0FSRCIsIm9uU2VhcmNoQ2hhbmdlZCIsImV2ZW50Iiwic2VhcmNoU3RyaW5nIiwib25TZWFyY2giLCJvbkJhY2siLCJzdWJUaXRsZSIsImJhY2tncm91bmRDb2xvciIsInBhZGRpbmdUb3AiLCJwYWRkaW5nQm90dG9tIiwiYmFja0ljb24iLCJleHRyYSIsIk1ldGEiLCJDYXJkIiwiYm9va0NhcmRzU3ViamVjdCIsIlN1YmplY3QiLCJCb29rQ2FyZCIsImxvYWRDYXRlZ29yeUNvbG9ycyIsImdldENhdGVnb3J5Q2F0ZWdvcnlHZXQiLCJjYXRlZ29yaWVzIiwiY2F0ZWdvcnlDb2xvcnMiLCJmaW5kIiwiZWwiLCJob3ZlcmFibGUiLCJ3aWR0aCIsImFsdCIsInNyYyIsImZhbGxiYWNrIiwiZGVzY3JpcHRpb24iLCJnZXRDYXRlZ29yeUNvbG9yIiwiQm9va0NhcmRzIiwicGFnZSIsInBhZ2VTaXplIiwiZmlsdGVyZWREYXRhIiwic2VhcmNoRmlsdGVyU3ViIiwibG9hZERhdGEiLCJnZXRCb29rc0Jvb2tzR2V0Iiwic3Vic2NyaWJlIiwic2VhcmNoIiwicmVnZXgiLCJSZWdFeHAiLCJmaWx0ZXJkRGF0YSIsInZhbHVlcyIsInNvbWUiLCJ0ZXN0IiwidG9TdHJpbmciLCJ1bnN1YnNjcmliZSIsIm1hcmdpbkxlZnQiLCJtYXJnaW5Ub3AiLCJncmlkR2FwIiwianVzdGlmeUNvbnRlbnQiLCJkZWZhdWx0Q3VycmVudCIsImN1cnJlbnQiLCJ0b3RhbCIsInVzZXJDYXJkc1N1YmplY3QiLCJVc2VyQ2FyZHMiLCJnZXRVc2Vyc1VzZXJzR2V0IiwidXNlciIsImJvcnJvd2VkQm9va3MiLCJmaWx0ZXJEYXRhIiwic2VsZWN0ZWRVc2VyIiwicHVibGlzaCIsInNlbGVjdGVkUmVjb3JkIiwiSWNvblRleHQiLCJsaXN0RGF0YSIsImF2YXRhciIsImNvbnRlbnQiLCJVc2VyT3V0bGluZWQiLCJzZWxlY3RlZCIsIml0ZW1MYXlvdXQiLCJwYWdpbmF0aW9uIiwiZGF0YVNvdXJjZSIsInJlbmRlckl0ZW0iLCJpdGVtIiwiaGlnaGxpZ2h0IiwiSXRlbSIsImhhbmRsZUNsaWNrIiwiYWN0aW9ucyIsIkxpa2VPdXRsaW5lZCIsIk1lc3NhZ2VPdXRsaW5lZCIsInVzZXJTZWxlY3RDYXJkc1N1YmplY3QiLCJVc2VyU2VsZWN0Q2FyZHMiLCJib3Jyb3dNb2RhbFNlYWNoRmlsdGVyU3ViIiwiYm9ycm93TW9kYWxTZWFjaEZpbHRlclN1YmplY3QiLCJCb29rSXRlbSIsImJvcnJvd01vZGFsVmlzaWJsZSIsImJvcnJvd0J1dHRvbkRpc2FibGVkIiwiaXNBbHJlYWR5Qm9ycm93ZWQiLCJtZWRpYUV4aXN0cyIsInVzZXJzVGFibGVTdWIiLCJzaG93Qm9ycm93aW5nTW9kYWwiLCJleHRlbmRCb3Jyb3dQZXJpb2QiLCJib3Jyb3dpbmdVc2VyIiwiZXh0ZW5kQm9ycm93UGVyaW9kRXh0ZW5kVXNlcktleUJvb2tLZXlQYXRjaCIsInJlc29uc2UiLCJTdWNjZXNzZnVsbHlFeHRlbmRlZCIsIk1heGltdW1Cb3Jyb3dQZXJpb2RSZWFjaGVkIiwicmV0dXJuRGF0ZSIsInJldHVybkJvb2tBY3Rpb24iLCJyZXR1cm5Cb29rUmV0dXJuVXNlcktleUJvb2tLZXlQYXRjaCIsIlN1Y2Nlc3NmdWxseVJldHVybmVkIiwiaGFuZGxlT2siLCJib3Jyb3dCb29rQm9ycm93VXNlcktleUJvb2tLZXlQYXRjaCIsIlN1Y2Nlc3NmdWxseUJvcnJvd2VkIiwiaGFuZGxlQ2FuY2VsIiwiYm9va0NvdmVyRXhpc3Rlc01lZGlhRXhpc3RzQm9va0tleUdldCIsImlzQm9ycm93ZWRCb29rQm9ycm93ZWRCb29rS2V5R2V0IiwiYm9ycm93ZWQiLCJyZXBsYWNlQWxsIiwidG9Mb3dlckNhc2UiLCJ1c2VyTGFiZWwiLCJ2aXNpYmxlIiwiYnV0dG9uRGlzYWJsZWQiLCJkaXNhYmxlZCIsIkZpZWxkVGltZU91dGxpbmVkIiwiaGVpZ2h0IiwibWFyZ2luIiwicGFkZGluZ0Jsb2NrIiwib25DYW5jZWwiLCJmb290ZXIiLCJib29rSTE4TiIsIk1hcCIsInVzZXJJMThOIiwiYm9ycm93aW5nVXNlckkxOE4iLCJib29rc1RhYmxlU3ViamVjdCIsIkJvb2tzVGFibGUiLCJjb2xvcnMiLCJjb2x1bW5GaWx0ZXIiLCJoYW5kbGVSZWNvcmRDbGljayIsInByZXZlbnREZWZhdWx0IiwiaGFuZGxlSW5wdXQiLCJpbnNlcnRSZWNvcmQiLCJ1bnNoaWZ0IiwiaGFuZGxlUmlnaHRDbGlja1JlY29yZCIsImhhbmRsZVJvd0NsaWNrIiwidXNlckZpbHRlciIsImNvbCIsImNvbHMiLCJpbmNsdWRlcyIsImRhdGFJbmRleCIsInJlbmRlciIsInJlbmRlckNvbCIsImNvbHVtbnMiLCJkZWZhdWx0UGFnZVNpemUiLCJvblJvdyIsIm9uRG91YmxlQ2xpY2siLCJCb29rc1ZpZXciLCJib29rVmlld1R5cGUiLCJzZWxlY3RlZEJvb2siLCJ2aWV3VHlwZVN1YiIsImJvb2tDYXJkU3ViIiwiYm9va1RhYmxlU3ViIiwiQm9ycm93Qm9va0NhcmRzIiwiZ2V0QXZhaWxhYmxlQm9va3NCb29rc0F2YWlsYWJsZUdldCIsIkJvcnJvd0Jvb2tzVGFibGUiLCJCb3Jyb3dCb29rc1ZpZXciLCJNYWluQ29udGVudFR5cGVzIiwiQm9ycm93aW5nVXNlcnNUYWJsZSIsImdldEJvcnJvd2luZ1VzZXJzVXNlcnNCb3Jyb3dpbmdHZXQiLCJpbmRleCIsInJlbmRlckNvbHVtbnMiLCJjb2x1bW4iLCJjaGlsZHJlbiIsImJvcnJvd2VkX2Jvb2tzIiwicm93SW5kZXgiLCJTdGF0dXNCYXIiLCJib29rc0JvcnJvd2VkIiwiYm9va3NPdmVyZHVlIiwiYm9va0NvdW50IiwidXNlckNvdW50IiwiZ2V0Qm9ycm93ZWRDb3VudFN0YXRzQm9va3NCb3Jyb3dlZEdldCIsImdldE92ZXJkdWVDb3VudFN0YXRzQm9va3NPdmVyZHVlR2V0IiwiZ2V0Qm9va3NDb3VudFN0YXRzQm9va3NDb3VudEdldCIsImdldEJvb2tzQ291bnRTdGF0c1VzZXJzQ291bnRHZXQiLCJzY2FsZSIsInRyYW5zZm9ybSIsIkFkZFVzZXJGb3JtIiwicHV0VXNlclVzZXJQdXQiLCJBZGRVc2Vyc0ZpbGVGb3JtIiwidXNlclRhYmxlU3ViamVjdCIsIlVzZXJzVGFibGUiLCJleHRlbmRlZFVzZXIiLCJVc2Vyc1ZpZXciLCJ1c2Vyc0NhcmRzU3ViIiwiSGVhZGVyIiwiTGF5b3V0IiwiRm9vdGVyIiwiU2lkZXIiLCJDb250ZW50IiwiQmlibGVyIiwibWFpbkNvbnRlbnRUeXBlIiwiY29sbGFwc2VkIiwibWFpbkNvbnRlbnQiLCJwYWRkaW5nSW5saW5lIiwiZGVmYXVsdFNlbGVjdGVkS2V5cyIsImRlZmF1bHRPcGVuS2V5cyIsInRoZW1lIiwibm93IiwicGFkZGluZ0xlZnQiLCJBcHAiLCJhcHAiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJSZWFjdERPTSIsImFwcGVuZENoaWxkIl0sIm1hcHBpbmdzIjoiYUFDRSxTQUFTQSxFQUFxQkMsR0FRN0IsSUFQQSxJQU1JQyxFQUFVQyxFQU5WQyxFQUFXSCxFQUFLLEdBQ2hCSSxFQUFjSixFQUFLLEdBQ25CSyxFQUFpQkwsRUFBSyxHQUlITSxFQUFJLEVBQUdDLEVBQVcsR0FDcENELEVBQUlILEVBQVNLLE9BQVFGLElBQ3pCSixFQUFVQyxFQUFTRyxHQUNoQkcsT0FBT0MsVUFBVUMsZUFBZUMsS0FBS0MsRUFBaUJYLElBQVlXLEVBQWdCWCxJQUNwRkssRUFBU08sS0FBS0QsRUFBZ0JYLEdBQVMsSUFFeENXLEVBQWdCWCxHQUFXLEVBRTVCLElBQUlELEtBQVlHLEVBQ1pLLE9BQU9DLFVBQVVDLGVBQWVDLEtBQUtSLEVBQWFILEtBQ3BEYyxFQUFRZCxHQUFZRyxFQUFZSCxJQUtsQyxJQUZHZSxHQUFxQkEsRUFBb0JoQixHQUV0Q08sRUFBU0MsUUFDZEQsRUFBU1UsT0FBVFYsR0FPRCxPQUhBVyxFQUFnQkosS0FBS0ssTUFBTUQsRUFBaUJiLEdB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MlosWUFBWUoiLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBpbnN0YWxsIGEgSlNPTlAgY2FsbGJhY2sgZm9yIGNodW5rIGxvYWRpbmdcbiBcdGZ1bmN0aW9uIHdlYnBhY2tKc29ucENhbGxiYWNrKGRhdGEpIHtcbiBcdFx0dmFyIGNodW5rSWRzID0gZGF0YVswXTtcbiBcdFx0dmFyIG1vcmVNb2R1bGVzID0gZGF0YVsxXTtcbiBcdFx0dmFyIGV4ZWN1dGVNb2R1bGVzID0gZGF0YVsyXTtcblxuIFx0XHQvLyBhZGQgXCJtb3JlTW9kdWxlc1wiIHRvIHRoZSBtb2R1bGVzIG9iamVjdCxcbiBcdFx0Ly8gdGhlbiBmbGFnIGFsbCBcImNodW5rSWRzXCIgYXMgbG9hZGVkIGFuZCBmaXJlIGNhbGxiYWNrXG4gXHRcdHZhciBtb2R1bGVJZCwgY2h1bmtJZCwgaSA9IDAsIHJlc29sdmVzID0gW107XG4gXHRcdGZvcig7aSA8IGNodW5rSWRzLmxlbmd0aDsgaSsrKSB7XG4gXHRcdFx0Y2h1bmtJZCA9IGNodW5rSWRzW2ldO1xuIFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChpbnN0YWxsZWRDaHVua3MsIGNodW5rSWQpICYmIGluc3RhbGxlZENodW5rc1tjaHVua0lkXSkge1xuIFx0XHRcdFx0cmVzb2x2ZXMucHVzaChpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF1bMF0pO1xuIFx0XHRcdH1cbiBcdFx0XHRpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0gPSAwO1xuIFx0XHR9XG4gXHRcdGZvcihtb2R1bGVJZCBpbiBtb3JlTW9kdWxlcykge1xuIFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtb3JlTW9kdWxlcywgbW9kdWxlSWQpKSB7XG4gXHRcdFx0XHRtb2R1bGVzW21vZHVsZUlkXSA9IG1vcmVNb2R1bGVzW21vZHVsZUlkXTtcbiBcdFx0XHR9XG4gXHRcdH1cbiBcdFx0aWYocGFyZW50SnNvbnBGdW5jdGlvbikgcGFyZW50SnNvbnBGdW5jdGlvbihkYXRhKTtcblxuIFx0XHR3aGlsZShyZXNvbHZlcy5sZW5ndGgpIHtcbiBcdFx0XHRyZXNvbHZlcy5zaGlmdCgpKCk7XG4gXHRcdH1cblxuIFx0XHQvLyBhZGQgZW50cnkgbW9kdWxlcyBmcm9tIGxvYWRlZCBjaHVuayB0byBkZWZlcnJlZCBsaXN0XG4gXHRcdGRlZmVycmVkTW9kdWxlcy5wdXNoLmFwcGx5KGRlZmVycmVkTW9kdWxlcywgZXhlY3V0ZU1vZHVsZXMgfHwgW10pO1xuXG4gXHRcdC8vIHJ1biBkZWZlcnJlZCBtb2R1bGVzIHdoZW4gYWxsIGNodW5rcyByZWFkeVxuIFx0XHRyZXR1cm4gY2hlY2tEZWZlcnJlZE1vZHVsZXMoKTtcbiBcdH07XG4gXHRmdW5jdGlvbiBjaGVja0RlZmVycmVkTW9kdWxlcygpIHtcbiBcdFx0dmFyIHJlc3VsdDtcbiBcdFx0Zm9yKHZhciBpID0gMDsgaSA8IGRlZmVycmVkTW9kdWxlcy5sZW5ndGg7IGkrKykge1xuIFx0XHRcdHZhciBkZWZlcnJlZE1vZHVsZSA9IGRlZmVycmVkTW9kdWxlc1tpXTtcbiBcdFx0XHR2YXIgZnVsZmlsbGVkID0gdHJ1ZTtcbiBcdFx0XHRmb3IodmFyIGogPSAxOyBqIDwgZGVmZXJyZWRNb2R1bGUubGVuZ3RoOyBqKyspIHtcbiBcdFx0XHRcdHZhciBkZXBJZCA9IGRlZmVycmVkTW9kdWxlW2pdO1xuIFx0XHRcdFx0aWYoaW5zdGFsbGVkQ2h1bmtzW2RlcElkXSAhPT0gMCkgZnVsZmlsbGVkID0gZmFsc2U7XG4gXHRcdFx0fVxuIFx0XHRcdGlmKGZ1bGZpbGxlZCkge1xuIFx0XHRcdFx0ZGVmZXJyZWRNb2R1bGVzLnNwbGljZShpLS0sIDEpO1xuIFx0XHRcdFx0cmVzdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSBkZWZlcnJlZE1vZHVsZVswXSk7XG4gXHRcdFx0fVxuIFx0XHR9XG5cbiBcdFx0cmV0dXJuIHJlc3VsdDtcbiBcdH1cblxuIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gb2JqZWN0IHRvIHN0b3JlIGxvYWRlZCBhbmQgbG9hZGluZyBjaHVua3NcbiBcdC8vIHVuZGVmaW5lZCA9IGNodW5rIG5vdCBsb2FkZWQsIG51bGwgPSBjaHVuayBwcmVsb2FkZWQvcHJlZmV0Y2hlZFxuIFx0Ly8gUHJvbWlzZSA9IGNodW5rIGxvYWRpbmcsIDAgPSBjaHVuayBsb2FkZWRcbiBcdHZhciBpbnN0YWxsZWRDaHVua3MgPSB7XG4gXHRcdDI6IDAsXG4gXHRcdDE6IDBcbiBcdH07XG5cbiBcdHZhciBkZWZlcnJlZE1vZHVsZXMgPSBbXTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuIFx0dmFyIGpzb25wQXJyYXkgPSB3aW5kb3dbXCJ3ZWJwYWNrSnNvbnBcIl0gPSB3aW5kb3dbXCJ3ZWJwYWNrSnNvbnBcIl0gfHwgW107XG4gXHR2YXIgb2xkSnNvbnBGdW5jdGlvbiA9IGpzb25wQXJyYXkucHVzaC5iaW5kKGpzb25wQXJyYXkpO1xuIFx0anNvbnBBcnJheS5wdXNoID0gd2VicGFja0pzb25wQ2FsbGJhY2s7XG4gXHRqc29ucEFycmF5ID0ganNvbnBBcnJheS5zbGljZSgpO1xuIFx0Zm9yKHZhciBpID0gMDsgaSA8IGpzb25wQXJyYXkubGVuZ3RoOyBpKyspIHdlYnBhY2tKc29ucENhbGxiYWNrKGpzb25wQXJyYXlbaV0pO1xuIFx0dmFyIHBhcmVudEpzb25wRnVuY3Rpb24gPSBvbGRKc29ucEZ1bmN0aW9uO1xuXG5cbiBcdC8vIGFkZCBlbnRyeSBtb2R1bGUgdG8gZGVmZXJyZWQgbGlzdFxuIFx0ZGVmZXJyZWRNb2R1bGVzLnB1c2goWzQ0OSwwLDNdKTtcbiBcdC8vIHJ1biBkZWZlcnJlZCBtb2R1bGVzIHdoZW4gcmVhZHlcbiBcdHJldHVybiBjaGVja0RlZmVycmVkTW9kdWxlcygpO1xuIiwiLyogdHNsaW50OmRpc2FibGUgKi9cbi8qIGVzbGludC1kaXNhYmxlICovXG4vKipcbiAqIEZhc3RBUElcbiAqIE5vIGRlc2NyaXB0aW9uIHByb3ZpZGVkIChnZW5lcmF0ZWQgYnkgT3BlbmFwaSBHZW5lcmF0b3IgaHR0cHM6Ly9naXRodWIuY29tL29wZW5hcGl0b29scy9vcGVuYXBpLWdlbmVyYXRvcilcbiAqXG4gKiBUaGUgdmVyc2lvbiBvZiB0aGUgT3BlbkFQSSBkb2N1bWVudDogMC4xLjBcbiAqIFxuICpcbiAqIE5PVEU6IFRoaXMgY2xhc3MgaXMgYXV0byBnZW5lcmF0ZWQgYnkgT3BlbkFQSSBHZW5lcmF0b3IgKGh0dHBzOi8vb3BlbmFwaS1nZW5lcmF0b3IudGVjaCkuXG4gKiBodHRwczovL29wZW5hcGktZ2VuZXJhdG9yLnRlY2hcbiAqIERvIG5vdCBlZGl0IHRoZSBjbGFzcyBtYW51YWxseS5cbiAqL1xuXG5cbmV4cG9ydCBjb25zdCBCQVNFX1BBVEggPSBcImh0dHA6Ly9sb2NhbGhvc3Q6ODAwMFwiLnJlcGxhY2UoL1xcLyskLywgXCJcIik7XG5cbmNvbnN0IGlzQmxvYiA9ICh2YWx1ZTogYW55KSA9PiB0eXBlb2YgQmxvYiAhPT0gJ3VuZGVmaW5lZCcgJiYgdmFsdWUgaW5zdGFuY2VvZiBCbG9iO1xuXG4vKipcbiAqIFRoaXMgaXMgdGhlIGJhc2UgY2xhc3MgZm9yIGFsbCBnZW5lcmF0ZWQgQVBJIGNsYXNzZXMuXG4gKi9cbmV4cG9ydCBjbGFzcyBCYXNlQVBJIHtcblxuICAgIHByaXZhdGUgbWlkZGxld2FyZTogTWlkZGxld2FyZVtdO1xuXG4gICAgY29uc3RydWN0b3IocHJvdGVjdGVkIGNvbmZpZ3VyYXRpb24gPSBuZXcgQ29uZmlndXJhdGlvbigpKSB7XG4gICAgICAgIHRoaXMubWlkZGxld2FyZSA9IGNvbmZpZ3VyYXRpb24ubWlkZGxld2FyZTtcbiAgICB9XG5cbiAgICB3aXRoTWlkZGxld2FyZTxUIGV4dGVuZHMgQmFzZUFQST4odGhpczogVCwgLi4ubWlkZGxld2FyZXM6IE1pZGRsZXdhcmVbXSkge1xuICAgICAgICBjb25zdCBuZXh0ID0gdGhpcy5jbG9uZTxUPigpO1xuICAgICAgICBuZXh0Lm1pZGRsZXdhcmUgPSBuZXh0Lm1pZGRsZXdhcmUuY29uY2F0KC4uLm1pZGRsZXdhcmVzKTtcbiAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgfVxuXG4gICAgd2l0aFByZU1pZGRsZXdhcmU8VCBleHRlbmRzIEJhc2VBUEk+KHRoaXM6IFQsIC4uLnByZU1pZGRsZXdhcmVzOiBBcnJheTxNaWRkbGV3YXJlWydwcmUnXT4pIHtcbiAgICAgICAgY29uc3QgbWlkZGxld2FyZXMgPSBwcmVNaWRkbGV3YXJlcy5tYXAoKHByZSkgPT4gKHsgcHJlIH0pKTtcbiAgICAgICAgcmV0dXJuIHRoaXMud2l0aE1pZGRsZXdhcmU8VD4oLi4ubWlkZGxld2FyZXMpO1xuICAgIH1cblxuICAgIHdpdGhQb3N0TWlkZGxld2FyZTxUIGV4dGVuZHMgQmFzZUFQST4odGhpczogVCwgLi4ucG9zdE1pZGRsZXdhcmVzOiBBcnJheTxNaWRkbGV3YXJlWydwb3N0J10+KSB7XG4gICAgICAgIGNvbnN0IG1pZGRsZXdhcmVzID0gcG9zdE1pZGRsZXdhcmVzLm1hcCgocG9zdCkgPT4gKHsgcG9zdCB9KSk7XG4gICAgICAgIHJldHVybiB0aGlzLndpdGhNaWRkbGV3YXJlPFQ+KC4uLm1pZGRsZXdhcmVzKTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgYXN5bmMgcmVxdWVzdChjb250ZXh0OiBSZXF1ZXN0T3B0cyk6IFByb21pc2U8UmVzcG9uc2U+IHtcbiAgICAgICAgY29uc3QgeyB1cmwsIGluaXQgfSA9IHRoaXMuY3JlYXRlRmV0Y2hQYXJhbXMoY29udGV4dCk7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5mZXRjaEFwaSh1cmwsIGluaXQpO1xuICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID49IDIwMCAmJiByZXNwb25zZS5zdGF0dXMgPCAzMDApIHtcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyByZXNwb25zZTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGNyZWF0ZUZldGNoUGFyYW1zKGNvbnRleHQ6IFJlcXVlc3RPcHRzKSB7XG4gICAgICAgIGxldCB1cmwgPSB0aGlzLmNvbmZpZ3VyYXRpb24uYmFzZVBhdGggKyBjb250ZXh0LnBhdGg7XG4gICAgICAgIGlmIChjb250ZXh0LnF1ZXJ5ICE9PSB1bmRlZmluZWQgJiYgT2JqZWN0LmtleXMoY29udGV4dC5xdWVyeSkubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgICAvLyBvbmx5IGFkZCB0aGUgcXVlcnlzdHJpbmcgdG8gdGhlIFVSTCBpZiB0aGVyZSBhcmUgcXVlcnkgcGFyYW1ldGVycy5cbiAgICAgICAgICAgIC8vIHRoaXMgaXMgZG9uZSB0byBhdm9pZCB1cmxzIGVuZGluZyB3aXRoIGEgXCI/XCIgY2hhcmFjdGVyIHdoaWNoIGJ1Z2d5IHdlYnNlcnZlcnNcbiAgICAgICAgICAgIC8vIGRvIG5vdCBoYW5kbGUgY29ycmVjdGx5IHNvbWV0aW1lcy5cbiAgICAgICAgICAgIHVybCArPSAnPycgKyB0aGlzLmNvbmZpZ3VyYXRpb24ucXVlcnlQYXJhbXNTdHJpbmdpZnkoY29udGV4dC5xdWVyeSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYm9keSA9IChjb250ZXh0LmJvZHkgaW5zdGFuY2VvZiBGb3JtRGF0YSB8fCBjb250ZXh0LmJvZHkgaW5zdGFuY2VvZiBVUkxTZWFyY2hQYXJhbXMgfHwgaXNCbG9iKGNvbnRleHQuYm9keSkpXG5cdCAgICA/IGNvbnRleHQuYm9keVxuXHQgICAgOiBKU09OLnN0cmluZ2lmeShjb250ZXh0LmJvZHkpO1xuXG4gICAgICAgIGNvbnN0IGhlYWRlcnMgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLmNvbmZpZ3VyYXRpb24uaGVhZGVycywgY29udGV4dC5oZWFkZXJzKTtcbiAgICAgICAgY29uc3QgaW5pdCA9IHtcbiAgICAgICAgICAgIG1ldGhvZDogY29udGV4dC5tZXRob2QsXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgYm9keSxcbiAgICAgICAgICAgIGNyZWRlbnRpYWxzOiB0aGlzLmNvbmZpZ3VyYXRpb24uY3JlZGVudGlhbHNcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHsgdXJsLCBpbml0IH07XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBmZXRjaEFwaSA9IGFzeW5jICh1cmw6IHN0cmluZywgaW5pdDogUmVxdWVzdEluaXQpID0+IHtcbiAgICAgICAgbGV0IGZldGNoUGFyYW1zID0geyB1cmwsIGluaXQgfTtcbiAgICAgICAgZm9yIChjb25zdCBtaWRkbGV3YXJlIG9mIHRoaXMubWlkZGxld2FyZSkge1xuICAgICAgICAgICAgaWYgKG1pZGRsZXdhcmUucHJlKSB7XG4gICAgICAgICAgICAgICAgZmV0Y2hQYXJhbXMgPSBhd2FpdCBtaWRkbGV3YXJlLnByZSh7XG4gICAgICAgICAgICAgICAgICAgIGZldGNoOiB0aGlzLmZldGNoQXBpLFxuICAgICAgICAgICAgICAgICAgICAuLi5mZXRjaFBhcmFtcyxcbiAgICAgICAgICAgICAgICB9KSB8fCBmZXRjaFBhcmFtcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBsZXQgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmNvbmZpZ3VyYXRpb24uZmV0Y2hBcGkoZmV0Y2hQYXJhbXMudXJsLCBmZXRjaFBhcmFtcy5pbml0KTtcbiAgICAgICAgZm9yIChjb25zdCBtaWRkbGV3YXJlIG9mIHRoaXMubWlkZGxld2FyZSkge1xuICAgICAgICAgICAgaWYgKG1pZGRsZXdhcmUucG9zdCkge1xuICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gYXdhaXQgbWlkZGxld2FyZS5wb3N0KHtcbiAgICAgICAgICAgICAgICAgICAgZmV0Y2g6IHRoaXMuZmV0Y2hBcGksXG4gICAgICAgICAgICAgICAgICAgIHVybCxcbiAgICAgICAgICAgICAgICAgICAgaW5pdCxcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2U6IHJlc3BvbnNlLmNsb25lKCksXG4gICAgICAgICAgICAgICAgfSkgfHwgcmVzcG9uc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIHNoYWxsb3cgY2xvbmUgb2YgYHRoaXNgIGJ5IGNvbnN0cnVjdGluZyBhIG5ldyBpbnN0YW5jZVxuICAgICAqIGFuZCB0aGVuIHNoYWxsb3cgY2xvbmluZyBkYXRhIG1lbWJlcnMuXG4gICAgICovXG4gICAgcHJpdmF0ZSBjbG9uZTxUIGV4dGVuZHMgQmFzZUFQST4odGhpczogVCk6IFQge1xuICAgICAgICBjb25zdCBjb25zdHJ1Y3RvciA9IHRoaXMuY29uc3RydWN0b3IgYXMgYW55O1xuICAgICAgICBjb25zdCBuZXh0ID0gbmV3IGNvbnN0cnVjdG9yKHRoaXMuY29uZmlndXJhdGlvbik7XG4gICAgICAgIG5leHQubWlkZGxld2FyZSA9IHRoaXMubWlkZGxld2FyZS5zbGljZSgpO1xuICAgICAgICByZXR1cm4gbmV4dDtcbiAgICB9XG59O1xuXG5leHBvcnQgY2xhc3MgUmVxdWlyZWRFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICBuYW1lOiBcIlJlcXVpcmVkRXJyb3JcIiA9IFwiUmVxdWlyZWRFcnJvclwiO1xuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBmaWVsZDogc3RyaW5nLCBtc2c/OiBzdHJpbmcpIHtcbiAgICAgICAgc3VwZXIobXNnKTtcbiAgICB9XG59XG5cbmV4cG9ydCBjb25zdCBDT0xMRUNUSU9OX0ZPUk1BVFMgPSB7XG4gICAgY3N2OiBcIixcIixcbiAgICBzc3Y6IFwiIFwiLFxuICAgIHRzdjogXCJcXHRcIixcbiAgICBwaXBlczogXCJ8XCIsXG59O1xuXG5leHBvcnQgdHlwZSBGZXRjaEFQSSA9IFdpbmRvd09yV29ya2VyR2xvYmFsU2NvcGVbJ2ZldGNoJ107XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29uZmlndXJhdGlvblBhcmFtZXRlcnMge1xuICAgIGJhc2VQYXRoPzogc3RyaW5nOyAvLyBvdmVycmlkZSBiYXNlIHBhdGhcbiAgICBmZXRjaEFwaT86IEZldGNoQVBJOyAvLyBvdmVycmlkZSBmb3IgZmV0Y2ggaW1wbGVtZW50YXRpb25cbiAgICBtaWRkbGV3YXJlPzogTWlkZGxld2FyZVtdOyAvLyBtaWRkbGV3YXJlIHRvIGFwcGx5IGJlZm9yZS9hZnRlciBmZXRjaCByZXF1ZXN0c1xuICAgIHF1ZXJ5UGFyYW1zU3RyaW5naWZ5PzogKHBhcmFtczogSFRUUFF1ZXJ5KSA9PiBzdHJpbmc7IC8vIHN0cmluZ2lmeSBmdW5jdGlvbiBmb3IgcXVlcnkgc3RyaW5nc1xuICAgIHVzZXJuYW1lPzogc3RyaW5nOyAvLyBwYXJhbWV0ZXIgZm9yIGJhc2ljIHNlY3VyaXR5XG4gICAgcGFzc3dvcmQ/OiBzdHJpbmc7IC8vIHBhcmFtZXRlciBmb3IgYmFzaWMgc2VjdXJpdHlcbiAgICBhcGlLZXk/OiBzdHJpbmcgfCAoKG5hbWU6IHN0cmluZykgPT4gc3RyaW5nKTsgLy8gcGFyYW1ldGVyIGZvciBhcGlLZXkgc2VjdXJpdHlcbiAgICBhY2Nlc3NUb2tlbj86IHN0cmluZyB8ICgobmFtZT86IHN0cmluZywgc2NvcGVzPzogc3RyaW5nW10pID0+IHN0cmluZyk7IC8vIHBhcmFtZXRlciBmb3Igb2F1dGgyIHNlY3VyaXR5XG4gICAgaGVhZGVycz86IEhUVFBIZWFkZXJzOyAvL2hlYWRlciBwYXJhbXMgd2Ugd2FudCB0byB1c2Ugb24gZXZlcnkgcmVxdWVzdFxuICAgIGNyZWRlbnRpYWxzPzogUmVxdWVzdENyZWRlbnRpYWxzOyAvL3ZhbHVlIGZvciB0aGUgY3JlZGVudGlhbHMgcGFyYW0gd2Ugd2FudCB0byB1c2Ugb24gZWFjaCByZXF1ZXN0XG59XG5cbmV4cG9ydCBjbGFzcyBDb25maWd1cmF0aW9uIHtcbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIGNvbmZpZ3VyYXRpb246IENvbmZpZ3VyYXRpb25QYXJhbWV0ZXJzID0ge30pIHt9XG5cbiAgICBnZXQgYmFzZVBhdGgoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uZmlndXJhdGlvbi5iYXNlUGF0aCAhPSBudWxsID8gdGhpcy5jb25maWd1cmF0aW9uLmJhc2VQYXRoIDogQkFTRV9QQVRIO1xuICAgIH1cblxuICAgIGdldCBmZXRjaEFwaSgpOiBGZXRjaEFQSSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbmZpZ3VyYXRpb24uZmV0Y2hBcGkgfHwgd2luZG93LmZldGNoLmJpbmQod2luZG93KTtcbiAgICB9XG5cbiAgICBnZXQgbWlkZGxld2FyZSgpOiBNaWRkbGV3YXJlW10ge1xuICAgICAgICByZXR1cm4gdGhpcy5jb25maWd1cmF0aW9uLm1pZGRsZXdhcmUgfHwgW107XG4gICAgfVxuXG4gICAgZ2V0IHF1ZXJ5UGFyYW1zU3RyaW5naWZ5KCk6IChwYXJhbXM6IEhUVFBRdWVyeSkgPT4gc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uZmlndXJhdGlvbi5xdWVyeVBhcmFtc1N0cmluZ2lmeSB8fCBxdWVyeXN0cmluZztcbiAgICB9XG5cbiAgICBnZXQgdXNlcm5hbWUoKTogc3RyaW5nIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uZmlndXJhdGlvbi51c2VybmFtZTtcbiAgICB9XG5cbiAgICBnZXQgcGFzc3dvcmQoKTogc3RyaW5nIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uZmlndXJhdGlvbi5wYXNzd29yZDtcbiAgICB9XG5cbiAgICBnZXQgYXBpS2V5KCk6ICgobmFtZTogc3RyaW5nKSA9PiBzdHJpbmcpIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgY29uc3QgYXBpS2V5ID0gdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleTtcbiAgICAgICAgaWYgKGFwaUtleSkge1xuICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiBhcGlLZXkgPT09ICdmdW5jdGlvbicgPyBhcGlLZXkgOiAoKSA9PiBhcGlLZXk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBnZXQgYWNjZXNzVG9rZW4oKTogKChuYW1lOiBzdHJpbmcsIHNjb3Blcz86IHN0cmluZ1tdKSA9PiBzdHJpbmcpIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgY29uc3QgYWNjZXNzVG9rZW4gPSB0aGlzLmNvbmZpZ3VyYXRpb24uYWNjZXNzVG9rZW47XG4gICAgICAgIGlmIChhY2Nlc3NUb2tlbikge1xuICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiBhY2Nlc3NUb2tlbiA9PT0gJ2Z1bmN0aW9uJyA/IGFjY2Vzc1Rva2VuIDogKCkgPT4gYWNjZXNzVG9rZW47XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBnZXQgaGVhZGVycygpOiAgSFRUUEhlYWRlcnMgfCB1bmRlZmluZWQge1xuICAgICAgICByZXR1cm4gdGhpcy5jb25maWd1cmF0aW9uLmhlYWRlcnM7XG4gICAgfVxuXG4gICAgZ2V0IGNyZWRlbnRpYWxzKCk6IFJlcXVlc3RDcmVkZW50aWFscyB8IHVuZGVmaW5lZCB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbmZpZ3VyYXRpb24uY3JlZGVudGlhbHM7XG4gICAgfVxufVxuXG5leHBvcnQgdHlwZSBKc29uID0gYW55O1xuZXhwb3J0IHR5cGUgSFRUUE1ldGhvZCA9ICdHRVQnIHwgJ1BPU1QnIHwgJ1BVVCcgfCAnUEFUQ0gnIHwgJ0RFTEVURScgfCAnT1BUSU9OUyc7XG5leHBvcnQgdHlwZSBIVFRQSGVhZGVycyA9IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH07XG5leHBvcnQgdHlwZSBIVFRQUXVlcnkgPSB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB8IG51bWJlciB8IG51bGwgfCBib29sZWFuIHwgQXJyYXk8c3RyaW5nIHwgbnVtYmVyIHwgbnVsbCB8IGJvb2xlYW4+IHwgSFRUUFF1ZXJ5IH07XG5leHBvcnQgdHlwZSBIVFRQQm9keSA9IEpzb24gfCBGb3JtRGF0YSB8IFVSTFNlYXJjaFBhcmFtcztcbmV4cG9ydCB0eXBlIE1vZGVsUHJvcGVydHlOYW1pbmcgPSAnY2FtZWxDYXNlJyB8ICdzbmFrZV9jYXNlJyB8ICdQYXNjYWxDYXNlJyB8ICdvcmlnaW5hbCc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRmV0Y2hQYXJhbXMge1xuICAgIHVybDogc3RyaW5nO1xuICAgIGluaXQ6IFJlcXVlc3RJbml0O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFJlcXVlc3RPcHRzIHtcbiAgICBwYXRoOiBzdHJpbmc7XG4gICAgbWV0aG9kOiBIVFRQTWV0aG9kO1xuICAgIGhlYWRlcnM6IEhUVFBIZWFkZXJzO1xuICAgIHF1ZXJ5PzogSFRUUFF1ZXJ5O1xuICAgIGJvZHk/OiBIVFRQQm9keTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGV4aXN0cyhqc29uOiBhbnksIGtleTogc3RyaW5nKSB7XG4gICAgY29uc3QgdmFsdWUgPSBqc29uW2tleV07XG4gICAgcmV0dXJuIHZhbHVlICE9PSBudWxsICYmIHZhbHVlICE9PSB1bmRlZmluZWQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBxdWVyeXN0cmluZyhwYXJhbXM6IEhUVFBRdWVyeSwgcHJlZml4OiBzdHJpbmcgPSAnJyk6IHN0cmluZyB7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKHBhcmFtcylcbiAgICAgICAgLm1hcCgoa2V5KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBmdWxsS2V5ID0gcHJlZml4ICsgKHByZWZpeC5sZW5ndGggPyBgWyR7a2V5fV1gIDoga2V5KTtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gcGFyYW1zW2tleV07XG4gICAgICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG11bHRpVmFsdWUgPSB2YWx1ZS5tYXAoc2luZ2xlVmFsdWUgPT4gZW5jb2RlVVJJQ29tcG9uZW50KFN0cmluZyhzaW5nbGVWYWx1ZSkpKVxuICAgICAgICAgICAgICAgICAgICAuam9pbihgJiR7ZW5jb2RlVVJJQ29tcG9uZW50KGZ1bGxLZXkpfT1gKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gYCR7ZW5jb2RlVVJJQ29tcG9uZW50KGZ1bGxLZXkpfT0ke211bHRpVmFsdWV9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIE9iamVjdCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBxdWVyeXN0cmluZyh2YWx1ZSBhcyBIVFRQUXVlcnksIGZ1bGxLZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGAke2VuY29kZVVSSUNvbXBvbmVudChmdWxsS2V5KX09JHtlbmNvZGVVUklDb21wb25lbnQoU3RyaW5nKHZhbHVlKSl9YDtcbiAgICAgICAgfSlcbiAgICAgICAgLmZpbHRlcihwYXJ0ID0+IHBhcnQubGVuZ3RoID4gMClcbiAgICAgICAgLmpvaW4oJyYnKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1hcFZhbHVlcyhkYXRhOiBhbnksIGZuOiAoaXRlbTogYW55KSA9PiBhbnkpIHtcbiAgcmV0dXJuIE9iamVjdC5rZXlzKGRhdGEpLnJlZHVjZShcbiAgICAoYWNjLCBrZXkpID0+ICh7IC4uLmFjYywgW2tleV06IGZuKGRhdGFba2V5XSkgfSksXG4gICAge31cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNhbkNvbnN1bWVGb3JtKGNvbnN1bWVzOiBDb25zdW1lW10pOiBib29sZWFuIHtcbiAgICBmb3IgKGNvbnN0IGNvbnN1bWUgb2YgY29uc3VtZXMpIHtcbiAgICAgICAgaWYgKCdtdWx0aXBhcnQvZm9ybS1kYXRhJyA9PT0gY29uc3VtZS5jb250ZW50VHlwZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENvbnN1bWUge1xuICAgIGNvbnRlbnRUeXBlOiBzdHJpbmdcbn1cblxuZXhwb3J0IGludGVyZmFjZSBSZXF1ZXN0Q29udGV4dCB7XG4gICAgZmV0Y2g6IEZldGNoQVBJO1xuICAgIHVybDogc3RyaW5nO1xuICAgIGluaXQ6IFJlcXVlc3RJbml0O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFJlc3BvbnNlQ29udGV4dCB7XG4gICAgZmV0Y2g6IEZldGNoQVBJO1xuICAgIHVybDogc3RyaW5nO1xuICAgIGluaXQ6IFJlcXVlc3RJbml0O1xuICAgIHJlc3BvbnNlOiBSZXNwb25zZTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBNaWRkbGV3YXJlIHtcbiAgICBwcmU/KGNvbnRleHQ6IFJlcXVlc3RDb250ZXh0KTogUHJvbWlzZTxGZXRjaFBhcmFtcyB8IHZvaWQ+O1xuICAgIHBvc3Q/KGNvbnRleHQ6IFJlc3BvbnNlQ29udGV4dCk6IFByb21pc2U8UmVzcG9uc2UgfCB2b2lkPjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBBcGlSZXNwb25zZTxUPiB7XG4gICAgcmF3OiBSZXNwb25zZTtcbiAgICB2YWx1ZSgpOiBQcm9taXNlPFQ+O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFJlc3BvbnNlVHJhbnNmb3JtZXI8VD4ge1xuICAgIChqc29uOiBhbnkpOiBUO1xufVxuXG5leHBvcnQgY2xhc3MgSlNPTkFwaVJlc3BvbnNlPFQ+IHtcbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgcmF3OiBSZXNwb25zZSwgcHJpdmF0ZSB0cmFuc2Zvcm1lcjogUmVzcG9uc2VUcmFuc2Zvcm1lcjxUPiA9IChqc29uVmFsdWU6IGFueSkgPT4ganNvblZhbHVlKSB7fVxuXG4gICAgYXN5bmMgdmFsdWUoKTogUHJvbWlzZTxUPiB7XG4gICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybWVyKGF3YWl0IHRoaXMucmF3Lmpzb24oKSk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgVm9pZEFwaVJlc3BvbnNlIHtcbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgcmF3OiBSZXNwb25zZSkge31cblxuICAgIGFzeW5jIHZhbHVlKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEJsb2JBcGlSZXNwb25zZSB7XG4gICAgY29uc3RydWN0b3IocHVibGljIHJhdzogUmVzcG9uc2UpIHt9XG5cbiAgICBhc3luYyB2YWx1ZSgpOiBQcm9taXNlPEJsb2I+IHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMucmF3LmJsb2IoKTtcbiAgICB9O1xufVxuXG5leHBvcnQgY2xhc3MgVGV4dEFwaVJlc3BvbnNlIHtcbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgcmF3OiBSZXNwb25zZSkge31cblxuICAgIGFzeW5jIHZhbHVlKCk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLnJhdy50ZXh0KCk7XG4gICAgfTtcbn1cbiIsIi8qIHRzbGludDpkaXNhYmxlICovXG4vKiBlc2xpbnQtZGlzYWJsZSAqL1xuLyoqXG4gKiBGYXN0QVBJXG4gKiBObyBkZXNjcmlwdGlvbiBwcm92aWRlZCAoZ2VuZXJhdGVkIGJ5IE9wZW5hcGkgR2VuZXJhdG9yIGh0dHBzOi8vZ2l0aHViLmNvbS9vcGVuYXBpdG9vbHMvb3BlbmFwaS1nZW5lcmF0b3IpXG4gKlxuICogVGhlIHZlcnNpb24gb2YgdGhlIE9wZW5BUEkgZG9jdW1lbnQ6IDAuMS4wXG4gKiBcbiAqXG4gKiBOT1RFOiBUaGlzIGNsYXNzIGlzIGF1dG8gZ2VuZXJhdGVkIGJ5IE9wZW5BUEkgR2VuZXJhdG9yIChodHRwczovL29wZW5hcGktZ2VuZXJhdG9yLnRlY2gpLlxuICogaHR0cHM6Ly9vcGVuYXBpLWdlbmVyYXRvci50ZWNoXG4gKiBEbyBub3QgZWRpdCB0aGUgY2xhc3MgbWFudWFsbHkuXG4gKi9cblxuLyoqXG4gKiBzdGF0dXMgY29kZXMgZm9yIEJvcnJvd2luZyBhIGJvb2tcbiAqIEBleHBvcnRcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBlbnVtIEJvcnJvd1Jlc3BvbnNlU3RhdHVzIHtcbiAgICBTdWNjZXNzZnVsbHlCb3Jyb3dlZCA9ICdzdWNjZXNzZnVsbHkgYm9ycm93ZWQnLFxuICAgIEFscmVhZHlCb3Jyb3dlZCA9ICdhbHJlYWR5IGJvcnJvd2VkJyxcbiAgICBVc2VyVW5rbm93biA9ICd1c2VyIHVua25vd24nLFxuICAgIE1heGltdW1OdW1iZXJPYkJvb2tzQWxyZWFkeUJvcnJvd2VkID0gJ21heGltdW0gbnVtYmVyIG9iIGJvb2tzIGFscmVhZHkgYm9ycm93ZWQnXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBCb3Jyb3dSZXNwb25zZVN0YXR1c0Zyb21KU09OKGpzb246IGFueSk6IEJvcnJvd1Jlc3BvbnNlU3RhdHVzIHtcbiAgICByZXR1cm4gQm9ycm93UmVzcG9uc2VTdGF0dXNGcm9tSlNPTlR5cGVkKGpzb24sIGZhbHNlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEJvcnJvd1Jlc3BvbnNlU3RhdHVzRnJvbUpTT05UeXBlZChqc29uOiBhbnksIGlnbm9yZURpc2NyaW1pbmF0b3I6IGJvb2xlYW4pOiBCb3Jyb3dSZXNwb25zZVN0YXR1cyB7XG4gICAgcmV0dXJuIGpzb24gYXMgQm9ycm93UmVzcG9uc2VTdGF0dXM7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBCb3Jyb3dSZXNwb25zZVN0YXR1c1RvSlNPTih2YWx1ZT86IEJvcnJvd1Jlc3BvbnNlU3RhdHVzIHwgbnVsbCk6IGFueSB7XG4gICAgcmV0dXJuIHZhbHVlIGFzIGFueTtcbn1cblxuIiwiLyogdHNsaW50OmRpc2FibGUgKi9cbi8qIGVzbGludC1kaXNhYmxlICovXG4vKipcbiAqIEZhc3RBUElcbiAqIE5vIGRlc2NyaXB0aW9uIHByb3ZpZGVkIChnZW5lcmF0ZWQgYnkgT3BlbmFwaSBHZW5lcmF0b3IgaHR0cHM6Ly9naXRodWIuY29tL29wZW5hcGl0b29scy9vcGVuYXBpLWdlbmVyYXRvcilcbiAqXG4gKiBUaGUgdmVyc2lvbiBvZiB0aGUgT3BlbkFQSSBkb2N1bWVudDogMC4xLjBcbiAqIFxuICpcbiAqIE5PVEU6IFRoaXMgY2xhc3MgaXMgYXV0byBnZW5lcmF0ZWQgYnkgT3BlbkFQSSBHZW5lcmF0b3IgKGh0dHBzOi8vb3BlbmFwaS1nZW5lcmF0b3IudGVjaCkuXG4gKiBodHRwczovL29wZW5hcGktZ2VuZXJhdG9yLnRlY2hcbiAqIERvIG5vdCBlZGl0IHRoZSBjbGFzcyBtYW51YWxseS5cbiAqL1xuXG4vKipcbiAqIHN0YXR1cyBjb2RlcyBmb3IgZXh0ZW5kaW5nIGEgYm9vayBib3Jyb3dpbmcgcGVyaW9kXG4gKiBAZXhwb3J0XG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG5leHBvcnQgZW51bSBFeHRlbmRpbmdSZXNwb25zZVN0YXR1cyB7XG4gICAgU3VjY2Vzc2Z1bGx5RXh0ZW5kZWQgPSAnc3VjY2Vzc2Z1bGx5IGV4dGVuZGVkJyxcbiAgICBCb29rTm90Qm9ycm93ZWQgPSAnYm9vayBub3QgYm9ycm93ZWQnLFxuICAgIFVzZXJVbmtub3duID0gJ3VzZXIgdW5rbm93bicsXG4gICAgTWF4aW11bUJvcnJvd1BlcmlvZFJlYWNoZWQgPSAnbWF4aW11bSBib3Jyb3cgcGVyaW9kIHJlYWNoZWQnXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBFeHRlbmRpbmdSZXNwb25zZVN0YXR1c0Zyb21KU09OKGpzb246IGFueSk6IEV4dGVuZGluZ1Jlc3BvbnNlU3RhdHVzIHtcbiAgICByZXR1cm4gRXh0ZW5kaW5nUmVzcG9uc2VTdGF0dXNGcm9tSlNPTlR5cGVkKGpzb24sIGZhbHNlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEV4dGVuZGluZ1Jlc3BvbnNlU3RhdHVzRnJvbUpTT05UeXBlZChqc29uOiBhbnksIGlnbm9yZURpc2NyaW1pbmF0b3I6IGJvb2xlYW4pOiBFeHRlbmRpbmdSZXNwb25zZVN0YXR1cyB7XG4gICAgcmV0dXJuIGpzb24gYXMgRXh0ZW5kaW5nUmVzcG9uc2VTdGF0dXM7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBFeHRlbmRpbmdSZXNwb25zZVN0YXR1c1RvSlNPTih2YWx1ZT86IEV4dGVuZGluZ1Jlc3BvbnNlU3RhdHVzIHwgbnVsbCk6IGFueSB7XG4gICAgcmV0dXJuIHZhbHVlIGFzIGFueTtcbn1cblxuIiwiLyogdHNsaW50OmRpc2FibGUgKi9cbi8qIGVzbGludC1kaXNhYmxlICovXG4vKipcbiAqIEZhc3RBUElcbiAqIE5vIGRlc2NyaXB0aW9uIHByb3ZpZGVkIChnZW5lcmF0ZWQgYnkgT3BlbmFwaSBHZW5lcmF0b3IgaHR0cHM6Ly9naXRodWIuY29tL29wZW5hcGl0b29scy9vcGVuYXBpLWdlbmVyYXRvcilcbiAqXG4gKiBUaGUgdmVyc2lvbiBvZiB0aGUgT3BlbkFQSSBkb2N1bWVudDogMC4xLjBcbiAqIFxuICpcbiAqIE5PVEU6IFRoaXMgY2xhc3MgaXMgYXV0byBnZW5lcmF0ZWQgYnkgT3BlbkFQSSBHZW5lcmF0b3IgKGh0dHBzOi8vb3BlbmFwaS1nZW5lcmF0b3IudGVjaCkuXG4gKiBodHRwczovL29wZW5hcGktZ2VuZXJhdG9yLnRlY2hcbiAqIERvIG5vdCBlZGl0IHRoZSBjbGFzcyBtYW51YWxseS5cbiAqL1xuXG4vKipcbiAqIHN0YXR1cyBjb2RlcyBmb3IgY3JlYXRpbmcgYSBib29rXG4gKiBAZXhwb3J0XG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG5leHBvcnQgZW51bSBQdXRCb29rUmVzcG9uc2VTdGF0dXMge1xuICAgIENyZWF0ZWQgPSAnYm9vayBjcmVhdGVkJyxcbiAgICBOb3RDcmVhdGVkID0gJ2Jvb2sgbm90IGNyZWF0ZWQnXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBQdXRCb29rUmVzcG9uc2VTdGF0dXNGcm9tSlNPTihqc29uOiBhbnkpOiBQdXRCb29rUmVzcG9uc2VTdGF0dXMge1xuICAgIHJldHVybiBQdXRCb29rUmVzcG9uc2VTdGF0dXNGcm9tSlNPTlR5cGVkKGpzb24sIGZhbHNlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFB1dEJvb2tSZXNwb25zZVN0YXR1c0Zyb21KU09OVHlwZWQoanNvbjogYW55LCBpZ25vcmVEaXNjcmltaW5hdG9yOiBib29sZWFuKTogUHV0Qm9va1Jlc3BvbnNlU3RhdHVzIHtcbiAgICByZXR1cm4ganNvbiBhcyBQdXRCb29rUmVzcG9uc2VTdGF0dXM7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBQdXRCb29rUmVzcG9uc2VTdGF0dXNUb0pTT04odmFsdWU/OiBQdXRCb29rUmVzcG9uc2VTdGF0dXMgfCBudWxsKTogYW55IHtcbiAgICByZXR1cm4gdmFsdWUgYXMgYW55O1xufVxuXG4iLCIvKiB0c2xpbnQ6ZGlzYWJsZSAqL1xuLyogZXNsaW50LWRpc2FibGUgKi9cbi8qKlxuICogRmFzdEFQSVxuICogTm8gZGVzY3JpcHRpb24gcHJvdmlkZWQgKGdlbmVyYXRlZCBieSBPcGVuYXBpIEdlbmVyYXRvciBodHRwczovL2dpdGh1Yi5jb20vb3BlbmFwaXRvb2xzL29wZW5hcGktZ2VuZXJhdG9yKVxuICpcbiAqIFRoZSB2ZXJzaW9uIG9mIHRoZSBPcGVuQVBJIGRvY3VtZW50OiAwLjEuMFxuICogXG4gKlxuICogTk9URTogVGhpcyBjbGFzcyBpcyBhdXRvIGdlbmVyYXRlZCBieSBPcGVuQVBJIEdlbmVyYXRvciAoaHR0cHM6Ly9vcGVuYXBpLWdlbmVyYXRvci50ZWNoKS5cbiAqIGh0dHBzOi8vb3BlbmFwaS1nZW5lcmF0b3IudGVjaFxuICogRG8gbm90IGVkaXQgdGhlIGNsYXNzIG1hbnVhbGx5LlxuICovXG5cbi8qKlxuICogc3RhdHVzIGNvZGVzIGZvciBjcmVhdGluZyBhIHVzZXJcbiAqIEBleHBvcnRcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBlbnVtIFB1dFVzZXJSZXNwb25zZVN0YXR1cyB7XG4gICAgQ3JlYXRlZCA9ICd1c2VyIGNyZWF0ZWQnLFxuICAgIE5vdENyZWF0ZWQgPSAndXNlciBub3QgY3JlYXRlZCdcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFB1dFVzZXJSZXNwb25zZVN0YXR1c0Zyb21KU09OKGpzb246IGFueSk6IFB1dFVzZXJSZXNwb25zZVN0YXR1cyB7XG4gICAgcmV0dXJuIFB1dFVzZXJSZXNwb25zZVN0YXR1c0Zyb21KU09OVHlwZWQoanNvbiwgZmFsc2UpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gUHV0VXNlclJlc3BvbnNlU3RhdHVzRnJvbUpTT05UeXBlZChqc29uOiBhbnksIGlnbm9yZURpc2NyaW1pbmF0b3I6IGJvb2xlYW4pOiBQdXRVc2VyUmVzcG9uc2VTdGF0dXMge1xuICAgIHJldHVybiBqc29uIGFzIFB1dFVzZXJSZXNwb25zZVN0YXR1cztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFB1dFVzZXJSZXNwb25zZVN0YXR1c1RvSlNPTih2YWx1ZT86IFB1dFVzZXJSZXNwb25zZVN0YXR1cyB8IG51bGwpOiBhbnkge1xuICAgIHJldHVybiB2YWx1ZSBhcyBhbnk7XG59XG5cbiIsIi8qIHRzbGludDpkaXNhYmxlICovXG4vKiBlc2xpbnQtZGlzYWJsZSAqL1xuLyoqXG4gKiBGYXN0QVBJXG4gKiBObyBkZXNjcmlwdGlvbiBwcm92aWRlZCAoZ2VuZXJhdGVkIGJ5IE9wZW5hcGkgR2VuZXJhdG9yIGh0dHBzOi8vZ2l0aHViLmNvbS9vcGVuYXBpdG9vbHMvb3BlbmFwaS1nZW5lcmF0b3IpXG4gKlxuICogVGhlIHZlcnNpb24gb2YgdGhlIE9wZW5BUEkgZG9jdW1lbnQ6IDAuMS4wXG4gKiBcbiAqXG4gKiBOT1RFOiBUaGlzIGNsYXNzIGlzIGF1dG8gZ2VuZXJhdGVkIGJ5IE9wZW5BUEkgR2VuZXJhdG9yIChodHRwczovL29wZW5hcGktZ2VuZXJhdG9yLnRlY2gpLlxuICogaHR0cHM6Ly9vcGVuYXBpLWdlbmVyYXRvci50ZWNoXG4gKiBEbyBub3QgZWRpdCB0aGUgY2xhc3MgbWFudWFsbHkuXG4gKi9cblxuLyoqXG4gKiBzdGF0dXMgY29kZXMgZm9yIEJvcnJvd2luZyBhIGJvb2tcbiAqIEBleHBvcnRcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBlbnVtIFJldHVybmluZ1Jlc3BvbnNlU3RhdHVzIHtcbiAgICBTdWNjZXNzZnVsbHlSZXR1cm5lZCA9ICdzdWNjZXNzZnVsbHkgcmV0dXJuZWQnLFxuICAgIEJvb2tOb3RCb3Jyb3dlZCA9ICdib29rIG5vdCBib3Jyb3dlZCcsXG4gICAgVXNlclVua25vd24gPSAndXNlciB1bmtub3duJyxcbiAgICBCb29rVW5rbm93biA9ICdib29rIHVua25vd24nXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBSZXR1cm5pbmdSZXNwb25zZVN0YXR1c0Zyb21KU09OKGpzb246IGFueSk6IFJldHVybmluZ1Jlc3BvbnNlU3RhdHVzIHtcbiAgICByZXR1cm4gUmV0dXJuaW5nUmVzcG9uc2VTdGF0dXNGcm9tSlNPTlR5cGVkKGpzb24sIGZhbHNlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFJldHVybmluZ1Jlc3BvbnNlU3RhdHVzRnJvbUpTT05UeXBlZChqc29uOiBhbnksIGlnbm9yZURpc2NyaW1pbmF0b3I6IGJvb2xlYW4pOiBSZXR1cm5pbmdSZXNwb25zZVN0YXR1cyB7XG4gICAgcmV0dXJuIGpzb24gYXMgUmV0dXJuaW5nUmVzcG9uc2VTdGF0dXM7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBSZXR1cm5pbmdSZXNwb25zZVN0YXR1c1RvSlNPTih2YWx1ZT86IFJldHVybmluZ1Jlc3BvbnNlU3RhdHVzIHwgbnVsbCk6IGFueSB7XG4gICAgcmV0dXJuIHZhbHVlIGFzIGFueTtcbn1cblxuIiwiLyogdHNsaW50OmRpc2FibGUgKi9cbi8qIGVzbGludC1kaXNhYmxlICovXG4vKipcbiAqIEZhc3RBUElcbiAqIE5vIGRlc2NyaXB0aW9uIHByb3ZpZGVkIChnZW5lcmF0ZWQgYnkgT3BlbmFwaSBHZW5lcmF0b3IgaHR0cHM6Ly9naXRodWIuY29tL29wZW5hcGl0b29scy9vcGVuYXBpLWdlbmVyYXRvcilcbiAqXG4gKiBUaGUgdmVyc2lvbiBvZiB0aGUgT3BlbkFQSSBkb2N1bWVudDogMC4xLjBcbiAqIFxuICpcbiAqIE5PVEU6IFRoaXMgY2xhc3MgaXMgYXV0byBnZW5lcmF0ZWQgYnkgT3BlbkFQSSBHZW5lcmF0b3IgKGh0dHBzOi8vb3BlbmFwaS1nZW5lcmF0b3IudGVjaCkuXG4gKiBodHRwczovL29wZW5hcGktZ2VuZXJhdG9yLnRlY2hcbiAqIERvIG5vdCBlZGl0IHRoZSBjbGFzcyBtYW51YWxseS5cbiAqL1xuXG5pbXBvcnQgeyBleGlzdHMsIG1hcFZhbHVlcyB9IGZyb20gJy4uL3J1bnRpbWUnO1xuaW1wb3J0IHtcbiAgICBNZWRpYSxcbiAgICBNZWRpYUZyb21KU09OLFxuICAgIE1lZGlhRnJvbUpTT05UeXBlZCxcbiAgICBNZWRpYVRvSlNPTixcbn0gZnJvbSAnLi8nO1xuXG4vKipcbiAqIFxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBCb29rXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQm9vayB7XG4gICAgLyoqXG4gICAgICogXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKiBAbWVtYmVyb2YgQm9va1xuICAgICAqL1xuICAgIGtleTogbnVtYmVyO1xuICAgIC8qKlxuICAgICAqIFxuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICogQG1lbWJlcm9mIEJvb2tcbiAgICAgKi9cbiAgICB0aXRsZTogc3RyaW5nO1xuICAgIC8qKlxuICAgICAqIFxuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICogQG1lbWJlcm9mIEJvb2tcbiAgICAgKi9cbiAgICBhdXRob3I6IHN0cmluZztcbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqIEBtZW1iZXJvZiBCb29rXG4gICAgICovXG4gICAgcHVibGlzaGVyOiBzdHJpbmc7XG4gICAgLyoqXG4gICAgICogXG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKiBAbWVtYmVyb2YgQm9va1xuICAgICAqL1xuICAgIG51bWJlcjogc3RyaW5nO1xuICAgIC8qKlxuICAgICAqIFxuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICogQG1lbWJlcm9mIEJvb2tcbiAgICAgKi9cbiAgICBzaG9ydGhhbmQ6IHN0cmluZztcbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqIEBtZW1iZXJvZiBCb29rXG4gICAgICovXG4gICAgY2F0ZWdvcnk6IHN0cmluZztcbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqIEBtZW1iZXJvZiBCb29rXG4gICAgICovXG4gICAgaXNibj86IHN0cmluZztcbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBAdHlwZSB7TWVkaWF9XG4gICAgICogQG1lbWJlcm9mIEJvb2tcbiAgICAgKi9cbiAgICBtZWRpYT86IE1lZGlhO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gQm9va0Zyb21KU09OKGpzb246IGFueSk6IEJvb2sge1xuICAgIHJldHVybiBCb29rRnJvbUpTT05UeXBlZChqc29uLCBmYWxzZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBCb29rRnJvbUpTT05UeXBlZChqc29uOiBhbnksIGlnbm9yZURpc2NyaW1pbmF0b3I6IGJvb2xlYW4pOiBCb29rIHtcbiAgICBpZiAoKGpzb24gPT09IHVuZGVmaW5lZCkgfHwgKGpzb24gPT09IG51bGwpKSB7XG4gICAgICAgIHJldHVybiBqc29uO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBcbiAgICAgICAgJ2tleSc6IGpzb25bJ2tleSddLFxuICAgICAgICAndGl0bGUnOiBqc29uWyd0aXRsZSddLFxuICAgICAgICAnYXV0aG9yJzoganNvblsnYXV0aG9yJ10sXG4gICAgICAgICdwdWJsaXNoZXInOiBqc29uWydwdWJsaXNoZXInXSxcbiAgICAgICAgJ251bWJlcic6IGpzb25bJ251bWJlciddLFxuICAgICAgICAnc2hvcnRoYW5kJzoganNvblsnc2hvcnRoYW5kJ10sXG4gICAgICAgICdjYXRlZ29yeSc6IGpzb25bJ2NhdGVnb3J5J10sXG4gICAgICAgICdpc2JuJzogIWV4aXN0cyhqc29uLCAnaXNibicpID8gdW5kZWZpbmVkIDoganNvblsnaXNibiddLFxuICAgICAgICAnbWVkaWEnOiAhZXhpc3RzKGpzb24sICdtZWRpYScpID8gdW5kZWZpbmVkIDogTWVkaWFGcm9tSlNPTihqc29uWydtZWRpYSddKSxcbiAgICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gQm9va1RvSlNPTih2YWx1ZT86IEJvb2sgfCBudWxsKTogYW55IHtcbiAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBpZiAodmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIFxuICAgICAgICAna2V5JzogdmFsdWUua2V5LFxuICAgICAgICAndGl0bGUnOiB2YWx1ZS50aXRsZSxcbiAgICAgICAgJ2F1dGhvcic6IHZhbHVlLmF1dGhvcixcbiAgICAgICAgJ3B1Ymxpc2hlcic6IHZhbHVlLnB1Ymxpc2hlcixcbiAgICAgICAgJ251bWJlcic6IHZhbHVlLm51bWJlcixcbiAgICAgICAgJ3Nob3J0aGFuZCc6IHZhbHVlLnNob3J0aGFuZCxcbiAgICAgICAgJ2NhdGVnb3J5JzogdmFsdWUuY2F0ZWdvcnksXG4gICAgICAgICdpc2JuJzogdmFsdWUuaXNibixcbiAgICAgICAgJ21lZGlhJzogTWVkaWFUb0pTT04odmFsdWUubWVkaWEpLFxuICAgIH07XG59XG5cblxuIiwiLyogdHNsaW50OmRpc2FibGUgKi9cbi8qIGVzbGludC1kaXNhYmxlICovXG4vKipcbiAqIEZhc3RBUElcbiAqIE5vIGRlc2NyaXB0aW9uIHByb3ZpZGVkIChnZW5lcmF0ZWQgYnkgT3BlbmFwaSBHZW5lcmF0b3IgaHR0cHM6Ly9naXRodWIuY29tL29wZW5hcGl0b29scy9vcGVuYXBpLWdlbmVyYXRvcilcbiAqXG4gKiBUaGUgdmVyc2lvbiBvZiB0aGUgT3BlbkFQSSBkb2N1bWVudDogMC4xLjBcbiAqIFxuICpcbiAqIE5PVEU6IFRoaXMgY2xhc3MgaXMgYXV0byBnZW5lcmF0ZWQgYnkgT3BlbkFQSSBHZW5lcmF0b3IgKGh0dHBzOi8vb3BlbmFwaS1nZW5lcmF0b3IudGVjaCkuXG4gKiBodHRwczovL29wZW5hcGktZ2VuZXJhdG9yLnRlY2hcbiAqIERvIG5vdCBlZGl0IHRoZSBjbGFzcyBtYW51YWxseS5cbiAqL1xuXG5pbXBvcnQgeyBleGlzdHMsIG1hcFZhbHVlcyB9IGZyb20gJy4uL3J1bnRpbWUnO1xuaW1wb3J0IHtcbiAgICBCb3Jyb3dSZXNwb25zZVN0YXR1cyxcbiAgICBCb3Jyb3dSZXNwb25zZVN0YXR1c0Zyb21KU09OLFxuICAgIEJvcnJvd1Jlc3BvbnNlU3RhdHVzRnJvbUpTT05UeXBlZCxcbiAgICBCb3Jyb3dSZXNwb25zZVN0YXR1c1RvSlNPTixcbn0gZnJvbSAnLi8nO1xuXG4vKipcbiAqIFJlc3BvbnNlIG1vZGVsIGZvciBib3Jyb3dpbmcgYSBib29rXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIEJvcnJvd1Jlc3BvbnNlTW9kZWxcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBCb3Jyb3dSZXNwb25zZU1vZGVsIHtcbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBAdHlwZSB7Qm9ycm93UmVzcG9uc2VTdGF0dXN9XG4gICAgICogQG1lbWJlcm9mIEJvcnJvd1Jlc3BvbnNlTW9kZWxcbiAgICAgKi9cbiAgICBzdGF0dXM6IEJvcnJvd1Jlc3BvbnNlU3RhdHVzO1xuICAgIC8qKlxuICAgICAqIFxuICAgICAqIEB0eXBlIHtEYXRlfVxuICAgICAqIEBtZW1iZXJvZiBCb3Jyb3dSZXNwb25zZU1vZGVsXG4gICAgICovXG4gICAgcmV0dXJuRGF0ZT86IERhdGU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBCb3Jyb3dSZXNwb25zZU1vZGVsRnJvbUpTT04oanNvbjogYW55KTogQm9ycm93UmVzcG9uc2VNb2RlbCB7XG4gICAgcmV0dXJuIEJvcnJvd1Jlc3BvbnNlTW9kZWxGcm9tSlNPTlR5cGVkKGpzb24sIGZhbHNlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEJvcnJvd1Jlc3BvbnNlTW9kZWxGcm9tSlNPTlR5cGVkKGpzb246IGFueSwgaWdub3JlRGlzY3JpbWluYXRvcjogYm9vbGVhbik6IEJvcnJvd1Jlc3BvbnNlTW9kZWwge1xuICAgIGlmICgoanNvbiA9PT0gdW5kZWZpbmVkKSB8fCAoanNvbiA9PT0gbnVsbCkpIHtcbiAgICAgICAgcmV0dXJuIGpzb247XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIFxuICAgICAgICAnc3RhdHVzJzogQm9ycm93UmVzcG9uc2VTdGF0dXNGcm9tSlNPTihqc29uWydzdGF0dXMnXSksXG4gICAgICAgICdyZXR1cm5EYXRlJzogIWV4aXN0cyhqc29uLCAncmV0dXJuX2RhdGUnKSA/IHVuZGVmaW5lZCA6IChuZXcgRGF0ZShqc29uWydyZXR1cm5fZGF0ZSddKSksXG4gICAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEJvcnJvd1Jlc3BvbnNlTW9kZWxUb0pTT04odmFsdWU/OiBCb3Jyb3dSZXNwb25zZU1vZGVsIHwgbnVsbCk6IGFueSB7XG4gICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgaWYgKHZhbHVlID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBcbiAgICAgICAgJ3N0YXR1cyc6IEJvcnJvd1Jlc3BvbnNlU3RhdHVzVG9KU09OKHZhbHVlLnN0YXR1cyksXG4gICAgICAgICdyZXR1cm5fZGF0ZSc6IHZhbHVlLnJldHVybkRhdGUgPT09IHVuZGVmaW5lZCA/IHVuZGVmaW5lZCA6ICh2YWx1ZS5yZXR1cm5EYXRlLnRvSVNPU3RyaW5nKCkuc3Vic3RyKDAsMTApKSxcbiAgICB9O1xufVxuXG5cbiIsIi8qIHRzbGludDpkaXNhYmxlICovXG4vKiBlc2xpbnQtZGlzYWJsZSAqL1xuLyoqXG4gKiBGYXN0QVBJXG4gKiBObyBkZXNjcmlwdGlvbiBwcm92aWRlZCAoZ2VuZXJhdGVkIGJ5IE9wZW5hcGkgR2VuZXJhdG9yIGh0dHBzOi8vZ2l0aHViLmNvbS9vcGVuYXBpdG9vbHMvb3BlbmFwaS1nZW5lcmF0b3IpXG4gKlxuICogVGhlIHZlcnNpb24gb2YgdGhlIE9wZW5BUEkgZG9jdW1lbnQ6IDAuMS4wXG4gKiBcbiAqXG4gKiBOT1RFOiBUaGlzIGNsYXNzIGlzIGF1dG8gZ2VuZXJhdGVkIGJ5IE9wZW5BUEkgR2VuZXJhdG9yIChodHRwczovL29wZW5hcGktZ2VuZXJhdG9yLnRlY2gpLlxuICogaHR0cHM6Ly9vcGVuYXBpLWdlbmVyYXRvci50ZWNoXG4gKiBEbyBub3QgZWRpdCB0aGUgY2xhc3MgbWFudWFsbHkuXG4gKi9cblxuaW1wb3J0IHsgZXhpc3RzLCBtYXBWYWx1ZXMgfSBmcm9tICcuLi9ydW50aW1lJztcbi8qKlxuICogXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENhdGVnb3J5XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2F0ZWdvcnkge1xuICAgIC8qKlxuICAgICAqIFxuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICogQG1lbWJlcm9mIENhdGVnb3J5XG4gICAgICovXG4gICAgbmFtZTogc3RyaW5nO1xuICAgIC8qKlxuICAgICAqIFxuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICogQG1lbWJlcm9mIENhdGVnb3J5XG4gICAgICovXG4gICAgY29sb3I6IHN0cmluZztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIENhdGVnb3J5RnJvbUpTT04oanNvbjogYW55KTogQ2F0ZWdvcnkge1xuICAgIHJldHVybiBDYXRlZ29yeUZyb21KU09OVHlwZWQoanNvbiwgZmFsc2UpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gQ2F0ZWdvcnlGcm9tSlNPTlR5cGVkKGpzb246IGFueSwgaWdub3JlRGlzY3JpbWluYXRvcjogYm9vbGVhbik6IENhdGVnb3J5IHtcbiAgICBpZiAoKGpzb24gPT09IHVuZGVmaW5lZCkgfHwgKGpzb24gPT09IG51bGwpKSB7XG4gICAgICAgIHJldHVybiBqc29uO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBcbiAgICAgICAgJ25hbWUnOiBqc29uWyduYW1lJ10sXG4gICAgICAgICdjb2xvcic6IGpzb25bJ2NvbG9yJ10sXG4gICAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIENhdGVnb3J5VG9KU09OKHZhbHVlPzogQ2F0ZWdvcnkgfCBudWxsKTogYW55IHtcbiAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBpZiAodmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIFxuICAgICAgICAnbmFtZSc6IHZhbHVlLm5hbWUsXG4gICAgICAgICdjb2xvcic6IHZhbHVlLmNvbG9yLFxuICAgIH07XG59XG5cblxuIiwiLyogdHNsaW50OmRpc2FibGUgKi9cbi8qIGVzbGludC1kaXNhYmxlICovXG4vKipcbiAqIEZhc3RBUElcbiAqIE5vIGRlc2NyaXB0aW9uIHByb3ZpZGVkIChnZW5lcmF0ZWQgYnkgT3BlbmFwaSBHZW5lcmF0b3IgaHR0cHM6Ly9naXRodWIuY29tL29wZW5hcGl0b29scy9vcGVuYXBpLWdlbmVyYXRvcilcbiAqXG4gKiBUaGUgdmVyc2lvbiBvZiB0aGUgT3BlbkFQSSBkb2N1bWVudDogMC4xLjBcbiAqIFxuICpcbiAqIE5PVEU6IFRoaXMgY2xhc3MgaXMgYXV0byBnZW5lcmF0ZWQgYnkgT3BlbkFQSSBHZW5lcmF0b3IgKGh0dHBzOi8vb3BlbmFwaS1nZW5lcmF0b3IudGVjaCkuXG4gKiBodHRwczovL29wZW5hcGktZ2VuZXJhdG9yLnRlY2hcbiAqIERvIG5vdCBlZGl0IHRoZSBjbGFzcyBtYW51YWxseS5cbiAqL1xuXG5pbXBvcnQgeyBleGlzdHMsIG1hcFZhbHVlcyB9IGZyb20gJy4uL3J1bnRpbWUnO1xuaW1wb3J0IHtcbiAgICBFeHRlbmRpbmdSZXNwb25zZVN0YXR1cyxcbiAgICBFeHRlbmRpbmdSZXNwb25zZVN0YXR1c0Zyb21KU09OLFxuICAgIEV4dGVuZGluZ1Jlc3BvbnNlU3RhdHVzRnJvbUpTT05UeXBlZCxcbiAgICBFeHRlbmRpbmdSZXNwb25zZVN0YXR1c1RvSlNPTixcbn0gZnJvbSAnLi8nO1xuXG4vKipcbiAqIFJlc3BvbnNlIG1vZGVsIGZvciBleHRlbmRpbmcgYSBib29rIGJvcnJvd2luZyBwZXJpb2RcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgRXh0ZW5kaW5nUmVzcG9uc2VNb2RlbFxuICovXG5leHBvcnQgaW50ZXJmYWNlIEV4dGVuZGluZ1Jlc3BvbnNlTW9kZWwge1xuICAgIC8qKlxuICAgICAqIFxuICAgICAqIEB0eXBlIHtFeHRlbmRpbmdSZXNwb25zZVN0YXR1c31cbiAgICAgKiBAbWVtYmVyb2YgRXh0ZW5kaW5nUmVzcG9uc2VNb2RlbFxuICAgICAqL1xuICAgIHN0YXR1czogRXh0ZW5kaW5nUmVzcG9uc2VTdGF0dXM7XG4gICAgLyoqXG4gICAgICogXG4gICAgICogQHR5cGUge0RhdGV9XG4gICAgICogQG1lbWJlcm9mIEV4dGVuZGluZ1Jlc3BvbnNlTW9kZWxcbiAgICAgKi9cbiAgICByZXR1cm5EYXRlPzogRGF0ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEV4dGVuZGluZ1Jlc3BvbnNlTW9kZWxGcm9tSlNPTihqc29uOiBhbnkpOiBFeHRlbmRpbmdSZXNwb25zZU1vZGVsIHtcbiAgICByZXR1cm4gRXh0ZW5kaW5nUmVzcG9uc2VNb2RlbEZyb21KU09OVHlwZWQoanNvbiwgZmFsc2UpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gRXh0ZW5kaW5nUmVzcG9uc2VNb2RlbEZyb21KU09OVHlwZWQoanNvbjogYW55LCBpZ25vcmVEaXNjcmltaW5hdG9yOiBib29sZWFuKTogRXh0ZW5kaW5nUmVzcG9uc2VNb2RlbCB7XG4gICAgaWYgKChqc29uID09PSB1bmRlZmluZWQpIHx8IChqc29uID09PSBudWxsKSkge1xuICAgICAgICByZXR1cm4ganNvbjtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgXG4gICAgICAgICdzdGF0dXMnOiBFeHRlbmRpbmdSZXNwb25zZVN0YXR1c0Zyb21KU09OKGpzb25bJ3N0YXR1cyddKSxcbiAgICAgICAgJ3JldHVybkRhdGUnOiAhZXhpc3RzKGpzb24sICdyZXR1cm5fZGF0ZScpID8gdW5kZWZpbmVkIDogKG5ldyBEYXRlKGpzb25bJ3JldHVybl9kYXRlJ10pKSxcbiAgICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gRXh0ZW5kaW5nUmVzcG9uc2VNb2RlbFRvSlNPTih2YWx1ZT86IEV4dGVuZGluZ1Jlc3BvbnNlTW9kZWwgfCBudWxsKTogYW55IHtcbiAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBpZiAodmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIFxuICAgICAgICAnc3RhdHVzJzogRXh0ZW5kaW5nUmVzcG9uc2VTdGF0dXNUb0pTT04odmFsdWUuc3RhdHVzKSxcbiAgICAgICAgJ3JldHVybl9kYXRlJzogdmFsdWUucmV0dXJuRGF0ZSA9PT0gdW5kZWZpbmVkID8gdW5kZWZpbmVkIDogKHZhbHVlLnJldHVybkRhdGUudG9JU09TdHJpbmcoKS5zdWJzdHIoMCwxMCkpLFxuICAgIH07XG59XG5cblxuIiwiLyogdHNsaW50OmRpc2FibGUgKi9cbi8qIGVzbGludC1kaXNhYmxlICovXG4vKipcbiAqIEZhc3RBUElcbiAqIE5vIGRlc2NyaXB0aW9uIHByb3ZpZGVkIChnZW5lcmF0ZWQgYnkgT3BlbmFwaSBHZW5lcmF0b3IgaHR0cHM6Ly9naXRodWIuY29tL29wZW5hcGl0b29scy9vcGVuYXBpLWdlbmVyYXRvcilcbiAqXG4gKiBUaGUgdmVyc2lvbiBvZiB0aGUgT3BlbkFQSSBkb2N1bWVudDogMC4xLjBcbiAqIFxuICpcbiAqIE5PVEU6IFRoaXMgY2xhc3MgaXMgYXV0byBnZW5lcmF0ZWQgYnkgT3BlbkFQSSBHZW5lcmF0b3IgKGh0dHBzOi8vb3BlbmFwaS1nZW5lcmF0b3IudGVjaCkuXG4gKiBodHRwczovL29wZW5hcGktZ2VuZXJhdG9yLnRlY2hcbiAqIERvIG5vdCBlZGl0IHRoZSBjbGFzcyBtYW51YWxseS5cbiAqL1xuXG5pbXBvcnQgeyBleGlzdHMsIG1hcFZhbHVlcyB9IGZyb20gJy4uL3J1bnRpbWUnO1xuLyoqXG4gKiBcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgTWVkaWFcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBNZWRpYSB7XG4gICAgLyoqXG4gICAgICogXG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKiBAbWVtYmVyb2YgTWVkaWFcbiAgICAgKi9cbiAgICBjb3Zlcjogc3RyaW5nO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gTWVkaWFGcm9tSlNPTihqc29uOiBhbnkpOiBNZWRpYSB7XG4gICAgcmV0dXJuIE1lZGlhRnJvbUpTT05UeXBlZChqc29uLCBmYWxzZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBNZWRpYUZyb21KU09OVHlwZWQoanNvbjogYW55LCBpZ25vcmVEaXNjcmltaW5hdG9yOiBib29sZWFuKTogTWVkaWEge1xuICAgIGlmICgoanNvbiA9PT0gdW5kZWZpbmVkKSB8fCAoanNvbiA9PT0gbnVsbCkpIHtcbiAgICAgICAgcmV0dXJuIGpzb247XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIFxuICAgICAgICAnY292ZXInOiBqc29uWydjb3ZlciddLFxuICAgIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBNZWRpYVRvSlNPTih2YWx1ZT86IE1lZGlhIHwgbnVsbCk6IGFueSB7XG4gICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgaWYgKHZhbHVlID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBcbiAgICAgICAgJ2NvdmVyJzogdmFsdWUuY292ZXIsXG4gICAgfTtcbn1cblxuXG4iLCIvKiB0c2xpbnQ6ZGlzYWJsZSAqL1xuLyogZXNsaW50LWRpc2FibGUgKi9cbi8qKlxuICogRmFzdEFQSVxuICogTm8gZGVzY3JpcHRpb24gcHJvdmlkZWQgKGdlbmVyYXRlZCBieSBPcGVuYXBpIEdlbmVyYXRvciBodHRwczovL2dpdGh1Yi5jb20vb3BlbmFwaXRvb2xzL29wZW5hcGktZ2VuZXJhdG9yKVxuICpcbiAqIFRoZSB2ZXJzaW9uIG9mIHRoZSBPcGVuQVBJIGRvY3VtZW50OiAwLjEuMFxuICogXG4gKlxuICogTk9URTogVGhpcyBjbGFzcyBpcyBhdXRvIGdlbmVyYXRlZCBieSBPcGVuQVBJIEdlbmVyYXRvciAoaHR0cHM6Ly9vcGVuYXBpLWdlbmVyYXRvci50ZWNoKS5cbiAqIGh0dHBzOi8vb3BlbmFwaS1nZW5lcmF0b3IudGVjaFxuICogRG8gbm90IGVkaXQgdGhlIGNsYXNzIG1hbnVhbGx5LlxuICovXG5cbmltcG9ydCB7IGV4aXN0cywgbWFwVmFsdWVzIH0gZnJvbSAnLi4vcnVudGltZSc7XG5pbXBvcnQge1xuICAgIFB1dEJvb2tSZXNwb25zZVN0YXR1cyxcbiAgICBQdXRCb29rUmVzcG9uc2VTdGF0dXNGcm9tSlNPTixcbiAgICBQdXRCb29rUmVzcG9uc2VTdGF0dXNGcm9tSlNPTlR5cGVkLFxuICAgIFB1dEJvb2tSZXNwb25zZVN0YXR1c1RvSlNPTixcbn0gZnJvbSAnLi8nO1xuXG4vKipcbiAqIFxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBQdXRCb29rUmVzcG9uc2VNb2RlbFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFB1dEJvb2tSZXNwb25zZU1vZGVsIHtcbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBAdHlwZSB7UHV0Qm9va1Jlc3BvbnNlU3RhdHVzfVxuICAgICAqIEBtZW1iZXJvZiBQdXRCb29rUmVzcG9uc2VNb2RlbFxuICAgICAqL1xuICAgIHN0YXR1czogUHV0Qm9va1Jlc3BvbnNlU3RhdHVzO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gUHV0Qm9va1Jlc3BvbnNlTW9kZWxGcm9tSlNPTihqc29uOiBhbnkpOiBQdXRCb29rUmVzcG9uc2VNb2RlbCB7XG4gICAgcmV0dXJuIFB1dEJvb2tSZXNwb25zZU1vZGVsRnJvbUpTT05UeXBlZChqc29uLCBmYWxzZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBQdXRCb29rUmVzcG9uc2VNb2RlbEZyb21KU09OVHlwZWQoanNvbjogYW55LCBpZ25vcmVEaXNjcmltaW5hdG9yOiBib29sZWFuKTogUHV0Qm9va1Jlc3BvbnNlTW9kZWwge1xuICAgIGlmICgoanNvbiA9PT0gdW5kZWZpbmVkKSB8fCAoanNvbiA9PT0gbnVsbCkpIHtcbiAgICAgICAgcmV0dXJuIGpzb247XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIFxuICAgICAgICAnc3RhdHVzJzogUHV0Qm9va1Jlc3BvbnNlU3RhdHVzRnJvbUpTT04oanNvblsnc3RhdHVzJ10pLFxuICAgIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBQdXRCb29rUmVzcG9uc2VNb2RlbFRvSlNPTih2YWx1ZT86IFB1dEJvb2tSZXNwb25zZU1vZGVsIHwgbnVsbCk6IGFueSB7XG4gICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgaWYgKHZhbHVlID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBcbiAgICAgICAgJ3N0YXR1cyc6IFB1dEJvb2tSZXNwb25zZVN0YXR1c1RvSlNPTih2YWx1ZS5zdGF0dXMpLFxuICAgIH07XG59XG5cblxuIiwiLyogdHNsaW50OmRpc2FibGUgKi9cbi8qIGVzbGludC1kaXNhYmxlICovXG4vKipcbiAqIEZhc3RBUElcbiAqIE5vIGRlc2NyaXB0aW9uIHByb3ZpZGVkIChnZW5lcmF0ZWQgYnkgT3BlbmFwaSBHZW5lcmF0b3IgaHR0cHM6Ly9naXRodWIuY29tL29wZW5hcGl0b29scy9vcGVuYXBpLWdlbmVyYXRvcilcbiAqXG4gKiBUaGUgdmVyc2lvbiBvZiB0aGUgT3BlbkFQSSBkb2N1bWVudDogMC4xLjBcbiAqIFxuICpcbiAqIE5PVEU6IFRoaXMgY2xhc3MgaXMgYXV0byBnZW5lcmF0ZWQgYnkgT3BlbkFQSSBHZW5lcmF0b3IgKGh0dHBzOi8vb3BlbmFwaS1nZW5lcmF0b3IudGVjaCkuXG4gKiBodHRwczovL29wZW5hcGktZ2VuZXJhdG9yLnRlY2hcbiAqIERvIG5vdCBlZGl0IHRoZSBjbGFzcyBtYW51YWxseS5cbiAqL1xuXG5pbXBvcnQgeyBleGlzdHMsIG1hcFZhbHVlcyB9IGZyb20gJy4uL3J1bnRpbWUnO1xuaW1wb3J0IHtcbiAgICBQdXRVc2VyUmVzcG9uc2VTdGF0dXMsXG4gICAgUHV0VXNlclJlc3BvbnNlU3RhdHVzRnJvbUpTT04sXG4gICAgUHV0VXNlclJlc3BvbnNlU3RhdHVzRnJvbUpTT05UeXBlZCxcbiAgICBQdXRVc2VyUmVzcG9uc2VTdGF0dXNUb0pTT04sXG59IGZyb20gJy4vJztcblxuLyoqXG4gKiBcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgUHV0VXNlclJlc3BvbnNlTW9kZWxcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBQdXRVc2VyUmVzcG9uc2VNb2RlbCB7XG4gICAgLyoqXG4gICAgICogXG4gICAgICogQHR5cGUge1B1dFVzZXJSZXNwb25zZVN0YXR1c31cbiAgICAgKiBAbWVtYmVyb2YgUHV0VXNlclJlc3BvbnNlTW9kZWxcbiAgICAgKi9cbiAgICBzdGF0dXM6IFB1dFVzZXJSZXNwb25zZVN0YXR1cztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFB1dFVzZXJSZXNwb25zZU1vZGVsRnJvbUpTT04oanNvbjogYW55KTogUHV0VXNlclJlc3BvbnNlTW9kZWwge1xuICAgIHJldHVybiBQdXRVc2VyUmVzcG9uc2VNb2RlbEZyb21KU09OVHlwZWQoanNvbiwgZmFsc2UpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gUHV0VXNlclJlc3BvbnNlTW9kZWxGcm9tSlNPTlR5cGVkKGpzb246IGFueSwgaWdub3JlRGlzY3JpbWluYXRvcjogYm9vbGVhbik6IFB1dFVzZXJSZXNwb25zZU1vZGVsIHtcbiAgICBpZiAoKGpzb24gPT09IHVuZGVmaW5lZCkgfHwgKGpzb24gPT09IG51bGwpKSB7XG4gICAgICAgIHJldHVybiBqc29uO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBcbiAgICAgICAgJ3N0YXR1cyc6IFB1dFVzZXJSZXNwb25zZVN0YXR1c0Zyb21KU09OKGpzb25bJ3N0YXR1cyddKSxcbiAgICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gUHV0VXNlclJlc3BvbnNlTW9kZWxUb0pTT04odmFsdWU/OiBQdXRVc2VyUmVzcG9uc2VNb2RlbCB8IG51bGwpOiBhbnkge1xuICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGlmICh2YWx1ZSA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgXG4gICAgICAgICdzdGF0dXMnOiBQdXRVc2VyUmVzcG9uc2VTdGF0dXNUb0pTT04odmFsdWUuc3RhdHVzKSxcbiAgICB9O1xufVxuXG5cbiIsIi8qIHRzbGludDpkaXNhYmxlICovXG4vKiBlc2xpbnQtZGlzYWJsZSAqL1xuLyoqXG4gKiBGYXN0QVBJXG4gKiBObyBkZXNjcmlwdGlvbiBwcm92aWRlZCAoZ2VuZXJhdGVkIGJ5IE9wZW5hcGkgR2VuZXJhdG9yIGh0dHBzOi8vZ2l0aHViLmNvbS9vcGVuYXBpdG9vbHMvb3BlbmFwaS1nZW5lcmF0b3IpXG4gKlxuICogVGhlIHZlcnNpb24gb2YgdGhlIE9wZW5BUEkgZG9jdW1lbnQ6IDAuMS4wXG4gKiBcbiAqXG4gKiBOT1RFOiBUaGlzIGNsYXNzIGlzIGF1dG8gZ2VuZXJhdGVkIGJ5IE9wZW5BUEkgR2VuZXJhdG9yIChodHRwczovL29wZW5hcGktZ2VuZXJhdG9yLnRlY2gpLlxuICogaHR0cHM6Ly9vcGVuYXBpLWdlbmVyYXRvci50ZWNoXG4gKiBEbyBub3QgZWRpdCB0aGUgY2xhc3MgbWFudWFsbHkuXG4gKi9cblxuaW1wb3J0IHsgZXhpc3RzLCBtYXBWYWx1ZXMgfSBmcm9tICcuLi9ydW50aW1lJztcbmltcG9ydCB7XG4gICAgUmV0dXJuaW5nUmVzcG9uc2VTdGF0dXMsXG4gICAgUmV0dXJuaW5nUmVzcG9uc2VTdGF0dXNGcm9tSlNPTixcbiAgICBSZXR1cm5pbmdSZXNwb25zZVN0YXR1c0Zyb21KU09OVHlwZWQsXG4gICAgUmV0dXJuaW5nUmVzcG9uc2VTdGF0dXNUb0pTT04sXG59IGZyb20gJy4vJztcblxuLyoqXG4gKiBcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgUmV0dXJuaW5nUmVzcG9uc2VNb2RlbFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJldHVybmluZ1Jlc3BvbnNlTW9kZWwge1xuICAgIC8qKlxuICAgICAqIFxuICAgICAqIEB0eXBlIHtSZXR1cm5pbmdSZXNwb25zZVN0YXR1c31cbiAgICAgKiBAbWVtYmVyb2YgUmV0dXJuaW5nUmVzcG9uc2VNb2RlbFxuICAgICAqL1xuICAgIHN0YXR1czogUmV0dXJuaW5nUmVzcG9uc2VTdGF0dXM7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBSZXR1cm5pbmdSZXNwb25zZU1vZGVsRnJvbUpTT04oanNvbjogYW55KTogUmV0dXJuaW5nUmVzcG9uc2VNb2RlbCB7XG4gICAgcmV0dXJuIFJldHVybmluZ1Jlc3BvbnNlTW9kZWxGcm9tSlNPTlR5cGVkKGpzb24sIGZhbHNlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFJldHVybmluZ1Jlc3BvbnNlTW9kZWxGcm9tSlNPTlR5cGVkKGpzb246IGFueSwgaWdub3JlRGlzY3JpbWluYXRvcjogYm9vbGVhbik6IFJldHVybmluZ1Jlc3BvbnNlTW9kZWwge1xuICAgIGlmICgoanNvbiA9PT0gdW5kZWZpbmVkKSB8fCAoanNvbiA9PT0gbnVsbCkpIHtcbiAgICAgICAgcmV0dXJuIGpzb247XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIFxuICAgICAgICAnc3RhdHVzJzogUmV0dXJuaW5nUmVzcG9uc2VTdGF0dXNGcm9tSlNPTihqc29uWydzdGF0dXMnXSksXG4gICAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFJldHVybmluZ1Jlc3BvbnNlTW9kZWxUb0pTT04odmFsdWU/OiBSZXR1cm5pbmdSZXNwb25zZU1vZGVsIHwgbnVsbCk6IGFueSB7XG4gICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgaWYgKHZhbHVlID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBcbiAgICAgICAgJ3N0YXR1cyc6IFJldHVybmluZ1Jlc3BvbnNlU3RhdHVzVG9KU09OKHZhbHVlLnN0YXR1cyksXG4gICAgfTtcbn1cblxuXG4iLCIvKiB0c2xpbnQ6ZGlzYWJsZSAqL1xuLyogZXNsaW50LWRpc2FibGUgKi9cbi8qKlxuICogRmFzdEFQSVxuICogTm8gZGVzY3JpcHRpb24gcHJvdmlkZWQgKGdlbmVyYXRlZCBieSBPcGVuYXBpIEdlbmVyYXRvciBodHRwczovL2dpdGh1Yi5jb20vb3BlbmFwaXRvb2xzL29wZW5hcGktZ2VuZXJhdG9yKVxuICpcbiAqIFRoZSB2ZXJzaW9uIG9mIHRoZSBPcGVuQVBJIGRvY3VtZW50OiAwLjEuMFxuICogXG4gKlxuICogTk9URTogVGhpcyBjbGFzcyBpcyBhdXRvIGdlbmVyYXRlZCBieSBPcGVuQVBJIEdlbmVyYXRvciAoaHR0cHM6Ly9vcGVuYXBpLWdlbmVyYXRvci50ZWNoKS5cbiAqIGh0dHBzOi8vb3BlbmFwaS1nZW5lcmF0b3IudGVjaFxuICogRG8gbm90IGVkaXQgdGhlIGNsYXNzIG1hbnVhbGx5LlxuICovXG5cbmltcG9ydCB7IGV4aXN0cywgbWFwVmFsdWVzIH0gZnJvbSAnLi4vcnVudGltZSc7XG4vKipcbiAqIFxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBVc2VySW5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBVc2VySW4ge1xuICAgIC8qKlxuICAgICAqIFxuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICogQG1lbWJlcm9mIFVzZXJJblxuICAgICAqL1xuICAgIGZpcnN0bmFtZTogc3RyaW5nO1xuICAgIC8qKlxuICAgICAqIFxuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICogQG1lbWJlcm9mIFVzZXJJblxuICAgICAqL1xuICAgIGxhc3RuYW1lOiBzdHJpbmc7XG4gICAgLyoqXG4gICAgICogXG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKiBAbWVtYmVyb2YgVXNlckluXG4gICAgICovXG4gICAgY2xhc3NuYW1lPzogc3RyaW5nO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gVXNlckluRnJvbUpTT04oanNvbjogYW55KTogVXNlckluIHtcbiAgICByZXR1cm4gVXNlckluRnJvbUpTT05UeXBlZChqc29uLCBmYWxzZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBVc2VySW5Gcm9tSlNPTlR5cGVkKGpzb246IGFueSwgaWdub3JlRGlzY3JpbWluYXRvcjogYm9vbGVhbik6IFVzZXJJbiB7XG4gICAgaWYgKChqc29uID09PSB1bmRlZmluZWQpIHx8IChqc29uID09PSBudWxsKSkge1xuICAgICAgICByZXR1cm4ganNvbjtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgXG4gICAgICAgICdmaXJzdG5hbWUnOiBqc29uWydmaXJzdG5hbWUnXSxcbiAgICAgICAgJ2xhc3RuYW1lJzoganNvblsnbGFzdG5hbWUnXSxcbiAgICAgICAgJ2NsYXNzbmFtZSc6ICFleGlzdHMoanNvbiwgJ2NsYXNzbmFtZScpID8gdW5kZWZpbmVkIDoganNvblsnY2xhc3NuYW1lJ10sXG4gICAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFVzZXJJblRvSlNPTih2YWx1ZT86IFVzZXJJbiB8IG51bGwpOiBhbnkge1xuICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGlmICh2YWx1ZSA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgXG4gICAgICAgICdmaXJzdG5hbWUnOiB2YWx1ZS5maXJzdG5hbWUsXG4gICAgICAgICdsYXN0bmFtZSc6IHZhbHVlLmxhc3RuYW1lLFxuICAgICAgICAnY2xhc3NuYW1lJzogdmFsdWUuY2xhc3NuYW1lLFxuICAgIH07XG59XG5cblxuIiwiLyogdHNsaW50OmRpc2FibGUgKi9cbi8qIGVzbGludC1kaXNhYmxlICovXG4vKipcbiAqIEZhc3RBUElcbiAqIE5vIGRlc2NyaXB0aW9uIHByb3ZpZGVkIChnZW5lcmF0ZWQgYnkgT3BlbmFwaSBHZW5lcmF0b3IgaHR0cHM6Ly9naXRodWIuY29tL29wZW5hcGl0b29scy9vcGVuYXBpLWdlbmVyYXRvcilcbiAqXG4gKiBUaGUgdmVyc2lvbiBvZiB0aGUgT3BlbkFQSSBkb2N1bWVudDogMC4xLjBcbiAqIFxuICpcbiAqIE5PVEU6IFRoaXMgY2xhc3MgaXMgYXV0byBnZW5lcmF0ZWQgYnkgT3BlbkFQSSBHZW5lcmF0b3IgKGh0dHBzOi8vb3BlbmFwaS1nZW5lcmF0b3IudGVjaCkuXG4gKiBodHRwczovL29wZW5hcGktZ2VuZXJhdG9yLnRlY2hcbiAqIERvIG5vdCBlZGl0IHRoZSBjbGFzcyBtYW51YWxseS5cbiAqL1xuXG5cbmltcG9ydCAqIGFzIHJ1bnRpbWUgZnJvbSAnLi4vcnVudGltZSc7XG5pbXBvcnQge1xuICAgIEJvb2ssXG4gICAgQm9va0Zyb21KU09OLFxuICAgIEJvb2tUb0pTT04sXG4gICAgQm9ycm93UmVzcG9uc2VNb2RlbCxcbiAgICBCb3Jyb3dSZXNwb25zZU1vZGVsRnJvbUpTT04sXG4gICAgQm9ycm93UmVzcG9uc2VNb2RlbFRvSlNPTixcbiAgICBDYXRlZ29yeSxcbiAgICBDYXRlZ29yeUZyb21KU09OLFxuICAgIENhdGVnb3J5VG9KU09OLFxuICAgIEV4dGVuZGluZ1Jlc3BvbnNlTW9kZWwsXG4gICAgRXh0ZW5kaW5nUmVzcG9uc2VNb2RlbEZyb21KU09OLFxuICAgIEV4dGVuZGluZ1Jlc3BvbnNlTW9kZWxUb0pTT04sXG4gICAgSFRUUFZhbGlkYXRpb25FcnJvcixcbiAgICBIVFRQVmFsaWRhdGlvbkVycm9yRnJvbUpTT04sXG4gICAgSFRUUFZhbGlkYXRpb25FcnJvclRvSlNPTixcbiAgICBQdXRCb29rUmVzcG9uc2VNb2RlbCxcbiAgICBQdXRCb29rUmVzcG9uc2VNb2RlbEZyb21KU09OLFxuICAgIFB1dEJvb2tSZXNwb25zZU1vZGVsVG9KU09OLFxuICAgIFB1dFVzZXJSZXNwb25zZU1vZGVsLFxuICAgIFB1dFVzZXJSZXNwb25zZU1vZGVsRnJvbUpTT04sXG4gICAgUHV0VXNlclJlc3BvbnNlTW9kZWxUb0pTT04sXG4gICAgUmV0dXJuaW5nUmVzcG9uc2VNb2RlbCxcbiAgICBSZXR1cm5pbmdSZXNwb25zZU1vZGVsRnJvbUpTT04sXG4gICAgUmV0dXJuaW5nUmVzcG9uc2VNb2RlbFRvSlNPTixcbiAgICBVc2VySW4sXG4gICAgVXNlckluRnJvbUpTT04sXG4gICAgVXNlckluVG9KU09OLFxufSBmcm9tICcuLi9tb2RlbHMnO1xuXG5leHBvcnQgaW50ZXJmYWNlIEJvb2tDb3ZlckV4aXN0ZXNNZWRpYUV4aXN0c0Jvb2tLZXlHZXRSZXF1ZXN0IHtcbiAgICBib29rS2V5OiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQm9ycm93Qm9va0JvcnJvd1VzZXJLZXlCb29rS2V5UGF0Y2hSZXF1ZXN0IHtcbiAgICB1c2VyS2V5OiBudW1iZXI7XG4gICAgYm9va0tleTogbnVtYmVyO1xuICAgIGR1cmF0aW9uPzogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIERiUHV0Qm9va0Jvb2tQdXRSZXF1ZXN0IHtcbiAgICBib29rOiBCb29rO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEV4dGVuZEJvcnJvd1BlcmlvZEV4dGVuZFVzZXJLZXlCb29rS2V5UGF0Y2hSZXF1ZXN0IHtcbiAgICB1c2VyS2V5OiBudW1iZXI7XG4gICAgYm9va0tleTogbnVtYmVyO1xuICAgIGR1cmF0aW9uPzogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEdldEJvb2tDb3Zlck1lZGlhQm9va0tleUdldFJlcXVlc3Qge1xuICAgIGJvb2tLZXk6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBHZXRCb29rc0Jvb2tzR2V0UmVxdWVzdCB7XG4gICAgdXNlcktleT86IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJbXBvcnRCb29rc0NzdkJvb2tzSW1wb3J0Q3N2UG9zdFJlcXVlc3Qge1xuICAgIGZpbGU6IEJsb2I7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSW1wb3J0VXNlckNzdlVzZXJzSW1wb3J0Q3N2UG9zdFJlcXVlc3Qge1xuICAgIGZpbGU6IEJsb2I7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSXNCb3Jyb3dlZEJvb2tCb3Jyb3dlZEJvb2tLZXlHZXRSZXF1ZXN0IHtcbiAgICBib29rS2V5OiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUHV0VXNlclVzZXJQdXRSZXF1ZXN0IHtcbiAgICB1c2VySW46IFVzZXJJbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBSZXR1cm5Cb29rUmV0dXJuVXNlcktleUJvb2tLZXlQYXRjaFJlcXVlc3Qge1xuICAgIHVzZXJLZXk6IG51bWJlcjtcbiAgICBib29rS2V5OiBudW1iZXI7XG59XG5cbi8qKlxuICogbm8gZGVzY3JpcHRpb25cbiAqL1xuZXhwb3J0IGNsYXNzIERlZmF1bHRCaWJsZXIgZXh0ZW5kcyBydW50aW1lLkJhc2VBUEkge1xuXG4gICAgLyoqXG4gICAgICogQm9vayBDb3ZlciBFeGlzdGVzXG4gICAgICovXG4gICAgYXN5bmMgYm9va0NvdmVyRXhpc3Rlc01lZGlhRXhpc3RzQm9va0tleUdldFJhdyhyZXF1ZXN0UGFyYW1ldGVyczogQm9va0NvdmVyRXhpc3Rlc01lZGlhRXhpc3RzQm9va0tleUdldFJlcXVlc3QpOiBQcm9taXNlPHJ1bnRpbWUuQXBpUmVzcG9uc2U8c3RyaW5nPj4ge1xuICAgICAgICBpZiAocmVxdWVzdFBhcmFtZXRlcnMuYm9va0tleSA9PT0gbnVsbCB8fCByZXF1ZXN0UGFyYW1ldGVycy5ib29rS2V5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBydW50aW1lLlJlcXVpcmVkRXJyb3IoJ2Jvb2tLZXknLCdSZXF1aXJlZCBwYXJhbWV0ZXIgcmVxdWVzdFBhcmFtZXRlcnMuYm9va0tleSB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGJvb2tDb3ZlckV4aXN0ZXNNZWRpYUV4aXN0c0Jvb2tLZXlHZXQuJyk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBxdWVyeVBhcmFtZXRlcnM6IHJ1bnRpbWUuSFRUUFF1ZXJ5ID0ge307XG5cbiAgICAgICAgY29uc3QgaGVhZGVyUGFyYW1ldGVyczogcnVudGltZS5IVFRQSGVhZGVycyA9IHt9O1xuXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5yZXF1ZXN0KHtcbiAgICAgICAgICAgIHBhdGg6IGAvbWVkaWEvZXhpc3RzL3tib29rX2tleX1gLnJlcGxhY2UoYHske1wiYm9va19rZXlcIn19YCwgZW5jb2RlVVJJQ29tcG9uZW50KFN0cmluZyhyZXF1ZXN0UGFyYW1ldGVycy5ib29rS2V5KSkpLFxuICAgICAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlclBhcmFtZXRlcnMsXG4gICAgICAgICAgICBxdWVyeTogcXVlcnlQYXJhbWV0ZXJzLFxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gbmV3IHJ1bnRpbWUuVGV4dEFwaVJlc3BvbnNlKHJlc3BvbnNlKSBhcyBhbnk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQm9vayBDb3ZlciBFeGlzdGVzXG4gICAgICovXG4gICAgYXN5bmMgYm9va0NvdmVyRXhpc3Rlc01lZGlhRXhpc3RzQm9va0tleUdldChyZXF1ZXN0UGFyYW1ldGVyczogQm9va0NvdmVyRXhpc3Rlc01lZGlhRXhpc3RzQm9va0tleUdldFJlcXVlc3QpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYm9va0NvdmVyRXhpc3Rlc01lZGlhRXhpc3RzQm9va0tleUdldFJhdyhyZXF1ZXN0UGFyYW1ldGVycyk7XG4gICAgICAgIHJldHVybiBhd2FpdCByZXNwb25zZS52YWx1ZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEJvcnJvdyBCb29rXG4gICAgICovXG4gICAgYXN5bmMgYm9ycm93Qm9va0JvcnJvd1VzZXJLZXlCb29rS2V5UGF0Y2hSYXcocmVxdWVzdFBhcmFtZXRlcnM6IEJvcnJvd0Jvb2tCb3Jyb3dVc2VyS2V5Qm9va0tleVBhdGNoUmVxdWVzdCk6IFByb21pc2U8cnVudGltZS5BcGlSZXNwb25zZTxCb3Jyb3dSZXNwb25zZU1vZGVsPj4ge1xuICAgICAgICBpZiAocmVxdWVzdFBhcmFtZXRlcnMudXNlcktleSA9PT0gbnVsbCB8fCByZXF1ZXN0UGFyYW1ldGVycy51c2VyS2V5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBydW50aW1lLlJlcXVpcmVkRXJyb3IoJ3VzZXJLZXknLCdSZXF1aXJlZCBwYXJhbWV0ZXIgcmVxdWVzdFBhcmFtZXRlcnMudXNlcktleSB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGJvcnJvd0Jvb2tCb3Jyb3dVc2VyS2V5Qm9va0tleVBhdGNoLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHJlcXVlc3RQYXJhbWV0ZXJzLmJvb2tLZXkgPT09IG51bGwgfHwgcmVxdWVzdFBhcmFtZXRlcnMuYm9va0tleSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgcnVudGltZS5SZXF1aXJlZEVycm9yKCdib29rS2V5JywnUmVxdWlyZWQgcGFyYW1ldGVyIHJlcXVlc3RQYXJhbWV0ZXJzLmJvb2tLZXkgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBib3Jyb3dCb29rQm9ycm93VXNlcktleUJvb2tLZXlQYXRjaC4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHF1ZXJ5UGFyYW1ldGVyczogcnVudGltZS5IVFRQUXVlcnkgPSB7fTtcblxuICAgICAgICBpZiAocmVxdWVzdFBhcmFtZXRlcnMuZHVyYXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzWydkdXJhdGlvbiddID0gcmVxdWVzdFBhcmFtZXRlcnMuZHVyYXRpb247XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBoZWFkZXJQYXJhbWV0ZXJzOiBydW50aW1lLkhUVFBIZWFkZXJzID0ge307XG5cbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnJlcXVlc3Qoe1xuICAgICAgICAgICAgcGF0aDogYC9ib3Jyb3cve3VzZXJfa2V5fS97Ym9va19rZXl9YC5yZXBsYWNlKGB7JHtcInVzZXJfa2V5XCJ9fWAsIGVuY29kZVVSSUNvbXBvbmVudChTdHJpbmcocmVxdWVzdFBhcmFtZXRlcnMudXNlcktleSkpKS5yZXBsYWNlKGB7JHtcImJvb2tfa2V5XCJ9fWAsIGVuY29kZVVSSUNvbXBvbmVudChTdHJpbmcocmVxdWVzdFBhcmFtZXRlcnMuYm9va0tleSkpKSxcbiAgICAgICAgICAgIG1ldGhvZDogJ1BBVENIJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlclBhcmFtZXRlcnMsXG4gICAgICAgICAgICBxdWVyeTogcXVlcnlQYXJhbWV0ZXJzLFxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gbmV3IHJ1bnRpbWUuSlNPTkFwaVJlc3BvbnNlKHJlc3BvbnNlLCAoanNvblZhbHVlKSA9PiBCb3Jyb3dSZXNwb25zZU1vZGVsRnJvbUpTT04oanNvblZhbHVlKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQm9ycm93IEJvb2tcbiAgICAgKi9cbiAgICBhc3luYyBib3Jyb3dCb29rQm9ycm93VXNlcktleUJvb2tLZXlQYXRjaChyZXF1ZXN0UGFyYW1ldGVyczogQm9ycm93Qm9va0JvcnJvd1VzZXJLZXlCb29rS2V5UGF0Y2hSZXF1ZXN0KTogUHJvbWlzZTxCb3Jyb3dSZXNwb25zZU1vZGVsPiB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5ib3Jyb3dCb29rQm9ycm93VXNlcktleUJvb2tLZXlQYXRjaFJhdyhyZXF1ZXN0UGFyYW1ldGVycyk7XG4gICAgICAgIHJldHVybiBhd2FpdCByZXNwb25zZS52YWx1ZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERiIFB1dCBCb29rXG4gICAgICovXG4gICAgYXN5bmMgZGJQdXRCb29rQm9va1B1dFJhdyhyZXF1ZXN0UGFyYW1ldGVyczogRGJQdXRCb29rQm9va1B1dFJlcXVlc3QpOiBQcm9taXNlPHJ1bnRpbWUuQXBpUmVzcG9uc2U8UHV0Qm9va1Jlc3BvbnNlTW9kZWw+PiB7XG4gICAgICAgIGlmIChyZXF1ZXN0UGFyYW1ldGVycy5ib29rID09PSBudWxsIHx8IHJlcXVlc3RQYXJhbWV0ZXJzLmJvb2sgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IHJ1bnRpbWUuUmVxdWlyZWRFcnJvcignYm9vaycsJ1JlcXVpcmVkIHBhcmFtZXRlciByZXF1ZXN0UGFyYW1ldGVycy5ib29rIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZGJQdXRCb29rQm9va1B1dC4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHF1ZXJ5UGFyYW1ldGVyczogcnVudGltZS5IVFRQUXVlcnkgPSB7fTtcblxuICAgICAgICBjb25zdCBoZWFkZXJQYXJhbWV0ZXJzOiBydW50aW1lLkhUVFBIZWFkZXJzID0ge307XG5cbiAgICAgICAgaGVhZGVyUGFyYW1ldGVyc1snQ29udGVudC1UeXBlJ10gPSAnYXBwbGljYXRpb24vanNvbic7XG5cbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnJlcXVlc3Qoe1xuICAgICAgICAgICAgcGF0aDogYC9ib29rYCxcbiAgICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJQYXJhbWV0ZXJzLFxuICAgICAgICAgICAgcXVlcnk6IHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgICAgICAgIGJvZHk6IEJvb2tUb0pTT04ocmVxdWVzdFBhcmFtZXRlcnMuYm9vayksXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBuZXcgcnVudGltZS5KU09OQXBpUmVzcG9uc2UocmVzcG9uc2UsIChqc29uVmFsdWUpID0+IFB1dEJvb2tSZXNwb25zZU1vZGVsRnJvbUpTT04oanNvblZhbHVlKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGIgUHV0IEJvb2tcbiAgICAgKi9cbiAgICBhc3luYyBkYlB1dEJvb2tCb29rUHV0KHJlcXVlc3RQYXJhbWV0ZXJzOiBEYlB1dEJvb2tCb29rUHV0UmVxdWVzdCk6IFByb21pc2U8UHV0Qm9va1Jlc3BvbnNlTW9kZWw+IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmRiUHV0Qm9va0Jvb2tQdXRSYXcocmVxdWVzdFBhcmFtZXRlcnMpO1xuICAgICAgICByZXR1cm4gYXdhaXQgcmVzcG9uc2UudmFsdWUoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBleHBvcnQgYEJvb2tgcyB0byBjc3YgZmlsZVxuICAgICAqIEV4cG9ydCBCb29rcyBDc3ZcbiAgICAgKi9cbiAgICBhc3luYyBleHBvcnRCb29rc0NzdkJvb2tzRXhwb3J0Q3N2R2V0UmF3KCk6IFByb21pc2U8cnVudGltZS5BcGlSZXNwb25zZTx2b2lkPj4ge1xuICAgICAgICBjb25zdCBxdWVyeVBhcmFtZXRlcnM6IHJ1bnRpbWUuSFRUUFF1ZXJ5ID0ge307XG5cbiAgICAgICAgY29uc3QgaGVhZGVyUGFyYW1ldGVyczogcnVudGltZS5IVFRQSGVhZGVycyA9IHt9O1xuXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5yZXF1ZXN0KHtcbiAgICAgICAgICAgIHBhdGg6IGAvYm9va3MvZXhwb3J0L2Nzdi9gLFxuICAgICAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlclBhcmFtZXRlcnMsXG4gICAgICAgICAgICBxdWVyeTogcXVlcnlQYXJhbWV0ZXJzLFxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gbmV3IHJ1bnRpbWUuVm9pZEFwaVJlc3BvbnNlKHJlc3BvbnNlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBleHBvcnQgYEJvb2tgcyB0byBjc3YgZmlsZVxuICAgICAqIEV4cG9ydCBCb29rcyBDc3ZcbiAgICAgKi9cbiAgICBhc3luYyBleHBvcnRCb29rc0NzdkJvb2tzRXhwb3J0Q3N2R2V0KCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBhd2FpdCB0aGlzLmV4cG9ydEJvb2tzQ3N2Qm9va3NFeHBvcnRDc3ZHZXRSYXcoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBleHBvcnQgYFVzZXJzYHMgdG8gY3N2IGZpbGVcbiAgICAgKiBFeHBvcnQgQm9va3MgQ3N2XG4gICAgICovXG4gICAgYXN5bmMgZXhwb3J0Qm9va3NDc3ZVc2Vyc0V4cG9ydENzdkdldFJhdygpOiBQcm9taXNlPHJ1bnRpbWUuQXBpUmVzcG9uc2U8dm9pZD4+IHtcbiAgICAgICAgY29uc3QgcXVlcnlQYXJhbWV0ZXJzOiBydW50aW1lLkhUVFBRdWVyeSA9IHt9O1xuXG4gICAgICAgIGNvbnN0IGhlYWRlclBhcmFtZXRlcnM6IHJ1bnRpbWUuSFRUUEhlYWRlcnMgPSB7fTtcblxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMucmVxdWVzdCh7XG4gICAgICAgICAgICBwYXRoOiBgL3VzZXJzL2V4cG9ydC9jc3YvYCxcbiAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJQYXJhbWV0ZXJzLFxuICAgICAgICAgICAgcXVlcnk6IHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBydW50aW1lLlZvaWRBcGlSZXNwb25zZShyZXNwb25zZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogZXhwb3J0IGBVc2Vyc2BzIHRvIGNzdiBmaWxlXG4gICAgICogRXhwb3J0IEJvb2tzIENzdlxuICAgICAqL1xuICAgIGFzeW5jIGV4cG9ydEJvb2tzQ3N2VXNlcnNFeHBvcnRDc3ZHZXQoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGF3YWl0IHRoaXMuZXhwb3J0Qm9va3NDc3ZVc2Vyc0V4cG9ydENzdkdldFJhdygpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGV4dGVuZCB0aGUgYm9ycm93aW5nIHBlcmlvZCBmb3IgYSBhIGJvb2sgd2l0aCB0aGUga2V5IGBib29rX2tleWAgZm9yIHRoZSB1c2VyIHdpdGggdGhlIGtleSBgdXNlcl9rZXlgXG4gICAgICogRXh0ZW5kIEJvcnJvdyBQZXJpb2RcbiAgICAgKi9cbiAgICBhc3luYyBleHRlbmRCb3Jyb3dQZXJpb2RFeHRlbmRVc2VyS2V5Qm9va0tleVBhdGNoUmF3KHJlcXVlc3RQYXJhbWV0ZXJzOiBFeHRlbmRCb3Jyb3dQZXJpb2RFeHRlbmRVc2VyS2V5Qm9va0tleVBhdGNoUmVxdWVzdCk6IFByb21pc2U8cnVudGltZS5BcGlSZXNwb25zZTxFeHRlbmRpbmdSZXNwb25zZU1vZGVsPj4ge1xuICAgICAgICBpZiAocmVxdWVzdFBhcmFtZXRlcnMudXNlcktleSA9PT0gbnVsbCB8fCByZXF1ZXN0UGFyYW1ldGVycy51c2VyS2V5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBydW50aW1lLlJlcXVpcmVkRXJyb3IoJ3VzZXJLZXknLCdSZXF1aXJlZCBwYXJhbWV0ZXIgcmVxdWVzdFBhcmFtZXRlcnMudXNlcktleSB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGV4dGVuZEJvcnJvd1BlcmlvZEV4dGVuZFVzZXJLZXlCb29rS2V5UGF0Y2guJyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocmVxdWVzdFBhcmFtZXRlcnMuYm9va0tleSA9PT0gbnVsbCB8fCByZXF1ZXN0UGFyYW1ldGVycy5ib29rS2V5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBydW50aW1lLlJlcXVpcmVkRXJyb3IoJ2Jvb2tLZXknLCdSZXF1aXJlZCBwYXJhbWV0ZXIgcmVxdWVzdFBhcmFtZXRlcnMuYm9va0tleSB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGV4dGVuZEJvcnJvd1BlcmlvZEV4dGVuZFVzZXJLZXlCb29rS2V5UGF0Y2guJyk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBxdWVyeVBhcmFtZXRlcnM6IHJ1bnRpbWUuSFRUUFF1ZXJ5ID0ge307XG5cbiAgICAgICAgaWYgKHJlcXVlc3RQYXJhbWV0ZXJzLmR1cmF0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVyc1snZHVyYXRpb24nXSA9IHJlcXVlc3RQYXJhbWV0ZXJzLmR1cmF0aW9uO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgaGVhZGVyUGFyYW1ldGVyczogcnVudGltZS5IVFRQSGVhZGVycyA9IHt9O1xuXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5yZXF1ZXN0KHtcbiAgICAgICAgICAgIHBhdGg6IGAvZXh0ZW5kL3t1c2VyX2tleX0ve2Jvb2tfa2V5fWAucmVwbGFjZShgeyR7XCJ1c2VyX2tleVwifX1gLCBlbmNvZGVVUklDb21wb25lbnQoU3RyaW5nKHJlcXVlc3RQYXJhbWV0ZXJzLnVzZXJLZXkpKSkucmVwbGFjZShgeyR7XCJib29rX2tleVwifX1gLCBlbmNvZGVVUklDb21wb25lbnQoU3RyaW5nKHJlcXVlc3RQYXJhbWV0ZXJzLmJvb2tLZXkpKSksXG4gICAgICAgICAgICBtZXRob2Q6ICdQQVRDSCcsXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJQYXJhbWV0ZXJzLFxuICAgICAgICAgICAgcXVlcnk6IHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBydW50aW1lLkpTT05BcGlSZXNwb25zZShyZXNwb25zZSwgKGpzb25WYWx1ZSkgPT4gRXh0ZW5kaW5nUmVzcG9uc2VNb2RlbEZyb21KU09OKGpzb25WYWx1ZSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGV4dGVuZCB0aGUgYm9ycm93aW5nIHBlcmlvZCBmb3IgYSBhIGJvb2sgd2l0aCB0aGUga2V5IGBib29rX2tleWAgZm9yIHRoZSB1c2VyIHdpdGggdGhlIGtleSBgdXNlcl9rZXlgXG4gICAgICogRXh0ZW5kIEJvcnJvdyBQZXJpb2RcbiAgICAgKi9cbiAgICBhc3luYyBleHRlbmRCb3Jyb3dQZXJpb2RFeHRlbmRVc2VyS2V5Qm9va0tleVBhdGNoKHJlcXVlc3RQYXJhbWV0ZXJzOiBFeHRlbmRCb3Jyb3dQZXJpb2RFeHRlbmRVc2VyS2V5Qm9va0tleVBhdGNoUmVxdWVzdCk6IFByb21pc2U8RXh0ZW5kaW5nUmVzcG9uc2VNb2RlbD4ge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuZXh0ZW5kQm9ycm93UGVyaW9kRXh0ZW5kVXNlcktleUJvb2tLZXlQYXRjaFJhdyhyZXF1ZXN0UGFyYW1ldGVycyk7XG4gICAgICAgIHJldHVybiBhd2FpdCByZXNwb25zZS52YWx1ZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBBdmFpbGFibGUgQm9va3NcbiAgICAgKi9cbiAgICBhc3luYyBnZXRBdmFpbGFibGVCb29rc0Jvb2tzQXZhaWxhYmxlR2V0UmF3KCk6IFByb21pc2U8cnVudGltZS5BcGlSZXNwb25zZTxvYmplY3Q+PiB7XG4gICAgICAgIGNvbnN0IHF1ZXJ5UGFyYW1ldGVyczogcnVudGltZS5IVFRQUXVlcnkgPSB7fTtcblxuICAgICAgICBjb25zdCBoZWFkZXJQYXJhbWV0ZXJzOiBydW50aW1lLkhUVFBIZWFkZXJzID0ge307XG5cbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnJlcXVlc3Qoe1xuICAgICAgICAgICAgcGF0aDogYC9ib29rcy9hdmFpbGFibGVgLFxuICAgICAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlclBhcmFtZXRlcnMsXG4gICAgICAgICAgICBxdWVyeTogcXVlcnlQYXJhbWV0ZXJzLFxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gbmV3IHJ1bnRpbWUuSlNPTkFwaVJlc3BvbnNlPGFueT4ocmVzcG9uc2UpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBBdmFpbGFibGUgQm9va3NcbiAgICAgKi9cbiAgICBhc3luYyBnZXRBdmFpbGFibGVCb29rc0Jvb2tzQXZhaWxhYmxlR2V0KCk6IFByb21pc2U8b2JqZWN0PiB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5nZXRBdmFpbGFibGVCb29rc0Jvb2tzQXZhaWxhYmxlR2V0UmF3KCk7XG4gICAgICAgIHJldHVybiBhd2FpdCByZXNwb25zZS52YWx1ZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBCb29rIENvdmVyXG4gICAgICovXG4gICAgYXN5bmMgZ2V0Qm9va0NvdmVyTWVkaWFCb29rS2V5R2V0UmF3KHJlcXVlc3RQYXJhbWV0ZXJzOiBHZXRCb29rQ292ZXJNZWRpYUJvb2tLZXlHZXRSZXF1ZXN0KTogUHJvbWlzZTxydW50aW1lLkFwaVJlc3BvbnNlPG9iamVjdD4+IHtcbiAgICAgICAgaWYgKHJlcXVlc3RQYXJhbWV0ZXJzLmJvb2tLZXkgPT09IG51bGwgfHwgcmVxdWVzdFBhcmFtZXRlcnMuYm9va0tleSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgcnVudGltZS5SZXF1aXJlZEVycm9yKCdib29rS2V5JywnUmVxdWlyZWQgcGFyYW1ldGVyIHJlcXVlc3RQYXJhbWV0ZXJzLmJvb2tLZXkgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBnZXRCb29rQ292ZXJNZWRpYUJvb2tLZXlHZXQuJyk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBxdWVyeVBhcmFtZXRlcnM6IHJ1bnRpbWUuSFRUUFF1ZXJ5ID0ge307XG5cbiAgICAgICAgY29uc3QgaGVhZGVyUGFyYW1ldGVyczogcnVudGltZS5IVFRQSGVhZGVycyA9IHt9O1xuXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5yZXF1ZXN0KHtcbiAgICAgICAgICAgIHBhdGg6IGAvbWVkaWEve2Jvb2tfa2V5fWAucmVwbGFjZShgeyR7XCJib29rX2tleVwifX1gLCBlbmNvZGVVUklDb21wb25lbnQoU3RyaW5nKHJlcXVlc3RQYXJhbWV0ZXJzLmJvb2tLZXkpKSksXG4gICAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVyUGFyYW1ldGVycyxcbiAgICAgICAgICAgIHF1ZXJ5OiBxdWVyeVBhcmFtZXRlcnMsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBuZXcgcnVudGltZS5KU09OQXBpUmVzcG9uc2U8YW55PihyZXNwb25zZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IEJvb2sgQ292ZXJcbiAgICAgKi9cbiAgICBhc3luYyBnZXRCb29rQ292ZXJNZWRpYUJvb2tLZXlHZXQocmVxdWVzdFBhcmFtZXRlcnM6IEdldEJvb2tDb3Zlck1lZGlhQm9va0tleUdldFJlcXVlc3QpOiBQcm9taXNlPG9iamVjdD4ge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuZ2V0Qm9va0NvdmVyTWVkaWFCb29rS2V5R2V0UmF3KHJlcXVlc3RQYXJhbWV0ZXJzKTtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHJlc3BvbnNlLnZhbHVlKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IEJvb2tzXG4gICAgICovXG4gICAgYXN5bmMgZ2V0Qm9va3NCb29rc0dldFJhdyhyZXF1ZXN0UGFyYW1ldGVyczogR2V0Qm9va3NCb29rc0dldFJlcXVlc3QpOiBQcm9taXNlPHJ1bnRpbWUuQXBpUmVzcG9uc2U8b2JqZWN0Pj4ge1xuICAgICAgICBjb25zdCBxdWVyeVBhcmFtZXRlcnM6IHJ1bnRpbWUuSFRUUFF1ZXJ5ID0ge307XG5cbiAgICAgICAgaWYgKHJlcXVlc3RQYXJhbWV0ZXJzLnVzZXJLZXkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzWyd1c2VyX2tleSddID0gcmVxdWVzdFBhcmFtZXRlcnMudXNlcktleTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGhlYWRlclBhcmFtZXRlcnM6IHJ1bnRpbWUuSFRUUEhlYWRlcnMgPSB7fTtcblxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMucmVxdWVzdCh7XG4gICAgICAgICAgICBwYXRoOiBgL2Jvb2tzYCxcbiAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJQYXJhbWV0ZXJzLFxuICAgICAgICAgICAgcXVlcnk6IHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBydW50aW1lLkpTT05BcGlSZXNwb25zZTxhbnk+KHJlc3BvbnNlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgQm9va3NcbiAgICAgKi9cbiAgICBhc3luYyBnZXRCb29rc0Jvb2tzR2V0KHJlcXVlc3RQYXJhbWV0ZXJzOiBHZXRCb29rc0Jvb2tzR2V0UmVxdWVzdCk6IFByb21pc2U8b2JqZWN0PiB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5nZXRCb29rc0Jvb2tzR2V0UmF3KHJlcXVlc3RQYXJhbWV0ZXJzKTtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHJlc3BvbnNlLnZhbHVlKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogcmV0dXJuIG51bWJlciBvZiBib29rc1xuICAgICAqIEdldCBCb29rcyBDb3VudFxuICAgICAqL1xuICAgIGFzeW5jIGdldEJvb2tzQ291bnRTdGF0c0Jvb2tzQ291bnRHZXRSYXcoKTogUHJvbWlzZTxydW50aW1lLkFwaVJlc3BvbnNlPG9iamVjdD4+IHtcbiAgICAgICAgY29uc3QgcXVlcnlQYXJhbWV0ZXJzOiBydW50aW1lLkhUVFBRdWVyeSA9IHt9O1xuXG4gICAgICAgIGNvbnN0IGhlYWRlclBhcmFtZXRlcnM6IHJ1bnRpbWUuSFRUUEhlYWRlcnMgPSB7fTtcblxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMucmVxdWVzdCh7XG4gICAgICAgICAgICBwYXRoOiBgL3N0YXRzL2Jvb2tzL2NvdW50YCxcbiAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJQYXJhbWV0ZXJzLFxuICAgICAgICAgICAgcXVlcnk6IHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBydW50aW1lLkpTT05BcGlSZXNwb25zZTxhbnk+KHJlc3BvbnNlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiByZXR1cm4gbnVtYmVyIG9mIGJvb2tzXG4gICAgICogR2V0IEJvb2tzIENvdW50XG4gICAgICovXG4gICAgYXN5bmMgZ2V0Qm9va3NDb3VudFN0YXRzQm9va3NDb3VudEdldCgpOiBQcm9taXNlPG9iamVjdD4ge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuZ2V0Qm9va3NDb3VudFN0YXRzQm9va3NDb3VudEdldFJhdygpO1xuICAgICAgICByZXR1cm4gYXdhaXQgcmVzcG9uc2UudmFsdWUoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiByZXR1cm4gbnVtYmVyIG9mIHVzZXJzXG4gICAgICogR2V0IEJvb2tzIENvdW50XG4gICAgICovXG4gICAgYXN5bmMgZ2V0Qm9va3NDb3VudFN0YXRzVXNlcnNDb3VudEdldFJhdygpOiBQcm9taXNlPHJ1bnRpbWUuQXBpUmVzcG9uc2U8b2JqZWN0Pj4ge1xuICAgICAgICBjb25zdCBxdWVyeVBhcmFtZXRlcnM6IHJ1bnRpbWUuSFRUUFF1ZXJ5ID0ge307XG5cbiAgICAgICAgY29uc3QgaGVhZGVyUGFyYW1ldGVyczogcnVudGltZS5IVFRQSGVhZGVycyA9IHt9O1xuXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5yZXF1ZXN0KHtcbiAgICAgICAgICAgIHBhdGg6IGAvc3RhdHMvdXNlcnMvY291bnRgLFxuICAgICAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlclBhcmFtZXRlcnMsXG4gICAgICAgICAgICBxdWVyeTogcXVlcnlQYXJhbWV0ZXJzLFxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gbmV3IHJ1bnRpbWUuSlNPTkFwaVJlc3BvbnNlPGFueT4ocmVzcG9uc2UpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIHJldHVybiBudW1iZXIgb2YgdXNlcnNcbiAgICAgKiBHZXQgQm9va3MgQ291bnRcbiAgICAgKi9cbiAgICBhc3luYyBnZXRCb29rc0NvdW50U3RhdHNVc2Vyc0NvdW50R2V0KCk6IFByb21pc2U8b2JqZWN0PiB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5nZXRCb29rc0NvdW50U3RhdHNVc2Vyc0NvdW50R2V0UmF3KCk7XG4gICAgICAgIHJldHVybiBhd2FpdCByZXNwb25zZS52YWx1ZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIHJldHVybnMgdGhlIG51bWJlciBvZiBjdXJyZW50bHkgYm9ycm93ZWQgYm9va3NcbiAgICAgKiBHZXQgQm9ycm93ZWQgQ291bnRcbiAgICAgKi9cbiAgICBhc3luYyBnZXRCb3Jyb3dlZENvdW50U3RhdHNCb29rc0JvcnJvd2VkR2V0UmF3KCk6IFByb21pc2U8cnVudGltZS5BcGlSZXNwb25zZTxvYmplY3Q+PiB7XG4gICAgICAgIGNvbnN0IHF1ZXJ5UGFyYW1ldGVyczogcnVudGltZS5IVFRQUXVlcnkgPSB7fTtcblxuICAgICAgICBjb25zdCBoZWFkZXJQYXJhbWV0ZXJzOiBydW50aW1lLkhUVFBIZWFkZXJzID0ge307XG5cbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnJlcXVlc3Qoe1xuICAgICAgICAgICAgcGF0aDogYC9zdGF0cy9ib29rcy9ib3Jyb3dlZGAsXG4gICAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVyUGFyYW1ldGVycyxcbiAgICAgICAgICAgIHF1ZXJ5OiBxdWVyeVBhcmFtZXRlcnMsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBuZXcgcnVudGltZS5KU09OQXBpUmVzcG9uc2U8YW55PihyZXNwb25zZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogcmV0dXJucyB0aGUgbnVtYmVyIG9mIGN1cnJlbnRseSBib3Jyb3dlZCBib29rc1xuICAgICAqIEdldCBCb3Jyb3dlZCBDb3VudFxuICAgICAqL1xuICAgIGFzeW5jIGdldEJvcnJvd2VkQ291bnRTdGF0c0Jvb2tzQm9ycm93ZWRHZXQoKTogUHJvbWlzZTxvYmplY3Q+IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmdldEJvcnJvd2VkQ291bnRTdGF0c0Jvb2tzQm9ycm93ZWRHZXRSYXcoKTtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHJlc3BvbnNlLnZhbHVlKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IEJvcnJvd2luZyBVc2Vyc1xuICAgICAqL1xuICAgIGFzeW5jIGdldEJvcnJvd2luZ1VzZXJzVXNlcnNCb3Jyb3dpbmdHZXRSYXcoKTogUHJvbWlzZTxydW50aW1lLkFwaVJlc3BvbnNlPG9iamVjdD4+IHtcbiAgICAgICAgY29uc3QgcXVlcnlQYXJhbWV0ZXJzOiBydW50aW1lLkhUVFBRdWVyeSA9IHt9O1xuXG4gICAgICAgIGNvbnN0IGhlYWRlclBhcmFtZXRlcnM6IHJ1bnRpbWUuSFRUUEhlYWRlcnMgPSB7fTtcblxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMucmVxdWVzdCh7XG4gICAgICAgICAgICBwYXRoOiBgL3VzZXJzL2JvcnJvd2luZ2AsXG4gICAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVyUGFyYW1ldGVycyxcbiAgICAgICAgICAgIHF1ZXJ5OiBxdWVyeVBhcmFtZXRlcnMsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBuZXcgcnVudGltZS5KU09OQXBpUmVzcG9uc2U8YW55PihyZXNwb25zZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IEJvcnJvd2luZyBVc2Vyc1xuICAgICAqL1xuICAgIGFzeW5jIGdldEJvcnJvd2luZ1VzZXJzVXNlcnNCb3Jyb3dpbmdHZXQoKTogUHJvbWlzZTxvYmplY3Q+IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmdldEJvcnJvd2luZ1VzZXJzVXNlcnNCb3Jyb3dpbmdHZXRSYXcoKTtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHJlc3BvbnNlLnZhbHVlKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IENhdGVnb3J5XG4gICAgICovXG4gICAgYXN5bmMgZ2V0Q2F0ZWdvcnlDYXRlZ29yeUdldFJhdygpOiBQcm9taXNlPHJ1bnRpbWUuQXBpUmVzcG9uc2U8QXJyYXk8Q2F0ZWdvcnk+Pj4ge1xuICAgICAgICBjb25zdCBxdWVyeVBhcmFtZXRlcnM6IHJ1bnRpbWUuSFRUUFF1ZXJ5ID0ge307XG5cbiAgICAgICAgY29uc3QgaGVhZGVyUGFyYW1ldGVyczogcnVudGltZS5IVFRQSGVhZGVycyA9IHt9O1xuXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5yZXF1ZXN0KHtcbiAgICAgICAgICAgIHBhdGg6IGAvY2F0ZWdvcnlgLFxuICAgICAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlclBhcmFtZXRlcnMsXG4gICAgICAgICAgICBxdWVyeTogcXVlcnlQYXJhbWV0ZXJzLFxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gbmV3IHJ1bnRpbWUuSlNPTkFwaVJlc3BvbnNlKHJlc3BvbnNlLCAoanNvblZhbHVlKSA9PiBqc29uVmFsdWUubWFwKENhdGVnb3J5RnJvbUpTT04pKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgQ2F0ZWdvcnlcbiAgICAgKi9cbiAgICBhc3luYyBnZXRDYXRlZ29yeUNhdGVnb3J5R2V0KCk6IFByb21pc2U8QXJyYXk8Q2F0ZWdvcnk+PiB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5nZXRDYXRlZ29yeUNhdGVnb3J5R2V0UmF3KCk7XG4gICAgICAgIHJldHVybiBhd2FpdCByZXNwb25zZS52YWx1ZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIHJldHVybnMgdGhlIG51bWJlciBvZiBib29rcyB0aGF0IGFyZSBvdmVyZHVlXG4gICAgICogR2V0IE92ZXJkdWUgQ291bnRcbiAgICAgKi9cbiAgICBhc3luYyBnZXRPdmVyZHVlQ291bnRTdGF0c0Jvb2tzT3ZlcmR1ZUdldFJhdygpOiBQcm9taXNlPHJ1bnRpbWUuQXBpUmVzcG9uc2U8b2JqZWN0Pj4ge1xuICAgICAgICBjb25zdCBxdWVyeVBhcmFtZXRlcnM6IHJ1bnRpbWUuSFRUUFF1ZXJ5ID0ge307XG5cbiAgICAgICAgY29uc3QgaGVhZGVyUGFyYW1ldGVyczogcnVudGltZS5IVFRQSGVhZGVycyA9IHt9O1xuXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5yZXF1ZXN0KHtcbiAgICAgICAgICAgIHBhdGg6IGAvc3RhdHMvYm9va3Mvb3ZlcmR1ZWAsXG4gICAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVyUGFyYW1ldGVycyxcbiAgICAgICAgICAgIHF1ZXJ5OiBxdWVyeVBhcmFtZXRlcnMsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBuZXcgcnVudGltZS5KU09OQXBpUmVzcG9uc2U8YW55PihyZXNwb25zZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogcmV0dXJucyB0aGUgbnVtYmVyIG9mIGJvb2tzIHRoYXQgYXJlIG92ZXJkdWVcbiAgICAgKiBHZXQgT3ZlcmR1ZSBDb3VudFxuICAgICAqL1xuICAgIGFzeW5jIGdldE92ZXJkdWVDb3VudFN0YXRzQm9va3NPdmVyZHVlR2V0KCk6IFByb21pc2U8b2JqZWN0PiB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5nZXRPdmVyZHVlQ291bnRTdGF0c0Jvb2tzT3ZlcmR1ZUdldFJhdygpO1xuICAgICAgICByZXR1cm4gYXdhaXQgcmVzcG9uc2UudmFsdWUoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgVXNlcnNcbiAgICAgKi9cbiAgICBhc3luYyBnZXRVc2Vyc1VzZXJzR2V0UmF3KCk6IFByb21pc2U8cnVudGltZS5BcGlSZXNwb25zZTxvYmplY3Q+PiB7XG4gICAgICAgIGNvbnN0IHF1ZXJ5UGFyYW1ldGVyczogcnVudGltZS5IVFRQUXVlcnkgPSB7fTtcblxuICAgICAgICBjb25zdCBoZWFkZXJQYXJhbWV0ZXJzOiBydW50aW1lLkhUVFBIZWFkZXJzID0ge307XG5cbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnJlcXVlc3Qoe1xuICAgICAgICAgICAgcGF0aDogYC91c2Vyc2AsXG4gICAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVyUGFyYW1ldGVycyxcbiAgICAgICAgICAgIHF1ZXJ5OiBxdWVyeVBhcmFtZXRlcnMsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBuZXcgcnVudGltZS5KU09OQXBpUmVzcG9uc2U8YW55PihyZXNwb25zZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IFVzZXJzXG4gICAgICovXG4gICAgYXN5bmMgZ2V0VXNlcnNVc2Vyc0dldCgpOiBQcm9taXNlPG9iamVjdD4ge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuZ2V0VXNlcnNVc2Vyc0dldFJhdygpO1xuICAgICAgICByZXR1cm4gYXdhaXQgcmVzcG9uc2UudmFsdWUoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBpbXBvcnQgYEJvb2tgcyBmcm9tIGNzdiBmaWxlXG4gICAgICogSW1wb3J0IEJvb2tzIENzdlxuICAgICAqL1xuICAgIGFzeW5jIGltcG9ydEJvb2tzQ3N2Qm9va3NJbXBvcnRDc3ZQb3N0UmF3KHJlcXVlc3RQYXJhbWV0ZXJzOiBJbXBvcnRCb29rc0NzdkJvb2tzSW1wb3J0Q3N2UG9zdFJlcXVlc3QpOiBQcm9taXNlPHJ1bnRpbWUuQXBpUmVzcG9uc2U8b2JqZWN0Pj4ge1xuICAgICAgICBpZiAocmVxdWVzdFBhcmFtZXRlcnMuZmlsZSA9PT0gbnVsbCB8fCByZXF1ZXN0UGFyYW1ldGVycy5maWxlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBydW50aW1lLlJlcXVpcmVkRXJyb3IoJ2ZpbGUnLCdSZXF1aXJlZCBwYXJhbWV0ZXIgcmVxdWVzdFBhcmFtZXRlcnMuZmlsZSB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGltcG9ydEJvb2tzQ3N2Qm9va3NJbXBvcnRDc3ZQb3N0LicpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcXVlcnlQYXJhbWV0ZXJzOiBydW50aW1lLkhUVFBRdWVyeSA9IHt9O1xuXG4gICAgICAgIGNvbnN0IGhlYWRlclBhcmFtZXRlcnM6IHJ1bnRpbWUuSFRUUEhlYWRlcnMgPSB7fTtcblxuICAgICAgICBjb25zdCBjb25zdW1lczogcnVudGltZS5Db25zdW1lW10gPSBbXG4gICAgICAgICAgICB7IGNvbnRlbnRUeXBlOiAnbXVsdGlwYXJ0L2Zvcm0tZGF0YScgfSxcbiAgICAgICAgXTtcbiAgICAgICAgLy8gQHRzLWlnbm9yZTogY2FuQ29uc3VtZUZvcm0gbWF5IGJlIHVudXNlZFxuICAgICAgICBjb25zdCBjYW5Db25zdW1lRm9ybSA9IHJ1bnRpbWUuY2FuQ29uc3VtZUZvcm0oY29uc3VtZXMpO1xuXG4gICAgICAgIGxldCBmb3JtUGFyYW1zOiB7IGFwcGVuZChwYXJhbTogc3RyaW5nLCB2YWx1ZTogYW55KTogYW55IH07XG4gICAgICAgIGxldCB1c2VGb3JtID0gZmFsc2U7XG4gICAgICAgIC8vIHVzZSBGb3JtRGF0YSB0byB0cmFuc21pdCBmaWxlcyB1c2luZyBjb250ZW50LXR5cGUgXCJtdWx0aXBhcnQvZm9ybS1kYXRhXCJcbiAgICAgICAgdXNlRm9ybSA9IGNhbkNvbnN1bWVGb3JtO1xuICAgICAgICBpZiAodXNlRm9ybSkge1xuICAgICAgICAgICAgZm9ybVBhcmFtcyA9IG5ldyBGb3JtRGF0YSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZm9ybVBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyZXF1ZXN0UGFyYW1ldGVycy5maWxlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGZvcm1QYXJhbXMuYXBwZW5kKCdmaWxlJywgcmVxdWVzdFBhcmFtZXRlcnMuZmlsZSBhcyBhbnkpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnJlcXVlc3Qoe1xuICAgICAgICAgICAgcGF0aDogYC9ib29rcy9pbXBvcnQvY3N2L2AsXG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlclBhcmFtZXRlcnMsXG4gICAgICAgICAgICBxdWVyeTogcXVlcnlQYXJhbWV0ZXJzLFxuICAgICAgICAgICAgYm9keTogZm9ybVBhcmFtcyxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBydW50aW1lLkpTT05BcGlSZXNwb25zZTxhbnk+KHJlc3BvbnNlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBpbXBvcnQgYEJvb2tgcyBmcm9tIGNzdiBmaWxlXG4gICAgICogSW1wb3J0IEJvb2tzIENzdlxuICAgICAqL1xuICAgIGFzeW5jIGltcG9ydEJvb2tzQ3N2Qm9va3NJbXBvcnRDc3ZQb3N0KHJlcXVlc3RQYXJhbWV0ZXJzOiBJbXBvcnRCb29rc0NzdkJvb2tzSW1wb3J0Q3N2UG9zdFJlcXVlc3QpOiBQcm9taXNlPG9iamVjdD4ge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuaW1wb3J0Qm9va3NDc3ZCb29rc0ltcG9ydENzdlBvc3RSYXcocmVxdWVzdFBhcmFtZXRlcnMpO1xuICAgICAgICByZXR1cm4gYXdhaXQgcmVzcG9uc2UudmFsdWUoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBpbXBvcnQgYFVzZXJzYHMgZnJvbSBjc3YgZmlsZVxuICAgICAqIEltcG9ydCBVc2VyIENzdlxuICAgICAqL1xuICAgIGFzeW5jIGltcG9ydFVzZXJDc3ZVc2Vyc0ltcG9ydENzdlBvc3RSYXcocmVxdWVzdFBhcmFtZXRlcnM6IEltcG9ydFVzZXJDc3ZVc2Vyc0ltcG9ydENzdlBvc3RSZXF1ZXN0KTogUHJvbWlzZTxydW50aW1lLkFwaVJlc3BvbnNlPG9iamVjdD4+IHtcbiAgICAgICAgaWYgKHJlcXVlc3RQYXJhbWV0ZXJzLmZpbGUgPT09IG51bGwgfHwgcmVxdWVzdFBhcmFtZXRlcnMuZmlsZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgcnVudGltZS5SZXF1aXJlZEVycm9yKCdmaWxlJywnUmVxdWlyZWQgcGFyYW1ldGVyIHJlcXVlc3RQYXJhbWV0ZXJzLmZpbGUgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBpbXBvcnRVc2VyQ3N2VXNlcnNJbXBvcnRDc3ZQb3N0LicpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcXVlcnlQYXJhbWV0ZXJzOiBydW50aW1lLkhUVFBRdWVyeSA9IHt9O1xuXG4gICAgICAgIGNvbnN0IGhlYWRlclBhcmFtZXRlcnM6IHJ1bnRpbWUuSFRUUEhlYWRlcnMgPSB7fTtcblxuICAgICAgICBjb25zdCBjb25zdW1lczogcnVudGltZS5Db25zdW1lW10gPSBbXG4gICAgICAgICAgICB7IGNvbnRlbnRUeXBlOiAnbXVsdGlwYXJ0L2Zvcm0tZGF0YScgfSxcbiAgICAgICAgXTtcbiAgICAgICAgLy8gQHRzLWlnbm9yZTogY2FuQ29uc3VtZUZvcm0gbWF5IGJlIHVudXNlZFxuICAgICAgICBjb25zdCBjYW5Db25zdW1lRm9ybSA9IHJ1bnRpbWUuY2FuQ29uc3VtZUZvcm0oY29uc3VtZXMpO1xuXG4gICAgICAgIGxldCBmb3JtUGFyYW1zOiB7IGFwcGVuZChwYXJhbTogc3RyaW5nLCB2YWx1ZTogYW55KTogYW55IH07XG4gICAgICAgIGxldCB1c2VGb3JtID0gZmFsc2U7XG4gICAgICAgIC8vIHVzZSBGb3JtRGF0YSB0byB0cmFuc21pdCBmaWxlcyB1c2luZyBjb250ZW50LXR5cGUgXCJtdWx0aXBhcnQvZm9ybS1kYXRhXCJcbiAgICAgICAgdXNlRm9ybSA9IGNhbkNvbnN1bWVGb3JtO1xuICAgICAgICBpZiAodXNlRm9ybSkge1xuICAgICAgICAgICAgZm9ybVBhcmFtcyA9IG5ldyBGb3JtRGF0YSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZm9ybVBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyZXF1ZXN0UGFyYW1ldGVycy5maWxlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGZvcm1QYXJhbXMuYXBwZW5kKCdmaWxlJywgcmVxdWVzdFBhcmFtZXRlcnMuZmlsZSBhcyBhbnkpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnJlcXVlc3Qoe1xuICAgICAgICAgICAgcGF0aDogYC91c2Vycy9pbXBvcnQvY3N2L2AsXG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlclBhcmFtZXRlcnMsXG4gICAgICAgICAgICBxdWVyeTogcXVlcnlQYXJhbWV0ZXJzLFxuICAgICAgICAgICAgYm9keTogZm9ybVBhcmFtcyxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBydW50aW1lLkpTT05BcGlSZXNwb25zZTxhbnk+KHJlc3BvbnNlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBpbXBvcnQgYFVzZXJzYHMgZnJvbSBjc3YgZmlsZVxuICAgICAqIEltcG9ydCBVc2VyIENzdlxuICAgICAqL1xuICAgIGFzeW5jIGltcG9ydFVzZXJDc3ZVc2Vyc0ltcG9ydENzdlBvc3QocmVxdWVzdFBhcmFtZXRlcnM6IEltcG9ydFVzZXJDc3ZVc2Vyc0ltcG9ydENzdlBvc3RSZXF1ZXN0KTogUHJvbWlzZTxvYmplY3Q+IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmltcG9ydFVzZXJDc3ZVc2Vyc0ltcG9ydENzdlBvc3RSYXcocmVxdWVzdFBhcmFtZXRlcnMpO1xuICAgICAgICByZXR1cm4gYXdhaXQgcmVzcG9uc2UudmFsdWUoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbmRleFxuICAgICAqL1xuICAgIGFzeW5jIGluZGV4R2V0UmF3KCk6IFByb21pc2U8cnVudGltZS5BcGlSZXNwb25zZTxvYmplY3Q+PiB7XG4gICAgICAgIGNvbnN0IHF1ZXJ5UGFyYW1ldGVyczogcnVudGltZS5IVFRQUXVlcnkgPSB7fTtcblxuICAgICAgICBjb25zdCBoZWFkZXJQYXJhbWV0ZXJzOiBydW50aW1lLkhUVFBIZWFkZXJzID0ge307XG5cbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnJlcXVlc3Qoe1xuICAgICAgICAgICAgcGF0aDogYC9gLFxuICAgICAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlclBhcmFtZXRlcnMsXG4gICAgICAgICAgICBxdWVyeTogcXVlcnlQYXJhbWV0ZXJzLFxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gbmV3IHJ1bnRpbWUuSlNPTkFwaVJlc3BvbnNlPGFueT4ocmVzcG9uc2UpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluZGV4XG4gICAgICovXG4gICAgYXN5bmMgaW5kZXhHZXQoKTogUHJvbWlzZTxvYmplY3Q+IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmluZGV4R2V0UmF3KCk7XG4gICAgICAgIHJldHVybiBhd2FpdCByZXNwb25zZS52YWx1ZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGNoZWNrIHdlYXRoZXIgYSBib29rIHdpdGggdGhlIGtleSBgYm9va19rZXlgIGlzIGN1cnJlbnRseSBib3Jyb3dlZCBieSBhbnlvbmVcbiAgICAgKiBJcyBCb3Jyb3dlZFxuICAgICAqL1xuICAgIGFzeW5jIGlzQm9ycm93ZWRCb29rQm9ycm93ZWRCb29rS2V5R2V0UmF3KHJlcXVlc3RQYXJhbWV0ZXJzOiBJc0JvcnJvd2VkQm9va0JvcnJvd2VkQm9va0tleUdldFJlcXVlc3QpOiBQcm9taXNlPHJ1bnRpbWUuQXBpUmVzcG9uc2U8c3RyaW5nPj4ge1xuICAgICAgICBpZiAocmVxdWVzdFBhcmFtZXRlcnMuYm9va0tleSA9PT0gbnVsbCB8fCByZXF1ZXN0UGFyYW1ldGVycy5ib29rS2V5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBydW50aW1lLlJlcXVpcmVkRXJyb3IoJ2Jvb2tLZXknLCdSZXF1aXJlZCBwYXJhbWV0ZXIgcmVxdWVzdFBhcmFtZXRlcnMuYm9va0tleSB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGlzQm9ycm93ZWRCb29rQm9ycm93ZWRCb29rS2V5R2V0LicpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcXVlcnlQYXJhbWV0ZXJzOiBydW50aW1lLkhUVFBRdWVyeSA9IHt9O1xuXG4gICAgICAgIGNvbnN0IGhlYWRlclBhcmFtZXRlcnM6IHJ1bnRpbWUuSFRUUEhlYWRlcnMgPSB7fTtcblxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMucmVxdWVzdCh7XG4gICAgICAgICAgICBwYXRoOiBgL2Jvb2svYm9ycm93ZWQve2Jvb2tfa2V5fWAucmVwbGFjZShgeyR7XCJib29rX2tleVwifX1gLCBlbmNvZGVVUklDb21wb25lbnQoU3RyaW5nKHJlcXVlc3RQYXJhbWV0ZXJzLmJvb2tLZXkpKSksXG4gICAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVyUGFyYW1ldGVycyxcbiAgICAgICAgICAgIHF1ZXJ5OiBxdWVyeVBhcmFtZXRlcnMsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBuZXcgcnVudGltZS5UZXh0QXBpUmVzcG9uc2UocmVzcG9uc2UpIGFzIGFueTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBjaGVjayB3ZWF0aGVyIGEgYm9vayB3aXRoIHRoZSBrZXkgYGJvb2tfa2V5YCBpcyBjdXJyZW50bHkgYm9ycm93ZWQgYnkgYW55b25lXG4gICAgICogSXMgQm9ycm93ZWRcbiAgICAgKi9cbiAgICBhc3luYyBpc0JvcnJvd2VkQm9va0JvcnJvd2VkQm9va0tleUdldChyZXF1ZXN0UGFyYW1ldGVyczogSXNCb3Jyb3dlZEJvb2tCb3Jyb3dlZEJvb2tLZXlHZXRSZXF1ZXN0KTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmlzQm9ycm93ZWRCb29rQm9ycm93ZWRCb29rS2V5R2V0UmF3KHJlcXVlc3RQYXJhbWV0ZXJzKTtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHJlc3BvbnNlLnZhbHVlKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUHV0IFVzZXJcbiAgICAgKi9cbiAgICBhc3luYyBwdXRVc2VyVXNlclB1dFJhdyhyZXF1ZXN0UGFyYW1ldGVyczogUHV0VXNlclVzZXJQdXRSZXF1ZXN0KTogUHJvbWlzZTxydW50aW1lLkFwaVJlc3BvbnNlPFB1dFVzZXJSZXNwb25zZU1vZGVsPj4ge1xuICAgICAgICBpZiAocmVxdWVzdFBhcmFtZXRlcnMudXNlckluID09PSBudWxsIHx8IHJlcXVlc3RQYXJhbWV0ZXJzLnVzZXJJbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgcnVudGltZS5SZXF1aXJlZEVycm9yKCd1c2VySW4nLCdSZXF1aXJlZCBwYXJhbWV0ZXIgcmVxdWVzdFBhcmFtZXRlcnMudXNlckluIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgcHV0VXNlclVzZXJQdXQuJyk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBxdWVyeVBhcmFtZXRlcnM6IHJ1bnRpbWUuSFRUUFF1ZXJ5ID0ge307XG5cbiAgICAgICAgY29uc3QgaGVhZGVyUGFyYW1ldGVyczogcnVudGltZS5IVFRQSGVhZGVycyA9IHt9O1xuXG4gICAgICAgIGhlYWRlclBhcmFtZXRlcnNbJ0NvbnRlbnQtVHlwZSddID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xuXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5yZXF1ZXN0KHtcbiAgICAgICAgICAgIHBhdGg6IGAvdXNlcmAsXG4gICAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVyUGFyYW1ldGVycyxcbiAgICAgICAgICAgIHF1ZXJ5OiBxdWVyeVBhcmFtZXRlcnMsXG4gICAgICAgICAgICBib2R5OiBVc2VySW5Ub0pTT04ocmVxdWVzdFBhcmFtZXRlcnMudXNlckluKSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBydW50aW1lLkpTT05BcGlSZXNwb25zZShyZXNwb25zZSwgKGpzb25WYWx1ZSkgPT4gUHV0VXNlclJlc3BvbnNlTW9kZWxGcm9tSlNPTihqc29uVmFsdWUpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQdXQgVXNlclxuICAgICAqL1xuICAgIGFzeW5jIHB1dFVzZXJVc2VyUHV0KHJlcXVlc3RQYXJhbWV0ZXJzOiBQdXRVc2VyVXNlclB1dFJlcXVlc3QpOiBQcm9taXNlPFB1dFVzZXJSZXNwb25zZU1vZGVsPiB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5wdXRVc2VyVXNlclB1dFJhdyhyZXF1ZXN0UGFyYW1ldGVycyk7XG4gICAgICAgIHJldHVybiBhd2FpdCByZXNwb25zZS52YWx1ZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIHJldHVybiBhIGJvb2sgd2l0aCB0aGUga2V5IGBib29rX2tleWAgYXMgdGhlIHVzZXIgd2l0aCB0aGUga2V5IGB1c2VyX2tleWBcbiAgICAgKiBSZXR1cm4gQm9va1xuICAgICAqL1xuICAgIGFzeW5jIHJldHVybkJvb2tSZXR1cm5Vc2VyS2V5Qm9va0tleVBhdGNoUmF3KHJlcXVlc3RQYXJhbWV0ZXJzOiBSZXR1cm5Cb29rUmV0dXJuVXNlcktleUJvb2tLZXlQYXRjaFJlcXVlc3QpOiBQcm9taXNlPHJ1bnRpbWUuQXBpUmVzcG9uc2U8UmV0dXJuaW5nUmVzcG9uc2VNb2RlbD4+IHtcbiAgICAgICAgaWYgKHJlcXVlc3RQYXJhbWV0ZXJzLnVzZXJLZXkgPT09IG51bGwgfHwgcmVxdWVzdFBhcmFtZXRlcnMudXNlcktleSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgcnVudGltZS5SZXF1aXJlZEVycm9yKCd1c2VyS2V5JywnUmVxdWlyZWQgcGFyYW1ldGVyIHJlcXVlc3RQYXJhbWV0ZXJzLnVzZXJLZXkgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyByZXR1cm5Cb29rUmV0dXJuVXNlcktleUJvb2tLZXlQYXRjaC4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyZXF1ZXN0UGFyYW1ldGVycy5ib29rS2V5ID09PSBudWxsIHx8IHJlcXVlc3RQYXJhbWV0ZXJzLmJvb2tLZXkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IHJ1bnRpbWUuUmVxdWlyZWRFcnJvcignYm9va0tleScsJ1JlcXVpcmVkIHBhcmFtZXRlciByZXF1ZXN0UGFyYW1ldGVycy5ib29rS2V5IHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgcmV0dXJuQm9va1JldHVyblVzZXJLZXlCb29rS2V5UGF0Y2guJyk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBxdWVyeVBhcmFtZXRlcnM6IHJ1bnRpbWUuSFRUUFF1ZXJ5ID0ge307XG5cbiAgICAgICAgY29uc3QgaGVhZGVyUGFyYW1ldGVyczogcnVudGltZS5IVFRQSGVhZGVycyA9IHt9O1xuXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5yZXF1ZXN0KHtcbiAgICAgICAgICAgIHBhdGg6IGAvcmV0dXJuL3t1c2VyX2tleX0ve2Jvb2tfa2V5fWAucmVwbGFjZShgeyR7XCJ1c2VyX2tleVwifX1gLCBlbmNvZGVVUklDb21wb25lbnQoU3RyaW5nKHJlcXVlc3RQYXJhbWV0ZXJzLnVzZXJLZXkpKSkucmVwbGFjZShgeyR7XCJib29rX2tleVwifX1gLCBlbmNvZGVVUklDb21wb25lbnQoU3RyaW5nKHJlcXVlc3RQYXJhbWV0ZXJzLmJvb2tLZXkpKSksXG4gICAgICAgICAgICBtZXRob2Q6ICdQQVRDSCcsXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJQYXJhbWV0ZXJzLFxuICAgICAgICAgICAgcXVlcnk6IHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBydW50aW1lLkpTT05BcGlSZXNwb25zZShyZXNwb25zZSwgKGpzb25WYWx1ZSkgPT4gUmV0dXJuaW5nUmVzcG9uc2VNb2RlbEZyb21KU09OKGpzb25WYWx1ZSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIHJldHVybiBhIGJvb2sgd2l0aCB0aGUga2V5IGBib29rX2tleWAgYXMgdGhlIHVzZXIgd2l0aCB0aGUga2V5IGB1c2VyX2tleWBcbiAgICAgKiBSZXR1cm4gQm9va1xuICAgICAqL1xuICAgIGFzeW5jIHJldHVybkJvb2tSZXR1cm5Vc2VyS2V5Qm9va0tleVBhdGNoKHJlcXVlc3RQYXJhbWV0ZXJzOiBSZXR1cm5Cb29rUmV0dXJuVXNlcktleUJvb2tLZXlQYXRjaFJlcXVlc3QpOiBQcm9taXNlPFJldHVybmluZ1Jlc3BvbnNlTW9kZWw+IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnJldHVybkJvb2tSZXR1cm5Vc2VyS2V5Qm9va0tleVBhdGNoUmF3KHJlcXVlc3RQYXJhbWV0ZXJzKTtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHJlc3BvbnNlLnZhbHVlKCk7XG4gICAgfVxuXG59XG4iLCJpbXBvcnQgeyBCdXR0b24sIElucHV0LCBtZXNzYWdlLCBTcGFjZSB9IGZyb20gXCJhbnRkXCI7XG5pbXBvcnQgQ1NTIGZyb20gXCJjc3N0eXBlXCI7XG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBEZWZhdWx0QmlibGVyIH0gZnJvbSBcIi4uLy4uL2FwaXNcIjtcbmltcG9ydCB7IEJvb2ssIEJvb2tGcm9tSlNPTiB9IGZyb20gXCIuLi8uLi9tb2RlbHMvQm9va1wiO1xuaW1wb3J0IHsgUHV0Qm9va1Jlc3BvbnNlU3RhdHVzIH0gZnJvbSBcIi4uLy4uL21vZGVscy9QdXRCb29rUmVzcG9uc2VTdGF0dXNcIjtcblxuY29uc3QgYXBpID0gbmV3IERlZmF1bHRCaWJsZXIoKVxudHlwZSBhZGRCb29rRm9ybVN0YXRlID0ge1xuICAgIHJlY29yZDogQm9va1xuICAgIGxvYWRpbmc6IGJvb2xlYW5cbn1cbmV4cG9ydCBpbnRlcmZhY2UgSUFkZEJvb2tGb3JtIHtcbiAgICByZWNvcmQ/OiBCb29rXG59XG5leHBvcnQgY2xhc3MgQWRkQm9va0Zvcm0gZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8SUFkZEJvb2tGb3JtLCBhZGRCb29rRm9ybVN0YXRlPiB7XG4gICAgY29uc3RydWN0b3IocHJvcHM6IFJlYWRvbmx5PElBZGRCb29rRm9ybT4pIHtcbiAgICAgICAgc3VwZXIocHJvcHMpXG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICByZWNvcmQ6IHtcbiAgICAgICAgICAgICAgICBrZXk6IDAsXG4gICAgICAgICAgICAgICAgYXV0aG9yOiBcIlwiLFxuICAgICAgICAgICAgICAgIGNhdGVnb3J5OiBcIlwiLFxuICAgICAgICAgICAgICAgIGlzYm46IFwiXCIsXG4gICAgICAgICAgICAgICAgbnVtYmVyOiBcIlwiLFxuICAgICAgICAgICAgICAgIHB1Ymxpc2hlcjogXCJcIixcbiAgICAgICAgICAgICAgICBzaG9ydGhhbmQ6IFwiXCIsXG4gICAgICAgICAgICAgICAgdGl0bGU6IFwiXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBsb2FkaW5nOiBmYWxzZVxuICAgICAgICB9XG4gICAgfVxuICAgIHNhdmUgPSBhc3luYyAoKTogUHJvbWlzZTx2b2lkPiA9PiB7XG4gICAgICAgIGNvbnN0IHsgcmVjb3JkIH0gPSB0aGlzLnN0YXRlXG4gICAgICAgIGxldCBmYWlsID0gZmFsc2VcbiAgICAgICAgaWYgKHJlY29yZC50aXRsZSA9PSBcIlwiKSB7XG4gICAgICAgICAgICBtZXNzYWdlLmVycm9yKFwiVGl0ZWwgZGFyZiBuaWNodCBsZWVyIHNlaW5cIilcbiAgICAgICAgICAgIGZhaWwgPSB0cnVlXG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlY29yZC5hdXRob3IgPT0gXCJcIikge1xuICAgICAgICAgICAgbWVzc2FnZS5lcnJvcihcIkF1dG9yIGRhcmYgbmljaHQgbGVlciBzZWluXCIpXG4gICAgICAgICAgICBmYWlsID0gdHJ1ZVxuICAgICAgICB9XG4gICAgICAgIGlmIChyZWNvcmQubnVtYmVyID09IFwiXCIpIHtcbiAgICAgICAgICAgIG1lc3NhZ2UuZXJyb3IoXCJOdW1tZXIgZGFyZiBuaWNodCBsZWVyIHNlaW5cIilcbiAgICAgICAgICAgIGZhaWwgPSB0cnVlXG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlY29yZC5wdWJsaXNoZXIgPT0gXCJcIikge1xuICAgICAgICAgICAgbWVzc2FnZS5lcnJvcihcIlZlcmxhZyBkYXJmIG5pY2h0IGxlZXIgc2VpblwiKVxuICAgICAgICAgICAgZmFpbCA9IHRydWVcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVjb3JkLnNob3J0aGFuZCA9PSBcIlwiKSB7XG4gICAgICAgICAgICBtZXNzYWdlLmVycm9yKFwiS8O8cnplbCBkYXJmIG5pY2h0IGxlZXIgc2VpblwiKVxuICAgICAgICAgICAgZmFpbCA9IHRydWVcbiAgICAgICAgfVxuICAgICAgICBpZiAoZmFpbCkge1xuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhcGkuZGJQdXRCb29rQm9va1B1dCh7IGJvb2s6IEJvb2tGcm9tSlNPTihyZWNvcmQpIH0pXG4gICAgICAgIHN3aXRjaCAocmVzcG9uc2Uuc3RhdHVzKSB7XG4gICAgICAgICAgICBjYXNlIFB1dEJvb2tSZXNwb25zZVN0YXR1cy5DcmVhdGVkOlxuICAgICAgICAgICAgICAgIG1lc3NhZ2Uuc3VjY2VzcyhcIkJ1Y2ggd3VyZGUgZ2VzcGVpY2hlcnRcIilcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgUHV0Qm9va1Jlc3BvbnNlU3RhdHVzLk5vdENyZWF0ZWQ6XG4gICAgICAgICAgICAgICAgbWVzc2FnZS5lcnJvcihcIkJ1Y2gga29ubnRlIG5pY2h0IGdlc3BlaWNoZXJ0IHdlcmRlblwiKVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBtZXNzYWdlLmVycm9yKFwiRXMgaXN0IGVpbiBGZWhsZXIgYXVmZ2V0cmV0ZW5cIilcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgbG9hZGluZzogZmFsc2UsXG4gICAgICAgICAgICByZWNvcmQ6IHtcbiAgICAgICAgICAgICAgICBrZXk6IDAsXG4gICAgICAgICAgICAgICAgYXV0aG9yOiBcIlwiLFxuICAgICAgICAgICAgICAgIGNhdGVnb3J5OiBcIlwiLFxuICAgICAgICAgICAgICAgIGlzYm46IFwiXCIsXG4gICAgICAgICAgICAgICAgbnVtYmVyOiBcIlwiLFxuICAgICAgICAgICAgICAgIHB1Ymxpc2hlcjogXCJcIixcbiAgICAgICAgICAgICAgICBzaG9ydGhhbmQ6IFwiXCIsXG4gICAgICAgICAgICAgICAgdGl0bGU6IFwiXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSksIDEwMDApXG4gICAgfVxuXG5cbiAgICByZW5kZXIoKTogSlNYLkVsZW1lbnQge1xuICAgICAgICBjb25zdCBoaWRkZW5JbnB1dFN0eWxlOiBDU1MuUHJvcGVydGllcyA9IHtcbiAgICAgICAgICAgIHZpc2liaWxpdHk6IFwiaGlkZGVuXCIsXG4gICAgICAgICAgICBwb2ludGVyRXZlbnRzOiBcIm5vbmVcIixcbiAgICAgICAgICAgIGRpc3BsYXk6IFwibm9uZVwiXG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZm9ybVN0eWxlOiBDU1MuUHJvcGVydGllcyA9IHtcbiAgICAgICAgICAgIHBhZGRpbmc6IFwiMXJlbVwiXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwiYm9ycm93LWZvcm0td29ya2Zsb3dcIj5cbiAgICAgICAgICAgIDxmb3JtIHN0eWxlPXtmb3JtU3R5bGV9PlxuICAgICAgICAgICAgICAgIDxoMSBzdHlsZT17eyBmb250U2l6ZTogXCIycmVtXCIgfX0+QnVjaCBoaW56dWbDvGdlbjwvaDE+XG4gICAgICAgICAgICAgICAgPGlucHV0IGlkPVwiYm9vay1rZXlcIiBuYW1lPVwiYm9vay1rZXlcIiBzdHlsZT17aGlkZGVuSW5wdXRTdHlsZX0+PC9pbnB1dD5cbiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6IFwiZ3JpZFwiLCBncmlkVGVtcGxhdGVDb2x1bW5zOiBcImF1dG8gMWZyXCIgfX0+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogXCIxLzJcIiB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxTcGFjZSBkaXJlY3Rpb249XCJ2ZXJ0aWNhbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbD5UaXRlbDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0IHJlcXVpcmVkIHBsYWNlaG9sZGVyPVwiVGl0ZWxcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgcmVjb3JkIH0gPSB0aGlzLnN0YXRlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWNvcmQudGl0bGUgPSBlLnRhcmdldC52YWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHJlY29yZDogcmVjb3JkIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19PjwvSW5wdXQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsPkF1dG9yPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXQgcmVxdWlyZWQgcGxhY2Vob2xkZXI9XCJBdXRvclwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeyByZWNvcmQgfSA9IHRoaXMuc3RhdGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlY29yZC5hdXRob3IgPSBlLnRhcmdldC52YWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHJlY29yZDogcmVjb3JkIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19PjwvSW5wdXQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsPlZlcmxhZzwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0IHJlcXVpcmVkIHBsYWNlaG9sZGVyPVwiVmVybGFnXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB7IHJlY29yZCB9ID0gdGhpcy5zdGF0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVjb3JkLnB1Ymxpc2hlciA9IGUudGFyZ2V0LnZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgcmVjb3JkOiByZWNvcmQgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX0+PC9JbnB1dD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWw+S2F0ZWdvcmllPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXQgcGxhY2Vob2xkZXI9XCJLYXRlZ29yaWVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgcmVjb3JkIH0gPSB0aGlzLnN0YXRlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWNvcmQuY2F0ZWdvcnkgPSBlLnRhcmdldC52YWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHJlY29yZDogcmVjb3JkIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19ID48L0lucHV0PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9TcGFjZT5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogXCIyLzNcIiwgbWFyZ2luSW5saW5lOiBcIjFyZW1cIiB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxTcGFjZSBkaXJlY3Rpb249XCJ2ZXJ0aWNhbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbD5Lw7xyemVsPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXQgcmVxdWlyZWQgcGxhY2Vob2xkZXI9XCJLw7xyemVsXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB7IHJlY29yZCB9ID0gdGhpcy5zdGF0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVjb3JkLnNob3J0aGFuZCA9IGUudGFyZ2V0LnZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgcmVjb3JkOiByZWNvcmQgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX0gPjwvSW5wdXQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsPk51bW1lcjwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0IHJlcXVpcmVkIHBsYWNlaG9sZGVyPVwiTnVtbWVyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB7IHJlY29yZCB9ID0gdGhpcy5zdGF0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVjb3JkLm51bWJlciA9IGUudGFyZ2V0LnZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgcmVjb3JkOiByZWNvcmQgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX0gPjwvSW5wdXQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsPklTQk48L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dCBwbGFjZWhvbGRlcj1cIklTQk5cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgcmVjb3JkIH0gPSB0aGlzLnN0YXRlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWNvcmQuaXNibiA9IGUudGFyZ2V0LnZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgcmVjb3JkOiByZWNvcmQgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX0gPjwvSW5wdXQ+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L1NwYWNlPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgIG1hcmdpbkJsb2NrOiBcIjFyZW1cIixcbiAgICAgICAgICAgICAgICAgICAganVzdGlmeVNlbGY6IFwiZW5kXCJcbiAgICAgICAgICAgICAgICB9fT5cbiAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiBzaXplPVwibGFyZ2VcIiBzaGFwZT1cInJvdW5kXCIgdHlwZT1cInByaW1hcnlcIiBvbkNsaWNrPXt0aGlzLnNhdmV9PlNwZWljaGVybjwvQnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9mb3JtPlxuXG4gICAgICAgIDwvZGl2PlxuICAgIH1cbn0iLCJpbXBvcnQgeyBEb3dubG9hZE91dGxpbmVkLCBJbmJveE91dGxpbmVkIH0gZnJvbSBcIkBhbnQtZGVzaWduL2ljb25zXCI7XG5pbXBvcnQgeyBCdXR0b24sIG1lc3NhZ2UsIFNwYWNlIH0gZnJvbSBcImFudGRcIjtcbmltcG9ydCB7IFVwbG9hZENoYW5nZVBhcmFtIH0gZnJvbSBcImFudGQvbGliL3VwbG9hZFwiO1xuaW1wb3J0IERyYWdnZXIgZnJvbSBcImFudGQvbGliL3VwbG9hZC9EcmFnZ2VyXCI7XG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBCQVNFX1BBVEggfSBmcm9tIFwiLi4vLi4vcnVudGltZVwiO1xuXG5cbmV4cG9ydCBjbGFzcyBBZGRCb29rc0ZpbGVGb3JtIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgICBzdGF0ZSA9IHtcbiAgICAgICAgbG9hZGluZzogZmFsc2VcbiAgICB9XG4gICAgcmVuZGVyKCk6IEpTWC5FbGVtZW50IHtcbiAgICAgICAgY29uc3QgcHJvcHMgPSB7XG4gICAgICAgICAgICBuYW1lOiAnZmlsZScsXG4gICAgICAgICAgICBhY3Rpb246IGAke0JBU0VfUEFUSH0vYm9va3MvaW1wb3J0L2NzdmAsXG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgYXV0aG9yaXphdGlvbjogJ2F1dGhvcml6YXRpb24tdGV4dCcsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25DaGFuZ2UoaW5mbzogVXBsb2FkQ2hhbmdlUGFyYW0pIHtcbiAgICAgICAgICAgICAgICBpZiAoaW5mby5maWxlLnN0YXR1cyAhPT0gJ3VwbG9hZGluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coaW5mby5maWxlLCBpbmZvLmZpbGVMaXN0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGluZm8uZmlsZS5zdGF0dXMgPT09ICdkb25lJykge1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnN1Y2Nlc3MoYCR7aW5mby5maWxlLm5hbWV9IGZpbGUgdXBsb2FkZWQgc3VjY2Vzc2Z1bGx5YCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpbmZvLmZpbGUuc3RhdHVzID09PSAnZXJyb3InKSB7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZXJyb3IoYCR7aW5mby5maWxlLm5hbWV9IGZpbGUgdXBsb2FkIGZhaWxlZC5gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gPGRpdiBzdHlsZT17eyBwYWRkaW5nOiBcIjFyZW1cIiB9XG4gICAgICAgIH0+XG4gICAgICAgICAgICA8U3BhY2UgZGlyZWN0aW9uPVwidmVydGljYWxcIj5cbiAgICAgICAgICAgICAgICA8RHJhZ2dlciBzdHlsZT17eyBwYWRkaW5nOiBcIjFyZW1cIiB9fXsuLi5wcm9wc30+XG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImFudC11cGxvYWQtZHJhZy1pY29uXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8SW5ib3hPdXRsaW5lZCAvPlxuICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgIDxoMT5Cw7xjaGVybGlzdGUgaW1wb3J0aWVyZW48L2gxPlxuICAgICAgICAgICAgICAgICAgICA8cD5Xw6RobGUgZWluZSBDU1YgRGF0ZWkgbWl0IELDvGNoZXJuIGF1cywgZGllIGltcG9ydGllcnQgd2VyZGVuIHNvbGxlbi4gPC9wPlxuICAgICAgICAgICAgICAgICAgICA8cD5TdGVsbGUgc2ljaGVyLCBkYXNzIGRpZSBTcGFsdGVuIHdpZSBmb2xndCBiZW5hbm50IHNpbmQ6PC9wPlxuICAgICAgICAgICAgICAgICAgICA8dWw+XG4gICAgICAgICAgICAgICAgICAgICAgICA8bGk+dGl0bGU6IFBmbGljaHQ8L2xpPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGxpPmF1dGhvcjogUGZsaWNodDwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICA8bGk+cHVibGlzaGVyOiBQZmxpY2h0PC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxsaT5jYXRlZ29yeTogT3B0aW9uYWw8L2xpPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGxpPnNob3J0aGFuZDogUGZsaWNodDwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICA8bGk+bnVtYmVyOiBQZmxpY2h0PC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxsaT5pc2JuOiBPcHRpb25hbDwvbGk+XG4gICAgICAgICAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgICAgICAgPC9EcmFnZ2VyPlxuICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgIDxCdXR0b24gc2hhcGU9XCJyb3VuZFwiIHR5cGU9XCJwcmltYXJ5XCIgaWNvbj17PERvd25sb2FkT3V0bGluZWQgLz59IHNpemU9XCJsYXJnZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGEgc3R5bGU9e3sgY29sb3I6IFwid2hpdGVcIiB9fSBocmVmPXtgJHtCQVNFX1BBVEh9L2Jvb2tzL2V4cG9ydC9jc3ZgfT5Eb3dubG9hZCBCw7xjaGVybGlzdGU8L2E+XG4gICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9TcGFjZT5cbiAgICAgICAgPC9kaXYgPlxuICAgIH1cbn0iLCJcbmV4cG9ydCBlbnVtIFZpZXdUeXBlcyB7XG4gICAgQ0FSRCxcbiAgICBUQUJMRSxcbiAgICBERVRBSUxcbn0iLCJpbXBvcnQgeyBBcHBzdG9yZU91dGxpbmVkLCBUYWJsZU91dGxpbmVkIH0gZnJvbSAnQGFudC1kZXNpZ24vaWNvbnMnO1xuaW1wb3J0IHsgQnV0dG9uLCBJbnB1dCwgUGFnZUhlYWRlciwgU3BhY2UgfSBmcm9tIFwiYW50ZFwiO1xuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgR2lCb29rc2hlbGYgfSBmcm9tIFwicmVhY3QtaWNvbnMvZ2lcIjtcbmltcG9ydCB7IEJlaGF2aW9yU3ViamVjdCB9IGZyb20gXCJyeGpzXCI7XG5pbXBvcnQgeyBWaWV3VHlwZXMgfSBmcm9tIFwiLi9WaWV3VHlwZXNcIjtcbmNvbnN0IHsgU2VhcmNoIH0gPSBJbnB1dDtcblxuXG5leHBvcnQgY29uc3Qgdmlld1R5cGVTdWJqZWN0ID0gbmV3IEJlaGF2aW9yU3ViamVjdDxWaWV3VHlwZXM+KFZpZXdUeXBlcy5UQUJMRSlcblxuZXhwb3J0IGNvbnN0IHNlYXJjaEZpbHRlclN1YmplY3QgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PHN0cmluZz4oXCJcIilcblxuZXhwb3J0IGNsYXNzIFRpdGxlQmFyTWVudSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gICAgc3RhdGUgPSB7XG4gICAgICAgIHNob3dBc1RhYmxlOiBmYWxzZSxcbiAgICAgICAgdGl0bGU6IFwiQmlibGVyXCIsXG4gICAgICAgIHN1YnRpdGxlOiBcIkLDvGNoZXJlaSBBcHBcIlxuICAgIH1cblxuICAgIGdldFZpZXdUeXBlVG9nZ2xlSWNvbiA9ICgpOiBSZWFjdC5SZWFjdE5vZGUgPT4ge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZS5zaG93QXNUYWJsZSkge1xuICAgICAgICAgICAgcmV0dXJuIDxUYWJsZU91dGxpbmVkIHN0eWxlPXt7fX0gLz5cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gPEFwcHN0b3JlT3V0bGluZWQgc3R5bGU9e3t9fSAvPlxuICAgIH1cbiAgICBoYW5kbGVWaWV3VHlwZVRvZ2dsZSA9ICgpOiB2b2lkID0+IHtcbiAgICAgICAgY29uc3QgeyBzaG93QXNUYWJsZSB9ID0gdGhpcy5zdGF0ZVxuICAgICAgICBjb25zdCB2aWV3VHlwZSA9IHNob3dBc1RhYmxlID8gVmlld1R5cGVzLlRBQkxFIDogVmlld1R5cGVzLkNBUkRcbiAgICAgICAgdmlld1R5cGVTdWJqZWN0Lm5leHQodmlld1R5cGUpXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBzaG93QXNUYWJsZTogIXNob3dBc1RhYmxlIH0pXG5cbiAgICB9XG4gICAgb25TZWFyY2hDaGFuZ2VkID0gKGV2ZW50OiBSZWFjdC5DaGFuZ2VFdmVudDxIVE1MSW5wdXRFbGVtZW50Pik6IHZvaWQgPT4ge1xuICAgICAgICBjb25zdCBzZWFyY2hTdHJpbmcgPSBldmVudC50YXJnZXQudmFsdWVcbiAgICAgICAgY29uc29sZS5sb2coYGNoYW5nZXM6ICR7c2VhcmNoU3RyaW5nfWApXG4gICAgICAgIHNlYXJjaEZpbHRlclN1YmplY3QubmV4dChzZWFyY2hTdHJpbmcpXG4gICAgfVxuICAgIG9uU2VhcmNoID0gKHNlYXJjaFN0cmluZzogc3RyaW5nKTogdm9pZCA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKGBzZWFjaGluZyBmb3I6ICR7c2VhcmNoU3RyaW5nfWApXG4gICAgICAgIHNlYXJjaEZpbHRlclN1YmplY3QubmV4dChzZWFyY2hTdHJpbmcpXG4gICAgfVxuXG4gICAgcmVuZGVyKCk6IFJlYWN0LlJlYWN0Tm9kZSB7XG4gICAgICAgIHJldHVybiA8UGFnZUhlYWRlclxuICAgICAgICAgICAgb25CYWNrPXsoKSA9PiBudWxsfVxuICAgICAgICAgICAgdGl0bGU9e3RoaXMuc3RhdGUudGl0bGV9XG4gICAgICAgICAgICBzdWJUaXRsZT17dGhpcy5zdGF0ZS5zdWJ0aXRsZX1cbiAgICAgICAgICAgIHN0eWxlPXt7IGNvbG9yOiBcIndoaXRlXCIsIGJhY2tncm91bmRDb2xvcjogXCJ3aGl0ZVwiLCBwYWRkaW5nVG9wOiBcIi41cmVtXCIsIHBhZGRpbmdCb3R0b206IFwiLjNyZW1cIiB9fVxuICAgICAgICAgICAgYmFja0ljb249ezxHaUJvb2tzaGVsZiBzaXplPXszMH0gLz59XG4gICAgICAgICAgICBleHRyYT17PGRpdiBzdHlsZT17e1xuICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZ3JpZFwiLFxuICAgICAgICAgICAgICAgIGdyaWRUZW1wbGF0ZUNvbHVtbnM6IFwiYXV0byAxZnJcIixcbiAgICAgICAgICAgIH19PlxuICAgICAgICAgICAgICAgIDx0aXRsZT57dGhpcy5zdGF0ZS50aXRsZX0gLSB7dGhpcy5zdGF0ZS5zdWJ0aXRsZX08L3RpdGxlPlxuICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgIDxTcGFjZT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hhcGU9XCJjaXJjbGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU9XCJsYXJnZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGgxIHN0eWxlPXt7IGNvbG9yOiBcIndoaXRlXCIgfX0+QmlibGVyPC9oMT5cbiAgICAgICAgICAgICAgICAgICAgPC9TcGFjZT5cblxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAganVzdGlmeVNlbGY6IFwiZW5kXCJcbiAgICAgICAgICAgICAgICB9fT5cbiAgICAgICAgICAgICAgICAgICAgPFNwYWNlPlxuICAgICAgICAgICAgICAgICAgICAgICAgPFNlYXJjaFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiU3VjaGVuXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplPVwibGFyZ2VcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uU2VhcmNoQ2hhbmdlZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvblNlYXJjaD17dGhpcy5vblNlYXJjaH1cbiAgICAgICAgICAgICAgICAgICAgICAgID48L1NlYXJjaD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hhcGU9XCJjaXJjbGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU9XCJsYXJnZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5oYW5kbGVWaWV3VHlwZVRvZ2dsZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uPXt0aGlzLmdldFZpZXdUeXBlVG9nZ2xlSWNvbigpfVxuICAgICAgICAgICAgICAgICAgICAgICAgPjwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8L1NwYWNlPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICA8L2RpdiA+fVxuICAgICAgICA+XG5cbiAgICAgICAgPC9QYWdlSGVhZGVyPlxuXG4gICAgfVxufSIsImltcG9ydCB7IENhcmQsIEltYWdlLCBUYWcgfSBmcm9tICdhbnRkJztcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IFN1YmplY3QgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IERlZmF1bHRCaWJsZXIgfSBmcm9tICcuLi8uLi9hcGlzL0RlZmF1bHRCaWJsZXInO1xuaW1wb3J0IHsgQ2F0ZWdvcnkgfSBmcm9tICcuLi8uLi9tb2RlbHMnO1xuaW1wb3J0IHsgQm9vayB9IGZyb20gXCIuLi8uLi9tb2RlbHMvQm9va1wiO1xuaW1wb3J0IHsgQkFTRV9QQVRIIH0gZnJvbSAnLi4vLi4vcnVudGltZSc7XG5pbXBvcnQgeyBSZWNvcmQgfSBmcm9tIFwiLi8uLi90eXBlc1wiO1xuY29uc3QgeyBNZXRhIH0gPSBDYXJkO1xuXG5cbmV4cG9ydCBpbnRlcmZhY2UgSUJvb2tDYXJkIHtcbiAgICBib29rOiBCb29rXG59XG50eXBlIEJvb2tDYXJkU3RhdGUgPSB7XG4gICAgZGF0YT86IEFycmF5PFJlY29yZD4sXG4gICAgaW5zZXJ0UmVjb3JkPzogUmVjb3JkLFxuICAgIGNhdGVnb3J5Q29sb3JzPzogQXJyYXk8Q2F0ZWdvcnk+XG59XG5cbmV4cG9ydCBjb25zdCBib29rQ2FyZHNTdWJqZWN0ID0gbmV3IFN1YmplY3Q8Qm9vaz4oKVxuY29uc3QgcHVibGlzaCA9IChkYXRhOiBCb29rKSA9PiBib29rQ2FyZHNTdWJqZWN0Lm5leHQoZGF0YSlcblxuY29uc3QgYXBpID0gbmV3IERlZmF1bHRCaWJsZXIoKVxuZXhwb3J0IGNsYXNzIEJvb2tDYXJkIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PElCb29rQ2FyZCwgQm9va0NhcmRTdGF0ZT4ge1xuICAgIHN0YXRlOiBCb29rQ2FyZFN0YXRlID0ge1xuICAgICAgICBkYXRhOiBbXVxuICAgIH1cbiAgICBjb21wb25lbnREaWRNb3VudCgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5sb2FkQ2F0ZWdvcnlDb2xvcnMoKVxuICAgIH1cbiAgICBsb2FkQ2F0ZWdvcnlDb2xvcnMgPSBhc3luYyAoKTogUHJvbWlzZTx2b2lkPiA9PiB7XG4gICAgICAgIGNvbnN0IGNhdGVnb3JpZXMgPSBhd2FpdCBhcGkuZ2V0Q2F0ZWdvcnlDYXRlZ29yeUdldCgpXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgY2F0ZWdvcnlDb2xvcnM6IGNhdGVnb3JpZXNcbiAgICAgICAgfSlcbiAgICB9XG4gICAgZ2V0Q2F0ZWdvcnlDb2xvcih2YWx1ZTogc3RyaW5nKTogc3RyaW5nIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgY29uc3QgeyBjYXRlZ29yeUNvbG9ycyB9ID0gdGhpcy5zdGF0ZVxuICAgICAgICBpZiAoY2F0ZWdvcnlDb2xvcnMgIT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIGNhdGVnb3J5Q29sb3JzLmZpbmQoZWwgPT4gZWwubmFtZSA9PSB2YWx1ZSk/LmNvbG9yXG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVuZGVyKCk6IEpTWC5FbGVtZW50IHtcbiAgICAgICAgY29uc3QgeyBib29rIH0gPSB0aGlzLnByb3BzXG4gICAgICAgIHJldHVybiA8Q2FyZFxuICAgICAgICAgICAgb25DbGljaz17KCkgPT4gcHVibGlzaChib29rKX1cbiAgICAgICAgICAgIGhvdmVyYWJsZVxuICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IDMyMCB9fVxuICAgICAgICAgICAgY292ZXI9ezxJbWFnZSBhbHQ9XCJleGFtcGxlXCIgc3JjPXtgJHtCQVNFX1BBVEh9L21lZGlhLyR7dGhpcy5wcm9wcy5ib29rLmtleX1gfVxuICAgICAgICAgICAgICAgIGZhbGxiYWNrPVwiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFNSUFBQUREQ0FZQUFBRFF2YzZVQUFBQlJXbERRMUJKUTBNZ1VISnZabWxzWlFBQUtKRmpZR0FTU1N3b3lHRmhZR0RJelNzcENuSjNVb2lJakZKZ2Y4TEF3U0RDSU1vZ3dNQ2NtRnhjNEJnUTRBTlV3Z0NqVWNHM2F3eU1JUHF5THNpczdQUE9xM1FkREZjdmpWM2pPRDFib1FWVFBRcmdTa2t0VGdiU2Y0QTRMYm1ncUlTQmdURUZ5Rll1THlrQXNUdUFiSkVpb0tPQTdEa2dkanFFdlFIRVRvS3dqNERWaEFRNUE5azNnR3lCNUl4RW9CbU1MNEJzblNRazhYUWtOdFJlRU9CeGNmWHhVUWcxTWpjMGR5SGdYTkpCU1dwRkNZaDJ6aStvTE1wTXp5aFJjQVNHVXFxQ1oxNnlubzZDa1lHUkFRTURLTXdocWovZkFJY2xveGdIUXF4QWpJSEJFdWd3NXNVSXNTUXBCb2J0UVBkTGNpTEVWSll6TVBCSE1EQnNheWhJTEVxRU80RHhHMHR4bXJFUmhNMjluWUdCZGRyLy81L0RHUmpZTlJrWS9sNy8vLy8zOXYvLy95NERtbitMZ2VIQU53RHJrbDFBdU8rcG1nQUFBRGhsV0VsbVRVMEFLZ0FBQUFnQUFZZHBBQVFBQUFBQkFBQUFHZ0FBQUFBQUFxQUNBQVFBQUFBQkFBQUF3cUFEQUFRQUFBQUJBQUFBd3dBQUFBRDliL0huQUFBSGxrbEVRVlI0QWUzZFAzUFRXQlNHY2JHek02R0NLcWxJQlJWMGRIUkpGYXJRMGVVVDhMSDRCblJVME5IUjBVRUZWZElsRlJWN1R6Umtzb21QWTh1eWtUay96ZXdRZkt3Lzl6bnY0eXZKeW5MdjR1TGlWMmRCb0RpQmY0cVAzL0FSdUNSQUJFRkFvQkVnZ2hnZ1FBUVpRS0FuWUVhUUJBUWFBU0tJQVFKRWtBRUVlZ0ptQkVsQW9CRWdnaGdnUUFRWlFLQW5ZRWFRQkFRYUFTS0lBUUpFa0FFRWVnSm1CRWxBb0JFZ2doZ2dRQVFaUUtBbllFYVFCQVFhQVNLSUFRSkVrQUVFZWdKbUJFbEFvQkVnZ2hnZ1FBUVpRS0FuWUVhUUJBUWFBU0tJQVFKRWtBRUVlZ0ptQkVsQW9CRWdnaGdnUUFRWlFLQW5ZRWFRQkFRYUFTS0lBUUpFa0FFRWVnSm1CRWxBb0JFZ2doZ2dRQVFaUUtBbllFYVFCQVFhQVNLSUFRSkVrQUVFZWdKbUJFbEFvQkVnZ2hnZ1FBUVpRS0FuWUVhUUJBUWFBU0tJQVFKRWtBRUVlZ0ptQkVsQW9CRWdnaGdnUUFRWlFLQW5ZRWFRQkFRYUFTS0lBUUpFa0FFRWVnSm1CRWxBb0JFZ2doZ2dRQVFaUUtBbllFYVFCQVFhQVNLSUFRSkVrQUVFZWdKbUJFbEFvQkVnZ2hnZ1FBUVpRS0FuWUVhUUJBUWFBU0tJQVFKRWtBRUVlZ0ptQkVsQW9CRWdnaGdnUUFRWlFLQW5ZRWFRQkFRYUFTS0lBUUpFa0FFRWVnSm1CRWxBb0JFZ2doZ2dRQVFaUUtBbllFYVFCQVFhQVNLSUFRSkVrQUVFZWdKbUJFbEFvQkVnZ2hnZzBBajhpMEpPNE96c3JQdjY5V3YraGkycVBIcjBxTnZmMzkraUk5N3NvUkloNGYzejU4L3U3ZHUzU1hYN1h0N1oyZW5ldkhtemZRZStvU04yYXBTQVBqMDlUU3JiK1hLSS9mMzc5KzA4K0EwY05SRTJBTmt1cGsrQUNOUHZrU1BjQUFFaWJBQ3lYVXlmQUJHbTN5Tkh1QUVDUk5nQVpMdVlQZ0VpcktsSHU3dTdYZHl5dEd3SEFkOGpqTnluZzRPRDd2bno1MWRiUFQ4Lzd6NTgrTkI5Ky9idDZqVS9USStBR1dIRW5yeDQ4ZUovRXNTbUh6eDQwTDE4K2ZMeXp4RjNaVk1qRXlEQ2lFRGpNWVpaUzV3aVBYbnlaRmJKYXhNaFFJUVJHekh2V1I3WEN5T0NYc09taURBaTFIbVBNTVFqRHBicEVpRENpTDM1OGVOSHVyVy81U25XZElCYlhpRENpQTM4L1BuenJjZTJZeVo0Ly81OUYzZVBMTk1sNFBicGlMMkowTDk3OSs3eUR0SERodzh2dHp6dmRHbkVYZHZVaWdTSXNDTEFXYXZIcC8rcU0wQmNYTWQvcTI1bjF2RjU3VFlCcDBhM21VemlsZVBqNCs3azVLU0xiNmd0NnlkQWhQVXpYbm9QUjBkSGw3OVdHVE5DZkJubjF1dlNDSmRlZ1FoTEkxdnZDaytmUHUyZVBYdDJ0Wk9ZRVY2L2ZuMzFkeitzaHdBUjFzUDFjcXZMbnRiRU45TXhBOXhjWWpzeFMxaldSNEFJYTJJYnp4MHRjNDRmWVgvMTZsVjZOREZMWEgrWUwzMmp3aUFDUkJpRWJmNUtjWG9USXNRU3B6WHg0TjI4SmE0QlFvSzdyZ1hpeWRiSGp4L1AyNVRhUUFKRUdBZ3VXeTArMlE4UEQ2L0tpNFI4RVZsK2J6Qk9uWlk5NWZxOXJqOXpBa1RJMlN4ZGlkQkhxRzkrc2tkdzQzYm9yQ1hPL1pjSmRyYVBXZHYyMnVJRWlMQTRxN252dkN1ZzhXVHF6UXZlT0gyNmZvZG83ZzZ1RmUvYTE3VzMrbkZCQWtSWUVOUmRiMXZra3oxQ0g5Y1BzVnkvanJocjI3UHFNWXZFTllObEhBSWVzUmlCWXdSeTBWKzhpWFA4Ky9mdlgxMU1yN0w3RUN1ZWIvcjQ4ZU1xbTdGdUkyQkdXREVHOGNtKzdHM05FT2ZtZGNUUXc0aDkvNTVsaG03RGVrUllLUVBaRjJBcmJYVEF5dTRrRFlCMll4VXp3ZzBnaS80MXp0SG5mUUcyNkhiR2VsL2NyVnJtN3ROWSsvMWJ0a09FQVoyTTA1cjRGQjdyOUdiQUlkeGFaWXJIZE9zZ0ovd0NFUVkwSjc0VG1PS25ieHhUOW4zRmdHR1dXc1Zkb3dIdGp0OU5udmY3eVFNMmFaVS9USUFJQXhydzZkT25BV3RaWmNvRW5CcE51VHVPYldNRWlMQXgxSFkwWlFKRW1ISjNITnZHQ0JCaFk2anRhTW9FaUpCMFoyOXZMNmxzNTh2eFBjTzgvemZyZG81cXZLTytkM0Z4OFd1OHpmMWRXNHAvY1B6TGx5L2R0djlUcy9FYmN2R0FIaEh5ZkJJaFo2TlNpSUJUbzBMTk50U2NBQkZ5TmlxRkNCQ2hVTE1OTlNkQWhKeU5TaUVDUkNqVWJFUE5DUkFoWjZOU2lBQVJDalhiVUhNQ1JNalpxQlFpUUlSQ3pUYlVuQUFSY2pZcWhRZ1FvVkN6RFRVblFJU2NqVW9oQWtRbzFHeER6UWtRSVdlalVvZ0FFUW8xMjFCekFrVEkyYWdVSWtDRVFzMDIxSndBRVhJMktvVUlFS0ZRc3cwMUowQ0VuSTFLSVFKRUtOUnNRODBKRUNGbm8xS0lBQkVLTmR0UWN3SkV5Tm1vRkNKQWhFTE5OdFNjQUJGeU5pcUZDQkNoVUxNTk5TZEFoSnlOU2lFQ1JDalViRVBOQ1JBaFo2TlNpQUFSQ2pYYlVITUNSTWpacUJRaVFJUkN6VGJVbkFBUmNqWXFoUWdRb1ZDekRUVW5RSVNjalVvaEFrUW8xR3hEelFrUUlXZWpVb2dBRVFvMTIxQnpBa1RJMmFnVUlrQ0VRczAyMUp3QUVYSTJLb1VJRUtGUXN3MDFKMENFbkkxS0lRSkVLTlJzUTgwSkVDRm5vMUtJQUJFS05kdFFjd0pFeU5tb0ZDSkFoRUxOTnRTY0FCRnlOaXFGQ0JDaFVMTU5OU2RBaEp5TlNpRUNSQ2pVYkVQTkNSQWhaNk5TaUFBUkNqWGJVSE1DUk1qWnFCUWlRSVJDelRiVW5BQVJjallxaFFnUW9WQ3pEVFVuUUlTY2pVb2hBa1FvMUd4RHpRa1FJV2VqVW9nQUVRbzEyMUJ6QWtUSTJhZ1VJa0NFUXMwMjFKd0FFWEkyS29VSUVLRlFzdzAxSjBDRW5JMUtJUUpFS05Sc1E4MEpFQ0ZubzFLSUFCRUtOZHRRY3dKRXlObW9GQ0pBaEVMTk50U2NBQkZ5TmlxRkNCQ2hVTE1OTlNkQWhKeU5TaUVDL3dHZ0tLQzRZTUE0VEFBQUFBQkpSVTVFcmtKZ2dnPT1cIlxuICAgICAgICAgICAgLz59PlxuICAgICAgICAgICAgPE1ldGEgdGl0bGU9e3RoaXMucHJvcHMuYm9vay50aXRsZX0gZGVzY3JpcHRpb249e3RoaXMucHJvcHMuYm9vay5hdXRob3J9IC8+XG4gICAgICAgICAgICA8ZGl2ID48c3Bhbj5WZXJsYWc6IDwvc3Bhbj57dGhpcy5wcm9wcy5ib29rLnB1Ymxpc2hlcn08L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgPjxzcGFuPkthdGVnb3JpZTogPFRhZyBjb2xvcj17dGhpcy5nZXRDYXRlZ29yeUNvbG9yKHRoaXMucHJvcHMuYm9vay5jYXRlZ29yeSl9ID57dGhpcy5wcm9wcy5ib29rLmNhdGVnb3J5fTwvVGFnPjwvc3Bhbj48L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgPjxzcGFuPklTQk46IDwvc3Bhbj57dGhpcy5wcm9wcy5ib29rLmlzYm59PC9kaXY+XG4gICAgICAgICAgICA8ZGl2ID48c3Bhbj5FdGlrZXR0OiA8L3NwYW4+e3RoaXMucHJvcHMuYm9vay5zaG9ydGhhbmR9IHt0aGlzLnByb3BzLmJvb2subnVtYmVyfTwvZGl2PlxuXG4gICAgICAgIDwvQ2FyZD5cbiAgICB9XG5cbn1cbiIsImltcG9ydCB7IEVtcHR5LCBQYWdpbmF0aW9uIH0gZnJvbSAnYW50ZCc7XG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IERlZmF1bHRCaWJsZXIgfSBmcm9tIFwiLi4vLi4vYXBpcy9EZWZhdWx0QmlibGVyXCI7XG5pbXBvcnQgeyBCb29rIH0gZnJvbSBcIi4uLy4uL21vZGVscy9Cb29rXCI7XG5pbXBvcnQgeyBVc2VyIH0gZnJvbSAnLi4vLi4vbW9kZWxzL1VzZXInO1xuaW1wb3J0IHsgc2VhcmNoRmlsdGVyU3ViamVjdCB9IGZyb20gJy4uL1RpdGxlQmFyTWVudSc7XG5pbXBvcnQgeyBCb29rQ2FyZCB9IGZyb20gJy4vQm9va0NhcmQnO1xudHlwZSBCb29rQ2FyZHNTdGF0ZSA9IHtcbiAgICBkYXRhPzogQXJyYXk8Qm9vaz4sXG4gICAgZmlsdGVyZWREYXRhPzogQXJyYXk8Qm9vaz4sXG4gICAgaW5zZXJ0UmVjb3JkPzogQm9vayxcbiAgICBwYWdlOiBudW1iZXIsXG4gICAgcGFnZVNpemU6IG51bWJlcixcbn1cbmludGVyZmFjZSBJY29uVGV4dCB7XG4gICAgaWNvbjogUmVhY3QuUmVhY3RFbGVtZW50LFxuICAgIHRleHQ6IHN0cmluZ1xufVxuaW50ZXJmYWNlIElCb29rQ2FyZHMge1xuICAgIHVzZXJGaWx0ZXI/OiBVc2VyXG59XG5jb25zdCBhcGkgPSBuZXcgRGVmYXVsdEJpYmxlcigpXG5cbmV4cG9ydCBjbGFzcyBCb29rQ2FyZHMgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8SUJvb2tDYXJkcz4ge1xuICAgIHN0YXRlOiBCb29rQ2FyZHNTdGF0ZSA9IHtcbiAgICAgICAgZGF0YTogW10sXG4gICAgICAgIHBhZ2U6IDEsXG4gICAgICAgIHBhZ2VTaXplOiAxMixcbiAgICAgICAgZmlsdGVyZWREYXRhOiBbXVxuICAgIH1cbiAgICBzZWFyY2hGaWx0ZXJTdWI6IFN1YnNjcmlwdGlvbiB8IG51bGwgPSBudWxsXG4gICAgbG9hZERhdGEgPSBhc3luYyAoKTogUHJvbWlzZTx2b2lkPiA9PiB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBhcGkuZ2V0Qm9va3NCb29rc0dldCh7fSlcbiAgICAgICAgY29uc29sZS5sb2coZGF0YSlcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBkYXRhOiBkYXRhLFxuICAgICAgICAgICAgZmlsdGVyZWREYXRhOiBkYXRhXG4gICAgICAgIH0pXG4gICAgfVxuICAgIGFzeW5jIGNvbXBvbmVudERpZE1vdW50KCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBhd2FpdCB0aGlzLmxvYWREYXRhKClcbiAgICAgICAgdGhpcy5zZWFyY2hGaWx0ZXJTdWIgPSBzZWFyY2hGaWx0ZXJTdWJqZWN0LnN1YnNjcmliZSgoc2VhcmNoOiBzdHJpbmcpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiZmlsdGVyaW5nIGJ5OiBcIiArIHNlYXJjaClcbiAgICAgICAgICAgIGNvbnN0IHJlZ2V4ID0gbmV3IFJlZ0V4cChcIi4qXCIgKyBzZWFyY2ggKyBcIi4qXCIpXG4gICAgICAgICAgICBjb25zdCBmaWx0ZXJkRGF0YSA9IHRoaXMuc3RhdGUuZGF0YT8uZmlsdGVyKGUgPT4gT2JqZWN0LnZhbHVlcyhlKVxuICAgICAgICAgICAgICAgIC5zb21lKGkgPT4gaSAhPSBudWxsID8gcmVnZXgudGVzdChpLnRvU3RyaW5nKCkpIDogZmFsc2UpKVxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJmaWx0ZXJkIGJvb2tzXCIsIGZpbHRlcmREYXRhKVxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgZmlsdGVyZWREYXRhOiBmaWx0ZXJkRGF0YVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICB9XG4gICAgY29tcG9uZW50V2lsbFVubW91bnQoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuc2VhcmNoRmlsdGVyU3ViPy51bnN1YnNjcmliZSgpXG4gICAgfVxuICAgIHJlbmRlcigpOiBKU1guRWxlbWVudCB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlLmZpbHRlcmVkRGF0YSAhPSBudWxsKSB7XG5cbiAgICAgICAgICAgIHJldHVybiA8ZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgbWFyZ2luTGVmdDogXCIxcmVtXCIsXG4gICAgICAgICAgICAgICAgICAgIG1hcmdpblRvcDogXCIxcmVtXCIsXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZ3JpZFwiLFxuICAgICAgICAgICAgICAgICAgICBncmlkR2FwOiBcIjFyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgZ3JpZFRlbXBsYXRlQ29sdW1uczogXCJyZXBlYXQoYXV0by1maXQsIG1pbm1heCgzMDBweCwgMWZyKSlcIlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9PlxuICAgICAgICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS5maWx0ZXJlZERhdGEuc2xpY2UodGhpcy5zdGF0ZS5wYWdlIC0gMSwgdGhpcy5zdGF0ZS5wYWdlICsgdGhpcy5zdGF0ZS5wYWdlU2l6ZSkubWFwKGVsID0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8Qm9va0NhcmQga2V5PXtcImJvb2stY2FyZFwiICsgZWwua2V5fSBib29rPXtlbH0+PC9Cb29rQ2FyZD5cbiAgICAgICAgICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgICAgIDwvZGl2ID5cbiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJmbGV4LWVuZFwiXG4gICAgICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICAgICAgICAgIDxQYWdpbmF0aW9uIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgIH19IGRlZmF1bHRDdXJyZW50PXsxfSBjdXJyZW50PXt0aGlzLnN0YXRlLnBhZ2V9IG9uQ2hhbmdlPXsocGFnZSwgcGFnZVNpemUpID0+IHRoaXMuc2V0U3RhdGUoeyBwYWdlOiBwYWdlLCBwYWdlU2l6ZTogcGFnZVNpemUgfSl9IHRvdGFsPXt0aGlzLnN0YXRlLmZpbHRlcmVkRGF0YS5sZW5ndGh9IC8+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gPEVtcHR5IC8+XG4gICAgfVxuXG5cbn0iLCJpbXBvcnQgeyBMaWtlT3V0bGluZWQsIE1lc3NhZ2VPdXRsaW5lZCwgVXNlck91dGxpbmVkIH0gZnJvbSBcIkBhbnQtZGVzaWduL2ljb25zXCI7XG5pbXBvcnQgeyBBdmF0YXIsIEVtcHR5LCBMaXN0LCBTcGFjZSB9IGZyb20gXCJhbnRkXCI7XG5pbXBvcnQgQ1NTIGZyb20gXCJjc3N0eXBlXCI7XG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBHaUJvb2tDb3ZlciB9IGZyb20gXCJyZWFjdC1pY29ucy9naVwiO1xuaW1wb3J0IHsgU3ViamVjdCwgU3Vic2NyaXB0aW9uIH0gZnJvbSBcInJ4anNcIjtcbmltcG9ydCB7IERlZmF1bHRCaWJsZXIgfSBmcm9tIFwiLi4vLi4vYXBpcy9EZWZhdWx0QmlibGVyXCI7XG5pbXBvcnQgeyBVc2VyIH0gZnJvbSBcIi4uLy4uL21vZGVscy9Vc2VyXCI7XG5pbXBvcnQgeyBzZWFyY2hGaWx0ZXJTdWJqZWN0IH0gZnJvbSBcIi4uL1RpdGxlQmFyTWVudVwiO1xuXG5cbmV4cG9ydCBpbnRlcmZhY2UgRXh0ZW5kZWRVc2VyIHtcbiAgICB1c2VyOiBVc2VyXG4gICAgYm9ycm93ZWRCb29rczogbnVtYmVyXG5cbn1cbmV4cG9ydCBpbnRlcmZhY2UgVXNlckNhcmRzU3RhdGUge1xuICAgIGRhdGE6IEFycmF5PEV4dGVuZGVkVXNlcj5cbiAgICBmaWx0ZXJlZERhdGE6IEFycmF5PEV4dGVuZGVkVXNlcj5cbiAgICBzZWxlY3RlZFJlY29yZD86IEV4dGVuZGVkVXNlclxufVxuaW50ZXJmYWNlIElJY29uVGV4dCB7XG4gICAgaWNvbjogUmVhY3QuUmVhY3RFbGVtZW50XG4gICAgdGV4dDogc3RyaW5nXG59XG5pbnRlcmZhY2UgSUxpc3RJdGVtIHtcbiAgICBrZXk6IG51bWJlclxuICAgIHRpdGxlOiBzdHJpbmdcbiAgICBpY29uOiBSZWFjdC5SZWFjdEVsZW1lbnRcbiAgICBhdmF0YXI6IHN0cmluZ1xuICAgIGhyZWY6IHN0cmluZ1xuICAgIGRlc2NyaXB0aW9uOiBzdHJpbmdcbiAgICBib3Jyb3dlZEJvb2tzOiBudW1iZXJcbiAgICBjb250ZW50OiBSZWFjdC5SZWFjdEVsZW1lbnRcbiAgICBzZWxlY3RlZDogYm9vbGVhblxufVxuY29uc3QgYXBpID0gbmV3IERlZmF1bHRCaWJsZXIoKVxuXG5leHBvcnQgY29uc3QgdXNlckNhcmRzU3ViamVjdCA9IG5ldyBTdWJqZWN0PEV4dGVuZGVkVXNlcj4oKVxuY29uc3QgcHVibGlzaCA9IChkYXRhOiBFeHRlbmRlZFVzZXIpID0+IHVzZXJDYXJkc1N1YmplY3QubmV4dChkYXRhKVxuZXhwb3J0IGNsYXNzIFVzZXJDYXJkcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gICAgc3RhdGU6IFVzZXJDYXJkc1N0YXRlID0ge1xuICAgICAgICBkYXRhOiBbXSxcbiAgICAgICAgZmlsdGVyZWREYXRhOiBbXVxuICAgIH1cbiAgICBzZWFyY2hGaWx0ZXJTdWI6IFN1YnNjcmlwdGlvbiB8IG51bGwgPSBudWxsXG4gICAgbG9hZERhdGEgPSBhc3luYyAoKTogUHJvbWlzZTx2b2lkPiA9PiB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSAoYXdhaXQgYXBpLmdldFVzZXJzVXNlcnNHZXQoKSkgYXMgQXJyYXk8W1VzZXIsIG51bWJlcl0+XG4gICAgICAgIGNvbnNvbGUubG9nKGRhdGEpXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgZGF0YTogZGF0YS5tYXAoZWwgPT4gKHsgdXNlcjogZWxbMF0sIGJvcnJvd2VkQm9va3M6IGVsWzFdIH0pKVxuICAgICAgICB9KVxuICAgIH1cbiAgICBhc3luYyBjb21wb25lbnREaWRNb3VudCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgYXdhaXQgdGhpcy5sb2FkRGF0YSgpXG5cbiAgICAgICAgdGhpcy5zZWFyY2hGaWx0ZXJTdWIgPSBzZWFyY2hGaWx0ZXJTdWJqZWN0LnN1YnNjcmliZSh0aGlzLmZpbHRlckRhdGEpXG4gICAgfVxuICAgIGZpbHRlckRhdGEgPSAoc2VhcmNoOiBzdHJpbmcpOiB2b2lkID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coXCJmaWx0ZXJpbmcgYnk6IFwiICsgc2VhcmNoKVxuICAgICAgICBjb25zdCByZWdleCA9IG5ldyBSZWdFeHAoXCIuKlwiICsgc2VhcmNoICsgXCIuKlwiKVxuICAgICAgICBjb25zdCBmaWx0ZXJlZERhdGEgPSB0aGlzLnN0YXRlLmRhdGE/LmZpbHRlcihlID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwic2Nhbm5pbmc6IFwiLCBlKVxuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC52YWx1ZXMoZS51c2VyKVxuICAgICAgICAgICAgICAgIC5zb21lKGkgPT4gaSAhPSBudWxsID8gcmVnZXgudGVzdChpLnRvU3RyaW5nKCkpIDogZmFsc2UpXG4gICAgICAgIH0pXG4gICAgICAgIGNvbnNvbGUubG9nKFwiZmlsdGVyZWQgZGF0YTogXCIsIGZpbHRlcmVkRGF0YSlcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBmaWx0ZXJlZERhdGE6IGZpbHRlcmVkRGF0YVxuICAgICAgICB9KVxuICAgIH1cbiAgICBjb21wb25lbnRXaWxsVW5tb3VudCgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5zZWFyY2hGaWx0ZXJTdWI/LnVuc3Vic2NyaWJlKClcbiAgICB9XG4gICAgaGFuZGxlQ2xpY2sodXNlcktleTogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gdGhpcy5zdGF0ZVxuICAgICAgICBpZiAoZGF0YSAhPSBudWxsICYmIHVzZXJLZXkgIT0gbnVsbCkge1xuICAgICAgICAgICAgY29uc3Qgc2VsZWN0ZWRVc2VyID0gZGF0YS5maW5kKGVsID0+IGVsLnVzZXIua2V5ID09IHVzZXJLZXkpXG4gICAgICAgICAgICBpZiAoc2VsZWN0ZWRVc2VyICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgdXNlcjogJHtzZWxlY3RlZFVzZXJ9IHNlbGVjdGVkYClcbiAgICAgICAgICAgICAgICBwdWJsaXNoKHNlbGVjdGVkVXNlcilcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhzZWxlY3RlZFVzZXIpXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkUmVjb3JkOiBzZWxlY3RlZFVzZXJcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJlbmRlcigpOiBKU1guRWxlbWVudCB7XG4gICAgICAgIGNvbnN0IEljb25UZXh0ID0gKHsgaWNvbiwgdGV4dCB9OiBJSWNvblRleHQpID0+IChcbiAgICAgICAgICAgIDxTcGFjZT5cbiAgICAgICAgICAgICAgICB7aWNvbn1cbiAgICAgICAgICAgICAgICB7dGV4dH1cbiAgICAgICAgICAgIDwvU3BhY2U+XG4gICAgICAgICk7XG4gICAgICAgIGNvbnNvbGUubG9nKFwicmVuZGVyaW5nOiBcIiwgdGhpcy5zdGF0ZS5maWx0ZXJlZERhdGEpXG4gICAgICAgIGlmICh0aGlzLnN0YXRlLmZpbHRlcmVkRGF0YSAhPSBudWxsICYmIHRoaXMuc3RhdGUuZmlsdGVyZWREYXRhLmxlbmd0aCAhPSAwKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcInJlbmRlcmluZzogXCIsIHRoaXMuc3RhdGUuZmlsdGVyZWREYXRhKVxuICAgICAgICAgICAgY29uc3QgbGlzdERhdGE6IEFycmF5PElMaXN0SXRlbT4gPSB0aGlzLnN0YXRlLmZpbHRlcmVkRGF0YS5tYXAoZWwgPT4gKHtcbiAgICAgICAgICAgICAgICBrZXk6IGVsLnVzZXIua2V5LFxuICAgICAgICAgICAgICAgIGF2YXRhcjogXCJcIixcbiAgICAgICAgICAgICAgICBjb250ZW50OiA8ZGl2PjwvZGl2PixcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogZWwudXNlci5jbGFzc25hbWUgIT0gbnVsbCA/IGVsLnVzZXIuY2xhc3NuYW1lIDogXCJcIixcbiAgICAgICAgICAgICAgICBocmVmOiBcIlwiLFxuICAgICAgICAgICAgICAgIGljb246IDxVc2VyT3V0bGluZWQ+PC9Vc2VyT3V0bGluZWQ+LFxuICAgICAgICAgICAgICAgIHRpdGxlOiBlbC51c2VyLmZpcnN0bmFtZSArIFwiIFwiICsgZWwudXNlci5sYXN0bmFtZSxcbiAgICAgICAgICAgICAgICBib3Jyb3dlZEJvb2tzOiBlbC5ib3Jyb3dlZEJvb2tzLFxuICAgICAgICAgICAgICAgIHNlbGVjdGVkOiB0aGlzLnN0YXRlLnNlbGVjdGVkUmVjb3JkICE9IG51bGwgPyB0aGlzLnN0YXRlLnNlbGVjdGVkUmVjb3JkLnVzZXIua2V5ID09IGVsLnVzZXIua2V5IDogZmFsc2VcbiAgICAgICAgICAgIH0pKVxuICAgICAgICAgICAgcmV0dXJuIDxMaXN0XG4gICAgICAgICAgICAgICAgaXRlbUxheW91dD1cInZlcnRpY2FsXCJcbiAgICAgICAgICAgICAgICBzaXplPVwibGFyZ2VcIlxuICAgICAgICAgICAgICAgIHBhZ2luYXRpb249e3tcbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U6IHBhZ2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocGFnZSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHBhZ2VTaXplOiAxMCxcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIGRhdGFTb3VyY2U9e2xpc3REYXRhfVxuICAgICAgICAgICAgICAgIHJlbmRlckl0ZW09e2l0ZW0gPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBoaWdobGlnaHQ6IENTUy5Qcm9wZXJ0aWVzID0gaXRlbS5zZWxlY3RlZCA/IHsgYmFja2dyb3VuZENvbG9yOiBcImxpZ2h0Z3JheVwiIH0gOiB7IGJhY2tncm91bmRDb2xvcjogXCJ3aGl0ZVwiIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDxMaXN0Lkl0ZW1cbiAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXtoaWdobGlnaHR9XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB0aGlzLmhhbmRsZUNsaWNrKGl0ZW0ua2V5KX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aXRlbS50aXRsZX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbnM9e1tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SWNvblRleHQgaWNvbj17PExpa2VPdXRsaW5lZCAvPn0gdGV4dD1cIjBcIiBrZXk9XCJsaXN0LXZlcnRpY2FsLWxpa2Utb1wiIC8+LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJY29uVGV4dCBpY29uPXs8TWVzc2FnZU91dGxpbmVkIC8+fSB0ZXh0PVwiMFwiIGtleT1cImxpc3QtdmVydGljYWwtbWVzc2FnZVwiIC8+LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJY29uVGV4dCBpY29uPXs8R2lCb29rQ292ZXIgLz59IHRleHQ9e2l0ZW0uYm9ycm93ZWRCb29rcy50b1N0cmluZygpfSBrZXk9XCJsaXN0LXZlcnRpY2FsLW1lc3NhZ2VcIiAvPixcbiAgICAgICAgICAgICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgICAgICAgICAgICBleHRyYT17PGRpdj48L2Rpdj59XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxMaXN0Lkl0ZW0uTWV0YVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF2YXRhcj17PEF2YXRhciBpY29uPXs8VXNlck91dGxpbmVkIC8+fSBzcmM9e2l0ZW0uYXZhdGFyfSAvPn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT17PGEgb25DbGljaz17KCkgPT4gdGhpcy5oYW5kbGVDbGljayhpdGVtLmtleSl9PntpdGVtLnRpdGxlfTwvYT59XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb249e2l0ZW0uZGVzY3JpcHRpb259XG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAge2l0ZW0uY29udGVudH1cbiAgICAgICAgICAgICAgICAgICAgPC9MaXN0Lkl0ZW0+XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIC8+XG5cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gPEVtcHR5PjwvRW1wdHk+XG4gICAgfVxufSIsImltcG9ydCB7IFN1YmplY3QsIFN1YnNjcmlwdGlvbiB9IGZyb20gXCJyeGpzXCI7XG5pbXBvcnQgeyBib3Jyb3dNb2RhbFNlYWNoRmlsdGVyU3ViamVjdCB9IGZyb20gXCIuLi9Cb29rL0Jvb2tJdGVtXCI7XG5pbXBvcnQgeyBFeHRlbmRlZFVzZXIsIFVzZXJDYXJkcyB9IGZyb20gXCIuL1VzZXJDYXJkc1wiO1xuXG5cblxuZXhwb3J0IGNvbnN0IHVzZXJTZWxlY3RDYXJkc1N1YmplY3QgPSBuZXcgU3ViamVjdDxFeHRlbmRlZFVzZXI+KClcblxuZXhwb3J0IGNsYXNzIFVzZXJTZWxlY3RDYXJkcyBleHRlbmRzIFVzZXJDYXJkcyB7XG4gICAgYm9ycm93TW9kYWxTZWFjaEZpbHRlclN1YjogU3Vic2NyaXB0aW9uIHwgbnVsbCA9IG51bGxcbiAgICBhc3luYyBjb21wb25lbnREaWRNb3VudCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgc3VwZXIuY29tcG9uZW50RGlkTW91bnQoKVxuICAgICAgICB0aGlzLnNlYXJjaEZpbHRlclN1Yj8udW5zdWJzY3JpYmUoKVxuICAgICAgICB0aGlzLmJvcnJvd01vZGFsU2VhY2hGaWx0ZXJTdWIgPSBib3Jyb3dNb2RhbFNlYWNoRmlsdGVyU3ViamVjdC5zdWJzY3JpYmUodGhpcy5maWx0ZXJEYXRhKVxuICAgIH1cbiAgICBjb21wb25lbnRXaWxsVW5tb3VudCgpOiB2b2lkIHtcbiAgICAgICAgc3VwZXIuY29tcG9uZW50V2lsbFVubW91bnQoKVxuICAgICAgICB0aGlzLmJvcnJvd01vZGFsU2VhY2hGaWx0ZXJTdWI/LnVuc3Vic2NyaWJlKClcbiAgICB9XG4gICAgaGFuZGxlQ2xpY2sodXNlcktleTogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gdGhpcy5zdGF0ZVxuICAgICAgICBpZiAoZGF0YSAhPSBudWxsICYmIHVzZXJLZXkgIT0gbnVsbCkge1xuICAgICAgICAgICAgY29uc3Qgc2VsZWN0ZWRVc2VyID0gZGF0YS5maW5kKGVsID0+IGVsLnVzZXIua2V5ID09IHVzZXJLZXkpXG4gICAgICAgICAgICBpZiAoc2VsZWN0ZWRVc2VyICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcInVzZXI6XCIsIHNlbGVjdGVkVXNlcilcbiAgICAgICAgICAgICAgICB1c2VyU2VsZWN0Q2FyZHNTdWJqZWN0Lm5leHQoc2VsZWN0ZWRVc2VyKVxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHNlbGVjdGVkVXNlcilcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRSZWNvcmQ6IHNlbGVjdGVkVXNlclxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59IiwiaW1wb3J0IHsgRmllbGRUaW1lT3V0bGluZWQgfSBmcm9tIFwiQGFudC1kZXNpZ24vaWNvbnNcIjtcbmltcG9ydCB7IEJ1dHRvbiwgRGl2aWRlciwgSW1hZ2UsIG1lc3NhZ2UsIE1vZGFsLCBTcGFjZSB9IGZyb20gXCJhbnRkXCI7XG5pbXBvcnQgU2VhcmNoIGZyb20gXCJhbnRkL2xpYi9pbnB1dC9TZWFyY2hcIjtcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IEdpQm9va0NvdmVyIH0gZnJvbSBcInJlYWN0LWljb25zL2dpXCI7XG5pbXBvcnQgeyBTdWJqZWN0LCBTdWJzY3JpcHRpb24gfSBmcm9tIFwicnhqc1wiO1xuaW1wb3J0IHsgRGVmYXVsdEJpYmxlciB9IGZyb20gXCIuLi8uLi9hcGlzL0RlZmF1bHRCaWJsZXJcIjtcbmltcG9ydCB7IEJvcnJvd1Jlc3BvbnNlU3RhdHVzLCBFeHRlbmRpbmdSZXNwb25zZVN0YXR1cywgUmV0dXJuaW5nUmVzcG9uc2VTdGF0dXMgfSBmcm9tIFwiLi4vLi4vbW9kZWxzXCI7XG5pbXBvcnQgeyBCb29rIH0gZnJvbSBcIi4uLy4uL21vZGVscy9Cb29rXCI7XG5pbXBvcnQgeyBVc2VyIH0gZnJvbSBcIi4uLy4uL21vZGVscy9Vc2VyXCI7XG5pbXBvcnQgeyBCQVNFX1BBVEggfSBmcm9tIFwiLi4vLi4vcnVudGltZVwiO1xuaW1wb3J0IHsgVXNlclNlbGVjdENhcmRzLCB1c2VyU2VsZWN0Q2FyZHNTdWJqZWN0IH0gZnJvbSBcIi4uL1VzZXIvVXNlclNlbGVjdENhcmRzXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUJvb2tJdGVtIHtcbiAgICAvKipcbiAgICAgKiBUaGUgZGlzcGxheWVkIGJvb2suXG4gICAgICovXG4gICAgYm9vazogQm9vayxcbiAgICAvKipcbiAgICAgKiBUaGUgcHJlc2VsZWN0ZWQgdXNlciBib3Jyb3dpbmcgdGhlIGJvb2suXG4gICAgICovXG4gICAgdXNlcj86IFVzZXJcbn1cbmludGVyZmFjZSBCb29rSXRlbVN0YXRlIHtcbiAgICAvKipcbiAgICAgKiBVc2VyIHNlbGVjdGVkIGZyb20gdGhlIGJvcnJvdyBtb2RhbC5cbiAgICAgKi9cbiAgICBzZWxlY3RlZFVzZXI/OiBVc2VyXG4gICAgLyoqXG4gICAgICogU3RhdGUgb2YgdGhlIGxvYWRpbmcgSWNvbiBvbiB0aGUgYm9ycm93IGJ1dHRvbi5cbiAgICAgKi9cbiAgICBsb2FkaW5nOiBib29sZWFuXG4gICAgLyoqXG4gICAgICogU3RhdGUgb2YgdGhlIGJvcnJvdyBtb2RhbC5cbiAgICAgKi9cbiAgICBib3Jyb3dNb2RhbFZpc2libGU6IGJvb2xlYW5cbiAgICAvKipcbiAgICAgKiBTdGF0ZSBvZiB0aGUgYm9ycm93IGJ1dHRvbi5cbiAgICAgKi9cbiAgICBib3Jyb3dCdXR0b25EaXNhYmxlZDogYm9vbGVhblxuICAgIC8qKlxuICAgICAqIFVzZXIgY3VycmVudGx5IGJvcnJvd2luZyB0aGUgZGlzcGxheWVkIGJvb2suXG4gICAgICovXG4gICAgYm9ycm93aW5nVXNlcj86IFVzZXIgfCBudWxsXG4gICAgLyoqXG4gICAgICogRmxhZyBpbmRpY2F0aW5nIHRoYXQgdGhlIGJvb2sgY2FudCBiZSBib3Jyb3dlZC5cbiAgICAgKi9cbiAgICBpc0FscmVhZHlCb3Jyb3dlZDogYm9vbGVhbixcbiAgICAvKipcbiAgICAgKiBGbGFnIGluZGljYXRpbmcgaWYgYSBwaWN0dXJlIGZvciB0aGUgYm9vayBleGlzdHMuXG4gICAgICovXG4gICAgbWVkaWFFeGlzdHM6IGJvb2xlYW5cblxufVxuXG5jb25zdCBhcGkgPSBuZXcgRGVmYXVsdEJpYmxlcigpXG5leHBvcnQgY29uc3QgYm9ycm93TW9kYWxTZWFjaEZpbHRlclN1YmplY3QgPSBuZXcgU3ViamVjdDxzdHJpbmc+KClcbmV4cG9ydCBjbGFzcyBCb29rSXRlbSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudDxJQm9va0l0ZW0sIEJvb2tJdGVtU3RhdGU+IHtcbiAgICBzdGF0ZTogQm9va0l0ZW1TdGF0ZSA9IHtcbiAgICAgICAgbG9hZGluZzogZmFsc2UsXG4gICAgICAgIGJvcnJvd01vZGFsVmlzaWJsZTogZmFsc2UsXG4gICAgICAgIGJvcnJvd0J1dHRvbkRpc2FibGVkOiBmYWxzZSxcbiAgICAgICAgaXNBbHJlYWR5Qm9ycm93ZWQ6IGZhbHNlLFxuICAgICAgICBtZWRpYUV4aXN0czogZmFsc2VcbiAgICB9O1xuICAgIHVzZXJzVGFibGVTdWI6IFN1YnNjcmlwdGlvbiB8IG51bGwgPSBudWxsXG4gICAgY29uc3RydWN0b3IocHJvcHM6IFJlYWRvbmx5PElCb29rSXRlbT4pIHtcbiAgICAgICAgc3VwZXIocHJvcHMpXG4gICAgICAgIGlmIChwcm9wcy51c2VyICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUuYm9ycm93aW5nVXNlciA9IHByb3BzLnVzZXJcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFzeW5jIGNvbXBvbmVudERpZE1vdW50KCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBjb25zdCBtZWRpYUV4aXN0cyA9IGF3YWl0IGFwaS5ib29rQ292ZXJFeGlzdGVzTWVkaWFFeGlzdHNCb29rS2V5R2V0KHsgYm9va0tleTogdGhpcy5wcm9wcy5ib29rLmtleSB9KVxuICAgICAgICBjb25zdCBib3Jyb3dlZCA9IGF3YWl0IGFwaS5pc0JvcnJvd2VkQm9va0JvcnJvd2VkQm9va0tleUdldCh7IGJvb2tLZXk6IHRoaXMucHJvcHMuYm9vay5rZXkgfSlcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBpc0FscmVhZHlCb3Jyb3dlZDogYm9ycm93ZWQucmVwbGFjZUFsbChcIlxcXCJcIiwgXCJcIikudG9Mb3dlckNhc2UoKSA9PSBcImZhbHNlXCIgPyBmYWxzZSA6IHRydWUsXG4gICAgICAgICAgICBtZWRpYUV4aXN0czogbWVkaWFFeGlzdHMucmVwbGFjZUFsbChcIlxcXCJcIiwgXCJcIikudG9Mb3dlckNhc2UoKSA9PSBcImZhbHNlXCIgPyBmYWxzZSA6IHRydWVcbiAgICAgICAgfSlcbiAgICAgICAgdGhpcy51c2Vyc1RhYmxlU3ViID0gdXNlclNlbGVjdENhcmRzU3ViamVjdC5zdWJzY3JpYmUoZWwgPT4ge1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRVc2VyOiBlbC51c2VyXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgIH1cbiAgICBjb21wb25lbnRXaWxsVW5tb3VudCgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy51c2Vyc1RhYmxlU3ViPy51bnN1YnNjcmliZSgpXG4gICAgfVxuXG4gICAgc2hvd0JvcnJvd2luZ01vZGFsID0gKCk6IHZvaWQgPT4ge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIGJvcnJvd01vZGFsVmlzaWJsZTogdHJ1ZSxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZXh0ZW5kQm9ycm93UGVyaW9kID0gYXN5bmMgKCk6IFByb21pc2U8dm9pZD4gPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhcImV4dGVuZCBib29rXCIpXG4gICAgICAgIGlmICh0aGlzLnN0YXRlLmJvcnJvd2luZ1VzZXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgY29uc3QgcmVzb25zZSA9IGF3YWl0IGFwaS5leHRlbmRCb3Jyb3dQZXJpb2RFeHRlbmRVc2VyS2V5Qm9va0tleVBhdGNoKHsgYm9va0tleTogdGhpcy5wcm9wcy5ib29rLmtleSwgdXNlcktleTogdGhpcy5zdGF0ZS5ib3Jyb3dpbmdVc2VyLmtleSB9KVxuICAgICAgICAgICAgc3dpdGNoIChyZXNvbnNlLnN0YXR1cykge1xuICAgICAgICAgICAgICAgIGNhc2UgRXh0ZW5kaW5nUmVzcG9uc2VTdGF0dXMuU3VjY2Vzc2Z1bGx5RXh0ZW5kZWQ6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uuc3VjY2VzcyhcIkJ1Y2ggZXJmb2xncmVpY2ggdmVybMOkbmdlcnQgYmlzIFwiICsgcmVzb25zZS5yZXR1cm5EYXRlKVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIEV4dGVuZGluZ1Jlc3BvbnNlU3RhdHVzLk1heGltdW1Cb3Jyb3dQZXJpb2RSZWFjaGVkOlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmVycm9yKFwiRGFzIEJ1Y2gga2FubiBuaWNodCB3ZWl0ZXIgdmVybMOkbmdlcnQgd2VyZGVuXCIpXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZXJyb3IoXCJFaW4gZmVobGVyIGlzdCBhdWZnZXRyZXRlblwiKVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm5Cb29rQWN0aW9uID0gYXN5bmMgKCk6IFByb21pc2U8dm9pZD4gPT4ge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIGJvcnJvd0J1dHRvbkRpc2FibGVkOiB0cnVlLFxuICAgICAgICAgICAgbG9hZGluZzogdHJ1ZVxuICAgICAgICB9KVxuICAgICAgICBpZiAodGhpcy5zdGF0ZS5ib3Jyb3dpbmdVc2VyICE9IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXBpLnJldHVybkJvb2tSZXR1cm5Vc2VyS2V5Qm9va0tleVBhdGNoKHtcbiAgICAgICAgICAgICAgICBib29rS2V5OiB0aGlzLnByb3BzLmJvb2sua2V5LFxuICAgICAgICAgICAgICAgIHVzZXJLZXk6IHRoaXMuc3RhdGUuYm9ycm93aW5nVXNlci5rZXlcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSlcbiAgICAgICAgICAgIGlmIChyZXNwb25zZSAhPSBudWxsICYmIHJlc3BvbnNlLnN0YXR1cyA9PSBSZXR1cm5pbmdSZXNwb25zZVN0YXR1cy5TdWNjZXNzZnVsbHlSZXR1cm5lZCkge1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnN1Y2Nlc3MoXCJEYXMgQnVjaCB3dXJkZSBlcmZvbGdyZWljaCB6dXLDvGNrIGdlZ2ViZW5cIik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgYm9ycm93aW5nVXNlcjogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzQWxyZWFkeUJvcnJvd2VkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvYWRpbmc6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgYm9ycm93QnV0dG9uRGlzYWJsZWQ6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0sIDEwMDApO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlLmVycm9yKFwiRXMgaXN0IGVpbiBQcm9ibGVtIGF1ZmdldHJldGVuOlwiICsgcmVzcG9uc2Uuc3RhdHVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBoYW5kbGVPayA9IGFzeW5jICgpOiBQcm9taXNlPHZvaWQ+ID0+IHtcbiAgICAgICAgY29uc3QgeyBzZWxlY3RlZFVzZXIgfSA9IHRoaXMuc3RhdGVcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGxvYWRpbmc6IHRydWUgfSk7XG4gICAgICAgIGlmIChzZWxlY3RlZFVzZXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJib3Jyb3dpbmcgdXNlclwiLCBzZWxlY3RlZFVzZXIpXG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGFwaS5ib3Jyb3dCb29rQm9ycm93VXNlcktleUJvb2tLZXlQYXRjaCh7XG4gICAgICAgICAgICAgICAgYm9va0tleTogdGhpcy5wcm9wcy5ib29rLmtleSxcbiAgICAgICAgICAgICAgICB1c2VyS2V5OiArc2VsZWN0ZWRVc2VyLmtleSxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSlcbiAgICAgICAgICAgIGlmIChyZXNwb25zZSAhPSBudWxsICYmIHJlc3BvbnNlLnN0YXR1cyA9PSBCb3Jyb3dSZXNwb25zZVN0YXR1cy5TdWNjZXNzZnVsbHlCb3Jyb3dlZCkge1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnN1Y2Nlc3MoXCJEYXMgQnVjaCB3dXJkZSBlcmZvbGdyZWljaCBhdXNnZWxpZWhlblwiKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2FkaW5nOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvcnJvd01vZGFsVmlzaWJsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBib3Jyb3dCdXR0b25EaXNhYmxlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBib3Jyb3dpbmdVc2VyOiBzZWxlY3RlZFVzZXJcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSwgMTAwMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlLnN1Y2Nlc3MoXCJFcyBpc3QgZWluIFByb2JsZW0gYXVmZ2V0cmV0ZW46XCIgKyByZXNwb25zZS5zdGF0dXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIGhhbmRsZUNhbmNlbCA9ICgpOiB2b2lkID0+IHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBib3Jyb3dNb2RhbFZpc2libGU6IGZhbHNlLFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIG9uU2VhcmNoID0gKCk6IHZvaWQgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhcInNlYWNoXCIpXG4gICAgfVxuICAgIG9uU2VhcmNoQ2hhbmdlZCA9IChldmVudDogUmVhY3QuQ2hhbmdlRXZlbnQ8SFRNTElucHV0RWxlbWVudD4pOiB2b2lkID0+IHtcbiAgICAgICAgY29uc3Qgc2VhcmNoU3RyaW5nID0gZXZlbnQudGFyZ2V0LnZhbHVlXG4gICAgICAgIGNvbnNvbGUubG9nKGBjaGFuZ2VzOiAke3NlYXJjaFN0cmluZ31gKVxuICAgICAgICBib3Jyb3dNb2RhbFNlYWNoRmlsdGVyU3ViamVjdC5uZXh0KHNlYXJjaFN0cmluZylcbiAgICB9XG4gICAgcmVuZGVyKCk6IEpTWC5FbGVtZW50IHtcbiAgICAgICAgY29uc3QgeyBib3Jyb3dNb2RhbFZpc2libGU6IHZpc2libGUsIGxvYWRpbmcsIHNlbGVjdGVkVXNlciwgYm9ycm93aW5nVXNlciwgYm9ycm93QnV0dG9uRGlzYWJsZWQ6IGJ1dHRvbkRpc2FibGVkIH0gPSB0aGlzLnN0YXRlO1xuICAgICAgICBsZXQgYWN0aW9ucywgdXNlckxhYmVsXG4gICAgICAgIGlmIChib3Jyb3dpbmdVc2VyICE9IG51bGwpIHtcbiAgICAgICAgICAgIGFjdGlvbnMgPSBbXG4gICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICBrZXk9XCJhY3Rpb24gWnVyw7xja2dlYmVuXCJcbiAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2J1dHRvbkRpc2FibGVkfVxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwicHJpbWFyeVwiXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMucmV0dXJuQm9va0FjdGlvbn1cbiAgICAgICAgICAgICAgICAgICAgbG9hZGluZz17bG9hZGluZ31cbiAgICAgICAgICAgICAgICAgICAgc2hhcGU9XCJyb3VuZFwiXG4gICAgICAgICAgICAgICAgICAgIGljb249ezxHaUJvb2tDb3ZlciAvPn1cbiAgICAgICAgICAgICAgICAgICAgc2l6ZT1cImxhcmdlXCI+IFp1csO8Y2tnZWJlbjwvQnV0dG9uPixcbiAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIGtleT1cImFjdGlvbiBWZXJsw6RuZ2VyblwiXG4gICAgICAgICAgICAgICAgICAgIHNoYXBlPVwicm91bmRcIlxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLmV4dGVuZEJvcnJvd1BlcmlvZH1cbiAgICAgICAgICAgICAgICAgICAgaWNvbj17PEZpZWxkVGltZU91dGxpbmVkIC8+fVxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwicHJpbWFyeVwiXG4gICAgICAgICAgICAgICAgICAgIHNpemU9XCJsYXJnZVwiXG4gICAgICAgICAgICAgICAgPlZlcmzDpG5nZXJuPC9CdXR0b24+XG4gICAgICAgICAgICBdXG4gICAgICAgICAgICB1c2VyTGFiZWwgPSA8ZGl2PlxuICAgICAgICAgICAgICAgIDxEaXZpZGVyIC8+XG4gICAgICAgICAgICAgICAgPGRpdiA+PHNwYW4+QWt0dWVsbCBhdXNnZWxpZWhlbiBhbiA8L3NwYW4+e2Ake2JvcnJvd2luZ1VzZXIuZmlyc3RuYW1lfSAke2JvcnJvd2luZ1VzZXIubGFzdG5hbWV9YH08L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuc3RhdGUuaXNBbHJlYWR5Qm9ycm93ZWQpIHtcbiAgICAgICAgICAgIGFjdGlvbnMgPSBbXG4gICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICBrZXk9XCJhY3Rpb24gVmVybGllaGVuXCJcbiAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RydWV9XG4gICAgICAgICAgICAgICAgICAgIHR5cGU9XCJwcmltYXJ5XCJcbiAgICAgICAgICAgICAgICAgICAgbG9hZGluZz17ZmFsc2V9XG4gICAgICAgICAgICAgICAgICAgIHNoYXBlPVwicm91bmRcIlxuICAgICAgICAgICAgICAgICAgICBpY29uPXs8R2lCb29rQ292ZXIgLz59XG4gICAgICAgICAgICAgICAgICAgIHNpemU9XCJsYXJnZVwiPlZlcmxpZWhlbjwvQnV0dG9uPixcbiAgICAgICAgICAgIF1cbiAgICAgICAgICAgIHVzZXJMYWJlbCA9IDw+PC8+XG5cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGFjdGlvbnMgPSBbXG4gICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICBrZXk9XCJhY3Rpb24gQXVzbGVpaGVuXCJcbiAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2J1dHRvbkRpc2FibGVkfVxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwicHJpbWFyeVwiXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuc2hvd0JvcnJvd2luZ01vZGFsfVxuICAgICAgICAgICAgICAgICAgICBsb2FkaW5nPXtsb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgICBzaGFwZT1cInJvdW5kXCJcbiAgICAgICAgICAgICAgICAgICAgaWNvbj17PEdpQm9va0NvdmVyIC8+fVxuICAgICAgICAgICAgICAgICAgICBzaXplPVwibGFyZ2VcIj5BdXNsZWloZW48L0J1dHRvbj5cbiAgICAgICAgICAgIF1cbiAgICAgICAgICAgIHVzZXJMYWJlbCA9IDw+PC8+XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIDxkaXYgc3R5bGU9e3tcbiAgICAgICAgICAgIHBhZGRpbmc6IFwiMS41cmVtXCJcbiAgICAgICAgfX0+XG4gICAgICAgICAgICA8aDEgc3R5bGU9e3sgZm9udFNpemU6IFwiMnJlbVwiIH19Pnt0aGlzLnByb3BzLmJvb2sudGl0bGV9PC9oMT5cbiAgICAgICAgICAgIDxkaXYgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImdyaWRcIixcbiAgICAgICAgICAgICAgICBncmlkVGVtcGxhdGVDb2x1bW5zOiBcIjFmciAxZnIgMWZyXCJcbiAgICAgICAgICAgIH19PlxuICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgaGVpZ2h0OiBcIjI0cmVtXCIsIGRpc3BsYXk6IFwiaW5saW5lLWJsb2NrXCIsIG1hcmdpbjogXCIuNXJlbVwiIH19PlxuICAgICAgICAgICAgICAgICAgICA8SW1hZ2UgYWx0PVwiZXhhbXBsZVwiIHNyYz17YCR7QkFTRV9QQVRIfS9tZWRpYS8ke3RoaXMucHJvcHMuYm9vay5rZXl9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodD1cIjEwMCVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgZmFsbGJhY2s9XCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQU1JQUFBRERDQVlBQUFEUXZjNlVBQUFCUldsRFExQkpRME1nVUhKdlptbHNaUUFBS0pGallHQVNTU3dveUdGaFlHREl6U3NwQ25KM1VvaUlqRkpnZjhMQXdTRENJTW9nd01DY21GeGM0QmdRNEFOVXdnQ2pVY0czYXd5TUlQcXlMc2lzN1BQT3EzUWRERmN2alYzak9EMWJvUVZUUFFyZ1Nra3RUZ2JTZjRBNExibWdxSVNCZ1RFRnlGWXVMeWtBc1R1QWJKRWlvS09BN0RrZ2RqcUV2UUhFVG9Ld2o0RFZoQVE1QTlrM2dHeUI1SXhFb0JtTUw0QnNuU1FrOFhRa050UmVFT0J4Y2ZYeFVRZzFNamMwZHlIZ1hOSkJTV3BGQ1loMnppK29MTXBNenloUmNBU0dVcXFDWjE2eW5vNkNrWUdSQVFNREtNd2hxai9mQUljbG94Z0hRcXhBaklIQkV1Z3c1c1VJc1NRcEJvYnRRUGRMY2lMRVZKWXpNUEJITURCc2F5aElMRXFFTzREeEcwdHhtckVSaE0yOW5ZR0JkZHIvLzUvREdSallOUmtZL2w3Ly8vLzM5di8vL3k0RG1uK0xnZUhBTndEcmtsMUF1TytwbWdBQUFEaGxXRWxtVFUwQUtnQUFBQWdBQVlkcEFBUUFBQUFCQUFBQUdnQUFBQUFBQXFBQ0FBUUFBQUFCQUFBQXdxQURBQVFBQUFBQkFBQUF3d0FBQUFEOWIvSG5BQUFIbGtsRVFWUjRBZTNkUDNQVFdCU0djYkd6TTZHQ0txbElCUlYwZEhSSkZhclEwZVVUOExINEJuUlUwTkhSMFVFRlZkSWxGUlY3VHpSa3NvbVBZOHV5a1RrL3pld1FmS3cvOXpudjR5dkp5bkx2NHVMaVYyZEJvRGlCZjRxUDMvQVJ1Q1JBQkVGQW9CRWdnaGdnUUFRWlFLQW5ZRWFRQkFRYUFTS0lBUUpFa0FFRWVnSm1CRWxBb0JFZ2doZ2dRQVFaUUtBbllFYVFCQVFhQVNLSUFRSkVrQUVFZWdKbUJFbEFvQkVnZ2hnZ1FBUVpRS0FuWUVhUUJBUWFBU0tJQVFKRWtBRUVlZ0ptQkVsQW9CRWdnaGdnUUFRWlFLQW5ZRWFRQkFRYUFTS0lBUUpFa0FFRWVnSm1CRWxBb0JFZ2doZ2dRQVFaUUtBbllFYVFCQVFhQVNLSUFRSkVrQUVFZWdKbUJFbEFvQkVnZ2hnZ1FBUVpRS0FuWUVhUUJBUWFBU0tJQVFKRWtBRUVlZ0ptQkVsQW9CRWdnaGdnUUFRWlFLQW5ZRWFRQkFRYUFTS0lBUUpFa0FFRWVnSm1CRWxBb0JFZ2doZ2dRQVFaUUtBbllFYVFCQVFhQVNLSUFRSkVrQUVFZWdKbUJFbEFvQkVnZ2hnZ1FBUVpRS0FuWUVhUUJBUWFBU0tJQVFKRWtBRUVlZ0ptQkVsQW9CRWdnaGdnUUFRWlFLQW5ZRWFRQkFRYUFTS0lBUUpFa0FFRWVnSm1CRWxBb0JFZ2doZ2dRQVFaUUtBbllFYVFCQVFhQVNLSUFRSkVrQUVFZWdKbUJFbEFvQkVnZ2hnZ1FBUVpRS0FuWUVhUUJBUWFBU0tJQVFKRWtBRUVlZ0ptQkVsQW9CRWdnaGdnMEFqOGkwSk80T3pzclB2NjlXditoaTJxUEhyMHFOdmYzOStpSTk3c29SSWg0ZjN6NTgvdTdkdTNTWFg3WHQ3WjJlbmV2SG16ZlFlK29TTjJhcFNBUGowOVRTcmIrWEtJL2YzNzkrMDgrQTBjTlJFMkFOa3VwaytBQ05QdmtTUGNBQUVpYkFDeVhVeWZBQkdtM3lOSHVBRUNSTmdBWkx1WVBnRWlyS2xIdTd1N1hkeXl0R3dIQWQ4ampOeW5nNE9EN3ZuejUxZGJQVDgvN3o1OCtOQjkrL2J0NmpVL1RJK0FHV0hFbnJ4NDhlSi9Fc1NtSHp4NDBMMTgrZkx5enhGM1pWTWpFeURDaUVEak1ZWlpTNXdpUFhueVpGYkpheE1oUUlRUkd6SHZXUjdYQ3lPQ1hzT21pREFpMUhtUE1NUWpEcGJwRWlEQ2lMMzU4ZU5IdXJXLzVTbldkSUJiWGlEQ2lBMzgvUG56cmNlMll5WjQvLzU5RjNlUExOTWw0UGJwaUwySjBMOTc5Kzd5RHRIRGh3OHZ0enp2ZEduRVhkdlVpZ1NJc0NMQVdhdkhwLytxTTBCY1hNZC9xMjVuMXZGNTdUWUJwMGEzbVV6aWxlUGo0KzdrNUtTTGI2Z3Q2eWRBaFBVelhub1BSMGRIbDc5V0dUTkNmQm5uMXV2U0NKZGVnUWhMSTF2dkNrK2ZQdTJlUFh0MnRaT1lFVjYvZm4zMWR6K3Nod0FSMXNQMWNxdkxudGJFTjlNeEE5eGNZanN4UzFqV1I0QUlhMkliengwdGM0NGZZWC8xNmxWNk5ERkxYSCtZTDMyandpQUNSQmlFYmY1S2NYb1RJc1FTcHpYeDROMjhKYTRCUW9LN3JnWGl5ZGJIangvUDI1VGFRQUpFR0FndVd5MCsyUThQRDYvS2k0UjhFVmwrYnpCT25aWTk1ZnE5cmo5ekFrVEkyU3hkaWRCSHFHOStza2R3NDNib3JDWE8vWmNKZHJhUFdkdjIydUlFaUxBNHE3bnZ2Q3VnOFdUcXpRdmVPSDI2Zm9kbzdnNnVGZS9hMTdXMytuRkJBa1JZRU5SZGIxdmtrejFDSDljUHNWeS9qcmhyMjdQcU1ZdkVOWU5sSEFJZXNSaUJZd1J5MFYrOGlYUDgrL2Z2WDExTXI3TDdFQ3VlYi9yNDhlTXFtN0Z1STJCR1dERUc4Y20rN0czTkVPZm1kY1RRdzRoOS81NWxobTdEZWtSWUtRUFpGMkFyYlhUQXl1NGtEWUIyWXhVendnMGdpLzQxenRIbmZRRzI2SGJHZWwvY3JWcm03dE5ZKy8xYnRrT0VBWjJNMDVyNEZCN3I5R2JBSWR4YVpZckhkT3NnSi93Q0VRWTBKNzRUbU9LbmJ4eFQ5bjNGZ0dHV1dzVmRvd0h0anQ5Tm52Zjd5UU0yYVpVL1RJQUlBeHJ3NmRPbkFXdFpaY29FbkJwTnVUdU9iV01FaUxBeDFIWTBaUUpFbUhKM0hOdkdDQkJoWTZqdGFNb0VpSkIwWjI5dkw2bHM1OHZ4UGNPOC96ZnJkbzVxdktPK2QzRng4V3U4emYxZFc0cC9jUHpMbHkvZHR2OVRzL0ViY3ZHQUhoSHlmQkloWjZOU2lJQlRvMExOTnRTY0FCRnlOaXFGQ0JDaFVMTU5OU2RBaEp5TlNpRUNSQ2pVYkVQTkNSQWhaNk5TaUFBUkNqWGJVSE1DUk1qWnFCUWlRSVJDelRiVW5BQVJjallxaFFnUW9WQ3pEVFVuUUlTY2pVb2hBa1FvMUd4RHpRa1FJV2VqVW9nQUVRbzEyMUJ6QWtUSTJhZ1VJa0NFUXMwMjFKd0FFWEkyS29VSUVLRlFzdzAxSjBDRW5JMUtJUUpFS05Sc1E4MEpFQ0ZubzFLSUFCRUtOZHRRY3dKRXlObW9GQ0pBaEVMTk50U2NBQkZ5TmlxRkNCQ2hVTE1OTlNkQWhKeU5TaUVDUkNqVWJFUE5DUkFoWjZOU2lBQVJDalhiVUhNQ1JNalpxQlFpUUlSQ3pUYlVuQUFSY2pZcWhRZ1FvVkN6RFRVblFJU2NqVW9oQWtRbzFHeER6UWtRSVdlalVvZ0FFUW8xMjFCekFrVEkyYWdVSWtDRVFzMDIxSndBRVhJMktvVUlFS0ZRc3cwMUowQ0VuSTFLSVFKRUtOUnNRODBKRUNGbm8xS0lBQkVLTmR0UWN3SkV5Tm1vRkNKQWhFTE5OdFNjQUJGeU5pcUZDQkNoVUxNTk5TZEFoSnlOU2lFQ1JDalViRVBOQ1JBaFo2TlNpQUFSQ2pYYlVITUNSTWpacUJRaVFJUkN6VGJVbkFBUmNqWXFoUWdRb1ZDekRUVW5RSVNjalVvaEFrUW8xR3hEelFrUUlXZWpVb2dBRVFvMTIxQnpBa1RJMmFnVUlrQ0VRczAyMUp3QUVYSTJLb1VJRUtGUXN3MDFKMENFbkkxS0lRSkVLTlJzUTgwSkVDRm5vMUtJQUJFS05kdFFjd0pFeU5tb0ZDSkFoRUxOTnRTY0FCRnlOaXFGQ0JDaFVMTU5OU2RBaEp5TlNpRUMvd0dnS0tDNFlNQTRUQUFBQUFCSlJVNUVya0pnZ2c9PVwiXG4gICAgICAgICAgICAgICAgICAgIC8+XG5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6IFwiaW5saW5lLWJsb2NrXCIsIG1hcmdpblRvcDogXCIxcmVtXCIsIGZvbnRTaXplOiBcIjFyZW1cIiB9fT5cbiAgICAgICAgICAgICAgICAgICAgPGRpdj48c3Bhbj5BdXRvcjogPC9zcGFuPnt0aGlzLnByb3BzLmJvb2suYXV0aG9yfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2PjxzcGFuPlZlcmxhZzogPC9zcGFuPnt0aGlzLnByb3BzLmJvb2sucHVibGlzaGVyfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2PjxzcGFuPkthdGVnb3JpZTogPC9zcGFuPnt0aGlzLnByb3BzLmJvb2suY2F0ZWdvcnl9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXY+PHNwYW4+SVNCTjogPC9zcGFuPnt0aGlzLnByb3BzLmJvb2suaXNibn08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdj48c3Bhbj5FdGlrZXR0OiA8L3NwYW4+e3RoaXMucHJvcHMuYm9vay5zaG9ydGhhbmR9IHt0aGlzLnByb3BzLmJvb2subnVtYmVyfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICB7dXNlckxhYmVsfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgcGFkZGluZ0Jsb2NrOiBcIjFyZW1cIiB9fT5cbiAgICAgICAgICAgICAgICAgICAgPFNwYWNlIGRpcmVjdGlvbj1cInZlcnRpY2FsXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7YWN0aW9uc31cbiAgICAgICAgICAgICAgICAgICAgPC9TcGFjZT5cbiAgICAgICAgICAgICAgICAgICAgPE1vZGFsXG4gICAgICAgICAgICAgICAgICAgICAgICB2aXNpYmxlPXt2aXNpYmxlfVxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e1wiV2VyIG3DtmNodGUgXCIgKyB0aGlzLnByb3BzLmJvb2sudGl0bGUgKyBcIiBhdXNsZWloZW4/XCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNhbmNlbD17dGhpcy5oYW5kbGVDYW5jZWx9XG4gICAgICAgICAgICAgICAgICAgICAgICBmb290ZXI9e1tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIGtleT1cImJhY2tcIiBvbkNsaWNrPXt0aGlzLmhhbmRsZUNhbmNlbH0+IEFiYnJlY2hlbiA8L0J1dHRvbj4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiBkaXNhYmxlZD17c2VsZWN0ZWRVc2VyID09IG51bGx9IGtleT1cInN1Ym1pdFwiIHR5cGU9XCJwcmltYXJ5XCIgbG9hZGluZz17bG9hZGluZ30gb25DbGljaz17dGhpcy5oYW5kbGVPa30+IEF1c2xlaWhlbiA8L0J1dHRvbj4sXG4gICAgICAgICAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICA8U2VhcmNoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJTdWNoZW5cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU9XCJsYXJnZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25TZWFyY2hDaGFuZ2VkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uU2VhcmNoPXt0aGlzLm9uU2VhcmNofVxuICAgICAgICAgICAgICAgICAgICAgICAgPjwvU2VhcmNoPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBtYXJnaW5CbG9jazogXCIxcmVtXCIgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFVzZXJTZWxlY3RDYXJkcyBrZXk9XCJ1c2VyLWJvcnJvdy1zZWxlY3RcIj48L1VzZXJTZWxlY3RDYXJkcz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L01vZGFsPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgIH1cbn0iLCJleHBvcnQgY29uc3QgYm9va0kxOE46IE1hcDxzdHJpbmcsIHN0cmluZz4gPSBuZXcgTWFwKFtcbiAgICBbXCJzZWxmXCIsIFwiQnVjaFwiLF0sXG4gICAgW1wia2V5XCIsIFwiU2NobMO8c3NlbFwiLF0sXG4gICAgW1wiYXV0aG9yXCIsIFwiQXV0b3JcIixdLFxuICAgIFtcImNhdGVnb3J5XCIsIFwiS2F0ZWdvcmllXCIsXSxcbiAgICBbXCJpc2JuXCIsIFwiSVNCTlwiLF0sXG4gICAgW1wibnVtYmVyXCIsIFwiTnVtbWVyXCIsXSxcbiAgICBbXCJwdWJsaXNoZXJcIiwgXCJWZXJsYWdcIixdLFxuICAgIFtcInNob3J0aGFuZFwiLCBcIkV0aWtldHRcIixdLFxuICAgIFtcInRpdGxlXCIsIFwiVGl0ZWxcIl0sXG5dKVxuZXhwb3J0IGNvbnN0IHVzZXJJMThOOiBNYXA8c3RyaW5nLCBzdHJpbmc+ID0gbmV3IE1hcChbXG4gICAgW1wic2VsZlwiLCBcIkJlbnV0emVyKmluXCJdLFxuICAgIFtcImtleVwiLCBcIlNjaGzDvHNzZWxcIl0sXG4gICAgW1wiZmlyc3RuYW1lXCIsIFwiVm9ybmFtZVwiXSxcbiAgICBbXCJsYXN0bmFtZVwiLCBcIk5hY2huYW1lXCJdLFxuICAgIFtcImNsYXNzbmFtZVwiLCBcIktsYXNzZVwiXSxcbiAgICBbXCJib3Jyb3dlZEJvb2tzXCIsIFwiQsO8Y2hlciBhdXNnZWxpZWhlblwiXSxcbl0pXG5leHBvcnQgY29uc3QgYm9ycm93aW5nVXNlckkxOE46IE1hcDxzdHJpbmcsIHN0cmluZz4gPSBuZXcgTWFwKFtcbiAgICBbXCJzdGFydF9kYXRlXCIsIFwiQXVzbGVpaGRhdHVtXCJdLFxuICAgIFtcImV4cGlyYXRpb25fZGF0ZVwiLCBcIlLDvGNrZ2FiZWZyaXN0XCJdLFxuICAgIFtcInJldHVybl9kYXRlXCIsIFwiUsO8Y2tnYWJlZGF0dW1cIl0sXG4gICAgW1wiZmlyc3RuYW1lXCIsIFwiVm9ybmFtZVwiXSxcbiAgICBbXCJsYXN0bmFtZVwiLCBcIk5hY2huYW1lXCJdLFxuICAgIFtcImNsYXNzbmFtZVwiLCBcIktsYXNzZVwiXSxcbiAgICBbXCJrZXlcIiwgXCJTY2hsw7xzc2VsXCIsXSxcbiAgICBbXCJhdXRob3JcIiwgXCJBdXRvclwiLF0sXG4gICAgW1wiY2F0ZWdvcnlcIiwgXCJLYXRlZ29yaWVcIixdLFxuICAgIFtcImlzYm5cIiwgXCJJU0JOXCIsXSxcbiAgICBbXCJudW1iZXJcIiwgXCJOdW1tZXJcIixdLFxuICAgIFtcInB1Ymxpc2hlclwiLCBcIlZlcmxhZ1wiLF0sXG4gICAgW1wic2hvcnRoYW5kXCIsIFwiRXRpa2V0dFwiLF0sXG4gICAgW1widGl0bGVcIiwgXCJUaXRlbFwiXSxcbl0pIiwiaW1wb3J0IHsgVGFibGUsIFRhZyB9IGZyb20gJ2FudGQnO1xuaW1wb3J0IFJlYWN0LCB7IFN5bnRoZXRpY0V2ZW50IH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBTdWJqZWN0LCBTdWJzY3JpcHRpb24gfSBmcm9tIFwicnhqc1wiO1xuaW1wb3J0IHsgRGVmYXVsdEJpYmxlciB9IGZyb20gXCIuLi8uLi9hcGlzL0RlZmF1bHRCaWJsZXJcIjtcbmltcG9ydCB7IGJvb2tJMThOIH0gZnJvbSAnLi4vLi4vaTE4bic7XG5pbXBvcnQgeyBCb29rRnJvbUpTT04sIENhdGVnb3J5IH0gZnJvbSBcIi4uLy4uL21vZGVsc1wiO1xuaW1wb3J0IHsgVXNlciB9IGZyb20gJy4uLy4uL21vZGVscy9Vc2VyJztcbmltcG9ydCB7IHNlYXJjaEZpbHRlclN1YmplY3QgfSBmcm9tICcuLi9UaXRsZUJhck1lbnUnO1xuaW1wb3J0IHsgUmVjb3JkIH0gZnJvbSBcIi4vLi4vdHlwZXNcIjtcblxuXG5leHBvcnQgaW50ZXJmYWNlIElCb29rc1RhYmxlIHtcbiAgICBuYW1lPzogc3RyaW5nLFxuICAgIHVzZXJGaWx0ZXI/OiBVc2VyXG59XG50eXBlIFRhYmxlU3RhdGUgPSB7XG4gICAgZGF0YT86IEFycmF5PFJlY29yZD5cbiAgICBmaWx0ZXJlZERhdGE/OiBBcnJheTxSZWNvcmQ+XG4gICAgaW5zZXJ0UmVjb3JkPzogUmVjb3JkXG4gICAgY2F0ZWdvcnlDb2xvcnM/OiBBcnJheTxDYXRlZ29yeT5cbiAgICBjb2xvcnM6IE1hcDxzdHJpbmcsIHN0cmluZz5cbn1cbmNvbnN0IGFwaSA9IG5ldyBEZWZhdWx0QmlibGVyKClcblxuZXhwb3J0IGNvbnN0IGJvb2tzVGFibGVTdWJqZWN0ID0gbmV3IFN1YmplY3Q8UmVjb3JkPigpXG5jb25zdCBwdWJsaXNoID0gKGRhdGE6IFJlY29yZCkgPT4gYm9va3NUYWJsZVN1YmplY3QubmV4dChkYXRhKVxuXG5leHBvcnQgY2xhc3MgQm9va3NUYWJsZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudDxJQm9va3NUYWJsZT4ge1xuICAgIHN0YXRlOiBUYWJsZVN0YXRlID0ge1xuICAgICAgICBkYXRhOiBbXSxcbiAgICAgICAgY29sb3JzOiBuZXcgTWFwPHN0cmluZywgc3RyaW5nPigpXG4gICAgfVxuICAgIHNlYXJjaEZpbHRlclN1YjogU3Vic2NyaXB0aW9uIHwgbnVsbCA9IG51bGxcbiAgICBjb2x1bW5GaWx0ZXI6IEFycmF5PHN0cmluZz4gPSBbXG4gICAgICAgIFwia2V5XCJcbiAgICBdXG4gICAgaGFuZGxlUmVjb3JkQ2xpY2sgPSAoZXZlbnQ6IFN5bnRoZXRpY0V2ZW50LCByZWNvcmQ6IFJlY29yZCB8IHVuZGVmaW5lZCk6IHZvaWQgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhcImJvb2tzIHRhYmxlIHJlY29yZCBjbGlja2VkXCIpXG4gICAgICAgIGNvbnN0IHsgZmlsdGVyZWREYXRhIH0gPSB0aGlzLnN0YXRlXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICAgICAgY29uc29sZS5sb2cocmVjb3JkLCBldmVudClcbiAgICAgICAgaWYgKGZpbHRlcmVkRGF0YSAmJiByZWNvcmQgIT0gbnVsbCkge1xuICAgICAgICAgICAgcHVibGlzaChyZWNvcmQpXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICBzZWxlY3RlZFJlY29yZDogcmVjb3JkXG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIGxvYWREYXRhKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgYXBpLmdldEJvb2tzQm9va3NHZXQoeyB1c2VyS2V5OiB0aGlzLnByb3BzLnVzZXJGaWx0ZXI/LmtleSB9KVxuICAgICAgICBjb25zb2xlLmxvZyhkYXRhKVxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIGRhdGE6IGRhdGEsXG4gICAgICAgICAgICBmaWx0ZXJlZERhdGE6IGRhdGFcbiAgICAgICAgfSlcbiAgICB9XG4gICAgbG9hZENhdGVnb3J5Q29sb3JzID0gYXN5bmMgKCk6IFByb21pc2U8dm9pZD4gPT4ge1xuICAgICAgICBjb25zdCBjYXRlZ29yaWVzID0gYXdhaXQgYXBpLmdldENhdGVnb3J5Q2F0ZWdvcnlHZXQoKVxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIGNhdGVnb3J5Q29sb3JzOiBjYXRlZ29yaWVzXG4gICAgICAgIH0pXG4gICAgfVxuICAgIGFzeW5jIGNvbXBvbmVudERpZE1vdW50KCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBhd2FpdCB0aGlzLmxvYWRDYXRlZ29yeUNvbG9ycygpXG4gICAgICAgIGF3YWl0IHRoaXMubG9hZERhdGEoKVxuICAgICAgICB0aGlzLnNlYXJjaEZpbHRlclN1YiA9IHNlYXJjaEZpbHRlclN1YmplY3Quc3Vic2NyaWJlKChzZWFyY2g6IHN0cmluZykgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJmaWx0ZXJpbmcgYnk6IFwiICsgc2VhcmNoKVxuICAgICAgICAgICAgY29uc3QgcmVnZXggPSBuZXcgUmVnRXhwKFwiLipcIiArIHNlYXJjaCArIFwiLipcIilcbiAgICAgICAgICAgIGNvbnN0IGZpbHRlcmREYXRhID0gdGhpcy5zdGF0ZS5kYXRhPy5maWx0ZXIoZSA9PiBPYmplY3QudmFsdWVzKGUpXG4gICAgICAgICAgICAgICAgLnNvbWUoaSA9PiBpICE9IG51bGwgPyByZWdleC50ZXN0KGkudG9TdHJpbmcoKSkgOiBmYWxzZSkpXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcImZpbHRlcmQgYm9va3NcIiwgZmlsdGVyZERhdGEpXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICBmaWx0ZXJlZERhdGE6IGZpbHRlcmREYXRhXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgIH1cbiAgICBoYW5kbGVJbnB1dCA9IChldmVudDogUmVhY3QuQ2hhbmdlRXZlbnQ8SFRNTElucHV0RWxlbWVudD4sIGZpZWxkOiBzdHJpbmcpOiB2b2lkID0+IHtcbiAgICAgICAgbGV0IHsgaW5zZXJ0UmVjb3JkIH0gPSB0aGlzLnN0YXRlXG4gICAgICAgIGNvbnNvbGUubG9nKGZpZWxkLCBldmVudC50YXJnZXQudmFsdWUpXG4gICAgICAgIGlmIChpbnNlcnRSZWNvcmQgPT0gbnVsbCkge1xuICAgICAgICAgICAgaW5zZXJ0UmVjb3JkID0ge31cbiAgICAgICAgfVxuICAgICAgICBpbnNlcnRSZWNvcmRbZmllbGRdID0gZXZlbnQudGFyZ2V0LnZhbHVlXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgaW5zZXJ0UmVjb3JkOiBpbnNlcnRSZWNvcmRcbiAgICAgICAgfSlcbiAgICB9XG4gICAgaW5zZXJ0UmVjb3JkID0gYXN5bmMgKCk6IFByb21pc2U8dm9pZD4gPT4ge1xuICAgICAgICBjb25zdCB7IGluc2VydFJlY29yZCwgZGF0YSB9ID0gdGhpcy5zdGF0ZVxuICAgICAgICBpZiAoaW5zZXJ0UmVjb3JkICE9IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGluc2VydFJlY29yZClcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhcGkuZGJQdXRCb29rQm9va1B1dCh7IGJvb2s6IEJvb2tGcm9tSlNPTihpbnNlcnRSZWNvcmQpIH0pXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpXG4gICAgICAgICAgICAgICAgZGF0YT8udW5zaGlmdChCb29rRnJvbUpTT04oaW5zZXJ0UmVjb3JkKSBhcyB1bmtub3duIGFzIFJlY29yZClcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogZGF0YVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSlcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG4gICAgfVxuICAgIGhhbmRsZVJpZ2h0Q2xpY2tSZWNvcmQgPSAoZXZlbnQ6IFJlYWN0Lk1vdXNlRXZlbnQ8SFRNTFRhYmxlUm93RWxlbWVudCwgTW91c2VFdmVudD4pOiB2b2lkID0+IHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgICAgICBjb25zb2xlLmxvZyhcInJpZ2h0bGljayBvbiBcIiArIGV2ZW50LnRhcmdldClcbiAgICB9XG4gICAgaGFuZGxlUm93Q2xpY2sgPSAoZTogU3ludGhldGljRXZlbnQpOiB2b2lkID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coZSlcbiAgICB9XG4gICAgY29tcG9uZW50V2lsbFVubW91bnQoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuc2VhcmNoRmlsdGVyU3ViPy51bnN1YnNjcmliZSgpXG4gICAgfVxuICAgIGdldENhdGVnb3J5Q29sb3IodmFsdWU6IHN0cmluZyk6IHN0cmluZyB8IHVuZGVmaW5lZCB7XG4gICAgICAgIGNvbnN0IHsgY2F0ZWdvcnlDb2xvcnMgfSA9IHRoaXMuc3RhdGVcbiAgICAgICAgaWYgKGNhdGVnb3J5Q29sb3JzICE9IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBjYXRlZ29yeUNvbG9ycy5maW5kKGVsID0+IGVsLm5hbWUgPT0gdmFsdWUpPy5jb2xvclxuICAgICAgICB9XG4gICAgfVxuICAgIHJlbmRlckNvbChjb2w6IHN0cmluZywgdmFsdWU6IHN0cmluZyk6IFJlYWN0LlJlYWN0RWxlbWVudCB8IHN0cmluZyB8IG51bGwge1xuICAgICAgICBpZiAodmFsdWUgIT0gbnVsbCAmJiB2YWx1ZSAhPSBcIlwiKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKGNvbCkge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJjYXRlZ29yeVwiOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gPFRhZyBjb2xvcj17dGhpcy5nZXRDYXRlZ29yeUNvbG9yKHZhbHVlKX0gPnt2YWx1ZX08L1RhZz5cbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmVuZGVyKCk6IFJlYWN0LlJlYWN0Tm9kZSB7XG4gICAgICAgIGNvbnN0IHsgZmlsdGVyZWREYXRhIH0gPSB0aGlzLnN0YXRlXG4gICAgICAgIGxldCBjb2xzXG4gICAgICAgIGlmIChmaWx0ZXJlZERhdGEgIT0gbnVsbCAmJiBmaWx0ZXJlZERhdGEubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJyZWRlcmluZyB0YWJsZSB3aXRoOiBcIiwgZmlsdGVyZWREYXRhKVxuICAgICAgICAgICAgY29scyA9IE9iamVjdC5rZXlzKGZpbHRlcmVkRGF0YVswXSlcbiAgICAgICAgICAgICAgICAuZmlsdGVyKGVsID0+ICF0aGlzLmNvbHVtbkZpbHRlci5pbmNsdWRlcyhlbCkpXG4gICAgICAgICAgICAgICAgLm1hcChlbCA9PiAoe1xuICAgICAgICAgICAgICAgICAgICB0aXRsZTogYm9va0kxOE4uZ2V0KGVsKSxcbiAgICAgICAgICAgICAgICAgICAgZGF0YUluZGV4OiBlbCxcbiAgICAgICAgICAgICAgICAgICAga2V5OiBlbCxcbiAgICAgICAgICAgICAgICAgICAgcmVuZGVyOiAodGV4dDogc3RyaW5nKSA9PiB0aGlzLnJlbmRlckNvbChlbCwgdGV4dCksXG4gICAgICAgICAgICAgICAgfSkpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIDxUYWJsZSBzaXplPVwic21hbGxcIiBjb2x1bW5zPXtjb2xzfSBkYXRhU291cmNlPXtmaWx0ZXJlZERhdGF9IHBhZ2luYXRpb249e3sgZGVmYXVsdFBhZ2VTaXplOiAxMDAgfVxuICAgICAgICB9IG9uUm93PXsocmVjb3JkKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG9uRG91YmxlQ2xpY2s6IGV2ZW50ID0+IHRoaXMuaGFuZGxlUmVjb3JkQ2xpY2soZXZlbnQsIHJlY29yZCksXG4gICAgICAgICAgICAgICAgb25DbGljazogZXZlbnQgPT4gdGhpcy5oYW5kbGVSZWNvcmRDbGljayhldmVudCwgcmVjb3JkKSxcbiAgICAgICAgICAgIH1cbiAgICAgICAgfX0+PC9UYWJsZSA+XG5cbiAgICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tIFwicnhqc1wiXG5pbXBvcnQgeyBCb29rIH0gZnJvbSBcIi4uLy4uL21vZGVscy9Cb29rXCJcbmltcG9ydCB7IHZpZXdUeXBlU3ViamVjdCB9IGZyb20gXCIuLi9UaXRsZUJhck1lbnVcIlxuaW1wb3J0IHsgVmlld1R5cGVzIH0gZnJvbSBcIi4uL1ZpZXdUeXBlc1wiXG5pbXBvcnQgeyBib29rQ2FyZHNTdWJqZWN0IH0gZnJvbSBcIi4vQm9va0NhcmRcIlxuaW1wb3J0IHsgQm9va0NhcmRzIH0gZnJvbSBcIi4vQm9va0NhcmRzXCJcbmltcG9ydCB7IEJvb2tJdGVtIH0gZnJvbSBcIi4vQm9va0l0ZW1cIlxuaW1wb3J0IHsgQm9va3NUYWJsZSwgYm9va3NUYWJsZVN1YmplY3QgfSBmcm9tIFwiLi9Cb29rc1RhYmxlXCJcblxuaW50ZXJmYWNlIEJvb2tWaWV3U3RhdGUge1xuICAgIGJvb2tWaWV3VHlwZTogVmlld1R5cGVzLFxuICAgIHNlbGVjdGVkQm9vazogQm9vayB8IG51bGxcbn1cbmV4cG9ydCBjbGFzcyBCb29rc1ZpZXcgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICAgIHN0YXRlOiBCb29rVmlld1N0YXRlID0ge1xuICAgICAgICBib29rVmlld1R5cGU6IFZpZXdUeXBlcy5DQVJELFxuICAgICAgICBzZWxlY3RlZEJvb2s6IG51bGxcbiAgICB9XG4gICAgdmlld1R5cGVTdWI6IFN1YnNjcmlwdGlvbiB8IG51bGwgPSBudWxsXG4gICAgYm9va0NhcmRTdWI6IFN1YnNjcmlwdGlvbiB8IG51bGwgPSBudWxsXG4gICAgYm9va1RhYmxlU3ViOiBTdWJzY3JpcHRpb24gfCBudWxsID0gbnVsbFxuICAgIGNvbXBvbmVudERpZE1vdW50KCk6IHZvaWQge1xuICAgICAgICB0aGlzLnZpZXdUeXBlU3ViID0gdmlld1R5cGVTdWJqZWN0LnN1YnNjcmliZSh2aWV3VHlwZSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcImNoYW5nZSB2aWV0eXBlIHRvOiBcIiArIHZpZXdUeXBlKVxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgYm9va1ZpZXdUeXBlOiB2aWV3VHlwZVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICAgICAgdGhpcy5ib29rVGFibGVTdWIgPSBib29rQ2FyZHNTdWJqZWN0LnN1YnNjcmliZShib29rID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwic2VsZWN0ZWQgXCIgKyBib29rLnRpdGxlKVxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRCb29rOiBib29rXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuXG4gICAgICAgIHRoaXMuYm9va1RhYmxlU3ViID0gYm9va3NUYWJsZVN1YmplY3Quc3Vic2NyaWJlKGJvb2sgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJzZWxlY3RlZCBcIiArIGJvb2sudGl0bGUpXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICBzZWxlY3RlZEJvb2s6IGJvb2tcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgfVxuICAgIGNvbXBvbmVudFdpbGxVbm1vdW50KCk6IHZvaWQge1xuICAgICAgICB0aGlzLnZpZXdUeXBlU3ViPy51bnN1YnNjcmliZSgpXG4gICAgICAgIHRoaXMuYm9va1RhYmxlU3ViPy51bnN1YnNjcmliZSgpXG4gICAgICAgIHRoaXMuYm9va0NhcmRTdWI/LnVuc3Vic2NyaWJlKClcbiAgICB9XG4gICAgcmVuZGVyKCk6IEpTWC5FbGVtZW50IHtcbiAgICAgICAgY29uc3QgeyBib29rVmlld1R5cGUsIHNlbGVjdGVkQm9vayB9ID0gdGhpcy5zdGF0ZVxuICAgICAgICBpZiAoc2VsZWN0ZWRCb29rICE9IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiA8Qm9va0l0ZW0ga2V5PXtcIkJvb2tJdGVtXCIgKyBzZWxlY3RlZEJvb2sudGl0bGV9IGJvb2s9e3NlbGVjdGVkQm9va30gPjwvQm9va0l0ZW0+XG4gICAgICAgIH1cbiAgICAgICAgc3dpdGNoIChib29rVmlld1R5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgVmlld1R5cGVzLlRBQkxFOlxuICAgICAgICAgICAgICAgIHJldHVybiA8Qm9va3NUYWJsZSBrZXk9XCJCb3Jyb3dCb29rc1RhYmxlXCI+PC9Cb29rc1RhYmxlPlxuICAgICAgICAgICAgY2FzZSBWaWV3VHlwZXMuQ0FSRDpcbiAgICAgICAgICAgICAgICByZXR1cm4gPEJvb2tDYXJkcyBrZXk9XCJCb29rQ2FyZHNcIj48L0Jvb2tDYXJkcz5cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gPD48Lz5cbiAgICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgRGVmYXVsdEJpYmxlciB9IGZyb20gXCIuLi8uLi9hcGlzL0RlZmF1bHRCaWJsZXJcIjtcbmltcG9ydCB7IEJvb2sgfSBmcm9tIFwiLi4vLi4vbW9kZWxzL0Jvb2tcIjtcbmltcG9ydCB7IFVzZXIgfSBmcm9tICcuLi8uLi9tb2RlbHMvVXNlcic7XG5pbXBvcnQgeyBCb29rQ2FyZHMgfSBmcm9tICcuL0Jvb2tDYXJkcyc7XG50eXBlIEJvb2tDYXJkc1N0YXRlID0ge1xuICAgIGRhdGE/OiBBcnJheTxCb29rPixcbiAgICBpbnNlcnRSZWNvcmQ/OiBCb29rLFxuICAgIHBhZ2U6IG51bWJlcixcbiAgICBwYWdlU2l6ZTogbnVtYmVyLFxufVxuaW50ZXJmYWNlIEljb25UZXh0IHtcbiAgICBpY29uOiBSZWFjdC5SZWFjdEVsZW1lbnQsXG4gICAgdGV4dDogc3RyaW5nXG59XG5pbnRlcmZhY2UgSUJvb2tDYXJkcyB7XG4gICAgdXNlckZpbHRlcj86IFVzZXJcbn1cbmNvbnN0IGFwaSA9IG5ldyBEZWZhdWx0QmlibGVyKClcblxuZXhwb3J0IGNsYXNzIEJvcnJvd0Jvb2tDYXJkcyBleHRlbmRzIEJvb2tDYXJkcyB7XG4gICAgbG9hZERhdGEgPSBhc3luYyAoKTogUHJvbWlzZTx2b2lkPiA9PiB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBhcGkuZ2V0QXZhaWxhYmxlQm9va3NCb29rc0F2YWlsYWJsZUdldCgpXG4gICAgICAgIGNvbnNvbGUubG9nKGRhdGEpXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgZGF0YTogZGF0YVxuICAgICAgICB9KVxuICAgIH1cblxuXG59IiwiaW1wb3J0IHsgRGVmYXVsdEJpYmxlciB9IGZyb20gXCIuLi8uLi9hcGlzL0RlZmF1bHRCaWJsZXJcIjtcbmltcG9ydCB7IEJvb2tzVGFibGUgfSBmcm9tIFwiLi9Cb29rc1RhYmxlXCI7XG5cblxuY29uc3QgYXBpID0gbmV3IERlZmF1bHRCaWJsZXIoKVxuXG5leHBvcnQgY2xhc3MgQm9ycm93Qm9va3NUYWJsZSBleHRlbmRzIEJvb2tzVGFibGUge1xuICAgIGFzeW5jIGxvYWREYXRhKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgYXBpLmdldEF2YWlsYWJsZUJvb2tzQm9va3NBdmFpbGFibGVHZXQoKVxuICAgICAgICBjb25zb2xlLmxvZyhkYXRhKVxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIGRhdGE6IGRhdGEsXG4gICAgICAgICAgICBmaWx0ZXJlZERhdGE6IGRhdGFcbiAgICAgICAgfSlcbiAgICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tIFwicnhqc1wiXG5pbXBvcnQgeyBCb29rIH0gZnJvbSBcIi4uLy4uL21vZGVscy9Cb29rXCJcbmltcG9ydCB7IHZpZXdUeXBlU3ViamVjdCB9IGZyb20gXCIuLi9UaXRsZUJhck1lbnVcIlxuaW1wb3J0IHsgVmlld1R5cGVzIH0gZnJvbSBcIi4uL1ZpZXdUeXBlc1wiXG5pbXBvcnQgeyBib29rQ2FyZHNTdWJqZWN0IH0gZnJvbSBcIi4vQm9va0NhcmRcIlxuaW1wb3J0IHsgQm9va0l0ZW0gfSBmcm9tIFwiLi9Cb29rSXRlbVwiXG5pbXBvcnQgeyBib29rc1RhYmxlU3ViamVjdCB9IGZyb20gXCIuL0Jvb2tzVGFibGVcIlxuaW1wb3J0IHsgQm9ycm93Qm9va0NhcmRzIH0gZnJvbSBcIi4vQm9ycm93Qm9va0NhcmRzXCJcbmltcG9ydCB7IEJvcnJvd0Jvb2tzVGFibGUgfSBmcm9tIFwiLi9Cb3Jyb3dCb29rc1RhYmxlXCJcblxuaW50ZXJmYWNlIEJvb2tWaWV3U3RhdGUge1xuICAgIGJvb2tWaWV3VHlwZTogVmlld1R5cGVzLFxuICAgIHNlbGVjdGVkQm9vazogQm9vayB8IG51bGxcbn1cbmV4cG9ydCBjbGFzcyBCb3Jyb3dCb29rc1ZpZXcgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICAgIHN0YXRlOiBCb29rVmlld1N0YXRlID0ge1xuICAgICAgICBib29rVmlld1R5cGU6IFZpZXdUeXBlcy5UQUJMRSxcbiAgICAgICAgc2VsZWN0ZWRCb29rOiBudWxsXG4gICAgfVxuICAgIHZpZXdUeXBlU3ViOiBTdWJzY3JpcHRpb24gfCBudWxsID0gbnVsbFxuICAgIGJvb2tDYXJkU3ViOiBTdWJzY3JpcHRpb24gfCBudWxsID0gbnVsbFxuICAgIGJvb2tUYWJsZVN1YjogU3Vic2NyaXB0aW9uIHwgbnVsbCA9IG51bGxcbiAgICBjb21wb25lbnREaWRNb3VudCgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy52aWV3VHlwZVN1YiA9IHZpZXdUeXBlU3ViamVjdC5zdWJzY3JpYmUodmlld1R5cGUgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJjaGFuZ2UgdmlldHlwZSB0bzogXCIgKyB2aWV3VHlwZSlcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgIGJvb2tWaWV3VHlwZTogdmlld1R5cGVcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgICAgIHRoaXMuYm9va0NhcmRTdWIgPSBib29rQ2FyZHNTdWJqZWN0LnN1YnNjcmliZShib29rID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwic2VsZWN0ZWQgXCIgKyBib29rLnRpdGxlKVxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRCb29rOiBib29rXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgICAgICB0aGlzLmJvb2tUYWJsZVN1YiA9IGJvb2tzVGFibGVTdWJqZWN0LnN1YnNjcmliZShib29rID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwic2VsZWN0ZWQgXCIgKyBib29rLnRpdGxlKVxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRCb29rOiBib29rXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgIH1cbiAgICBjb21wb25lbnRXaWxsVW5tb3VudCgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy52aWV3VHlwZVN1Yj8udW5zdWJzY3JpYmUoKVxuICAgICAgICB0aGlzLmJvb2tUYWJsZVN1Yj8udW5zdWJzY3JpYmUoKVxuICAgICAgICB0aGlzLmJvb2tDYXJkU3ViPy51bnN1YnNjcmliZSgpXG4gICAgfVxuICAgIHJlbmRlcigpOiBKU1guRWxlbWVudCB7XG4gICAgICAgIGNvbnN0IHsgYm9va1ZpZXdUeXBlLCBzZWxlY3RlZEJvb2sgfSA9IHRoaXMuc3RhdGVcbiAgICAgICAgaWYgKHNlbGVjdGVkQm9vayAhPSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gPEJvb2tJdGVtIGtleT17XCJCb29rSXRlbVwiICsgc2VsZWN0ZWRCb29rLnRpdGxlfSBib29rPXtzZWxlY3RlZEJvb2t9ID48L0Jvb2tJdGVtPlxuICAgICAgICB9XG4gICAgICAgIHN3aXRjaCAoYm9va1ZpZXdUeXBlKSB7XG4gICAgICAgICAgICBjYXNlIFZpZXdUeXBlcy5UQUJMRTpcbiAgICAgICAgICAgICAgICByZXR1cm4gPEJvcnJvd0Jvb2tzVGFibGUga2V5PVwiQm9ycm93Qm9va3NUYWJsZVwiPjwvQm9ycm93Qm9va3NUYWJsZT5cbiAgICAgICAgICAgIGNhc2UgVmlld1R5cGVzLkNBUkQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIDxCb3Jyb3dCb29rQ2FyZHMga2V5PVwiQm9va0NhcmRzXCI+PC9Cb3Jyb3dCb29rQ2FyZHM+XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIDw+PC8+XG4gICAgfVxufSIsImltcG9ydCB7IFRhYmxlLCBUYWcgfSBmcm9tIFwiYW50ZFwiO1xuaW1wb3J0IFJlYWN0LCB7IFN5bnRoZXRpY0V2ZW50IH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBTdWJqZWN0IH0gZnJvbSBcInJ4anNcIjtcbmltcG9ydCB7IERlZmF1bHRCaWJsZXIgfSBmcm9tIFwiLi4vYXBpcy9EZWZhdWx0QmlibGVyXCI7XG5pbXBvcnQgeyBib3Jyb3dpbmdVc2VySTE4TiB9IGZyb20gXCIuLi9pMThuXCI7XG5cblxuZXhwb3J0IGludGVyZmFjZSBJQm9ycm93aW5nVXNlcnNUYWJsZSB7XG4gICAgbmFtZT86IHN0cmluZ1xufVxudHlwZSBSZWNvcmQgPSB7XG4gICAgW2luZGV4OiBzdHJpbmddOiBzdHJpbmcgfCBudW1iZXJcbn1cbnR5cGUgVGFibGVTdGF0ZSA9IHtcbiAgICBkYXRhPzogQXJyYXk8UmVjb3JkPixcbiAgICBpbnNlcnRSZWNvcmQ/OiBSZWNvcmRcbn1cbmNvbnN0IGFwaSA9IG5ldyBEZWZhdWx0QmlibGVyKClcblxuZXhwb3J0IGNvbnN0IHVzZXJzVGFibGVTdWJqZWN0ID0gbmV3IFN1YmplY3Q8UmVjb3JkW10+KClcblxuZXhwb3J0IGNsYXNzIEJvcnJvd2luZ1VzZXJzVGFibGUgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8SUJvcnJvd2luZ1VzZXJzVGFibGU+IHtcbiAgICBzdGF0ZTogVGFibGVTdGF0ZSA9IHtcbiAgICAgICAgZGF0YTogW11cbiAgICB9XG4gICAgY29sdW1uRmlsdGVyOiBBcnJheTxzdHJpbmc+ID0gW1xuICAgICAgICBcInJldHVybl9kYXRlXCIsXG4gICAgICAgIFwiZXhwaXJhdGlvbl9kYXRlXCIsXG4gICAgICAgIFwic3RhcnRfZGF0ZVwiLFxuICAgICAgICBcImZpcnN0bmFtZVwiLFxuICAgICAgICBcImxhc3RuYW1lXCIsXG4gICAgICAgIFwiY2xhc3NuYW1lXCIsXG4gICAgICAgIFwidGl0bGVcIixcbiAgICAgICAgXCJhdXRob3JcIixcbiAgICAgICAgXCJudW1iZXJcIixcbiAgICBdXG4gICAgY29uc3RydWN0b3IocHJvcHM6IFJlYWRvbmx5PElCb3Jyb3dpbmdVc2Vyc1RhYmxlPikge1xuICAgICAgICBzdXBlcihwcm9wcylcbiAgICB9XG4gICAgbG9hZERhdGEgPSBhc3luYyAoKTogUHJvbWlzZTx2b2lkPiA9PiB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSAoYXdhaXQgYXBpLmdldEJvcnJvd2luZ1VzZXJzVXNlcnNCb3Jyb3dpbmdHZXQoKSkgYXMgQXJyYXk8W1JlY29yZCwgUmVjb3JkLCBSZWNvcmRdPlxuICAgICAgICBjb25zb2xlLmxvZyhkYXRhKVxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIGRhdGE6IGRhdGFcbiAgICAgICAgfSlcbiAgICB9XG4gICAgYXN5bmMgY29tcG9uZW50RGlkTW91bnQoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGF3YWl0IHRoaXMubG9hZERhdGEoKVxuICAgIH1cblxuICAgIGhhbmRsZVJlY29yZENsaWNrID0gKGV2ZW50OiBTeW50aGV0aWNFdmVudCwgaW5kZXg6IG51bWJlciB8IHVuZGVmaW5lZCk6IHZvaWQgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhcImJvb2tzIHRhYmxlIHJlY29yZCBjbGlja2VkXCIpXG4gICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gdGhpcy5zdGF0ZVxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICAgIGNvbnNvbGUubG9nKGluZGV4LCBldmVudClcbiAgICAgICAgaWYgKGRhdGEgJiYgaW5kZXggIT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRSZWNvcmQ6IGRhdGFbaW5kZXhdXG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgfVxuICAgIGhhbmRsZUlucHV0ID0gKGV2ZW50OiBSZWFjdC5DaGFuZ2VFdmVudDxIVE1MSW5wdXRFbGVtZW50PiwgZmllbGQ6IHN0cmluZyk6IHZvaWQgPT4ge1xuICAgICAgICBsZXQgeyBpbnNlcnRSZWNvcmQgfSA9IHRoaXMuc3RhdGVcbiAgICAgICAgY29uc29sZS5sb2coZmllbGQsIGV2ZW50LnRhcmdldC52YWx1ZSlcbiAgICAgICAgaWYgKGluc2VydFJlY29yZCA9PSBudWxsKSB7XG4gICAgICAgICAgICBpbnNlcnRSZWNvcmQgPSB7fVxuICAgICAgICB9XG4gICAgICAgIGluc2VydFJlY29yZFtmaWVsZF0gPSBldmVudC50YXJnZXQudmFsdWVcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBpbnNlcnRSZWNvcmQ6IGluc2VydFJlY29yZFxuICAgICAgICB9KVxuICAgIH1cbiAgICBoYW5kbGVSaWdodENsaWNrUmVjb3JkID0gKGV2ZW50OiBSZWFjdC5Nb3VzZUV2ZW50PEhUTUxUYWJsZVJvd0VsZW1lbnQsIE1vdXNlRXZlbnQ+KTogdm9pZCA9PiB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICAgICAgY29uc29sZS5sb2coXCJyaWdodGxpY2sgb24gXCIgKyBldmVudC50YXJnZXQpXG4gICAgfVxuICAgIHJlbmRlckNvbHVtbnMgPSAodGV4dDogc3RyaW5nLCBjb2x1bW46IHN0cmluZyk6IHN0cmluZyB8IEpTWC5FbGVtZW50ID0+IHtcbiAgICAgICAgc3dpdGNoIChjb2x1bW4pIHtcbiAgICAgICAgICAgIGNhc2UgXCJleHBpcmF0aW9uX2RhdGVcIjpcbiAgICAgICAgICAgICAgICBpZiAobmV3IERhdGUodGV4dCkgPCBuZXcgRGF0ZSgpKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gPFRhZyBjb2xvcj1cInJlZFwiPnt0ZXh0fTwvVGFnPlxuICAgICAgICAgICAgICAgIHJldHVybiA8VGFnIGNvbG9yPVwiZ3JlZW5cIj57dGV4dH08L1RhZz5cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRleHRcblxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVuZGVyKCk6IEpTWC5FbGVtZW50IHtcbiAgICAgICAgY29uc3QgeyBkYXRhIH0gPSB0aGlzLnN0YXRlXG4gICAgICAgIGxldCBjb2xzXG4gICAgICAgIGlmIChkYXRhICE9IG51bGwgJiYgZGF0YS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKVxuICAgICAgICAgICAgY29scyA9IE9iamVjdC5rZXlzKGRhdGFbMF0pXG4gICAgICAgICAgICAgICAgLmZpbHRlcihlbCA9PiB0aGlzLmNvbHVtbkZpbHRlci5pbmNsdWRlcyhlbCkpXG4gICAgICAgICAgICAgICAgLm1hcChlbCA9PiAoe1xuICAgICAgICAgICAgICAgICAgICB0aXRsZTogYm9ycm93aW5nVXNlckkxOE4uZ2V0KGVsKSxcbiAgICAgICAgICAgICAgICAgICAgZGF0YUluZGV4OiBlbCxcbiAgICAgICAgICAgICAgICAgICAga2V5OiBlbCxcbiAgICAgICAgICAgICAgICAgICAgcmVuZGVyOiAodGV4dDogc3RyaW5nKSA9PiB0aGlzLnJlbmRlckNvbHVtbnModGV4dCwgZWwpXG4gICAgICAgICAgICAgICAgfSkpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIDxUYWJsZSBjb2x1bW5zPXtjb2xzfSBkYXRhU291cmNlPXtkYXRhPy5tYXAoZWwgPT4ge1xuICAgICAgICAgICAgZWwuY2hpbGRyZW4gPSBlbC5ib3Jyb3dlZF9ib29rc1xuICAgICAgICAgICAgcmV0dXJuIGVsXG4gICAgICAgIH0pfSBvblJvdz17KHJlY29yZCwgcm93SW5kZXgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgb25Eb3VibGVDbGljazogZXZlbnQgPT4gdGhpcy5oYW5kbGVSZWNvcmRDbGljayhldmVudCwgcm93SW5kZXgpLFxuICAgICAgICAgICAgICAgIG9uQ2xpY2s6IGV2ZW50ID0+IHRoaXMuaGFuZGxlUmVjb3JkQ2xpY2soZXZlbnQsIHJvd0luZGV4KSxcbiAgICAgICAgICAgIH1cbiAgICAgICAgfX0+PC9UYWJsZT5cbiAgICB9XG5cbn0iLCJcbmV4cG9ydCBlbnVtIE1haW5Db250ZW50VHlwZXMge1xuICAgIEJvb2tzVGFibGUsXG4gICAgVXNlcnNUYWJsZSxcbiAgICBCb29rc0NhcmRzLFxuICAgIFVzZXJzQ2FyZHMsXG4gICAgQm9va0l0ZW0sXG4gICAgVXNlckl0ZW0sXG4gICAgQm9ycm93ZWRCb29rc1RhYmxlXG59IiwiaW1wb3J0IHsgU3BhY2UsIFN0YXRpc3RpYyB9IGZyb20gXCJhbnRkXCI7XG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBEZWZhdWx0QmlibGVyIH0gZnJvbSBcIi4uL2FwaXNcIjtcblxuY29uc3QgYXBpID0gbmV3IERlZmF1bHRCaWJsZXIoKVxuZXhwb3J0IGNsYXNzIFN0YXR1c0JhciBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gICAgc3RhdGUgPSB7XG4gICAgICAgIGJvb2tzQm9ycm93ZWQ6IDAsXG4gICAgICAgIGJvb2tzT3ZlcmR1ZTogMCxcbiAgICAgICAgYm9va0NvdW50OiAwLFxuICAgICAgICB1c2VyQ291bnQ6IDBcbiAgICB9XG4gICAgYXN5bmMgY29tcG9uZW50RGlkTW91bnQoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGNvbnN0IGJvcnJvd2VkQm9va3MgPSBhd2FpdCBhcGkuZ2V0Qm9ycm93ZWRDb3VudFN0YXRzQm9va3NCb3Jyb3dlZEdldCgpXG4gICAgICAgIGNvbnN0IGJvb2tzT3ZlcmR1ZSA9IGF3YWl0IGFwaS5nZXRPdmVyZHVlQ291bnRTdGF0c0Jvb2tzT3ZlcmR1ZUdldCgpXG4gICAgICAgIGNvbnN0IGJvb2tDb3VudCA9IGF3YWl0IGFwaS5nZXRCb29rc0NvdW50U3RhdHNCb29rc0NvdW50R2V0KClcbiAgICAgICAgY29uc3QgdXNlckNvdW50ID0gYXdhaXQgYXBpLmdldEJvb2tzQ291bnRTdGF0c1VzZXJzQ291bnRHZXQoKVxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIGJvb2tzQm9ycm93ZWQ6IGJvcnJvd2VkQm9va3MsXG4gICAgICAgICAgICBib29rc092ZXJkdWU6IGJvb2tzT3ZlcmR1ZSxcbiAgICAgICAgICAgIGJvb2tDb3VudDogYm9va0NvdW50LFxuICAgICAgICAgICAgdXNlckNvdW50OiB1c2VyQ291bnRcbiAgICAgICAgfSlcbiAgICB9XG4gICAgcmVuZGVyKCk6IEpTWC5FbGVtZW50IHtcbiAgICAgICAgcmV0dXJuIDxkaXYgc3R5bGU9e3tcbiAgICAgICAgICAgIGRpc3BsYXk6IFwiZ3JpZFwiLFxuICAgICAgICAgICAgZ3JpZFRlbXBsYXRlQ29sdW1uczogXCJhdXRvIDFmclwiLFxuICAgICAgICB9fT5cbiAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgPFNwYWNlPlxuICAgICAgICAgICAgICAgICAgICA8U3RhdGlzdGljXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBzY2FsZTogXCIuNXJlbVwiLCB0cmFuc2Zvcm06IFwic2NhbGUoLjcsIC43KVwiIH19XG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT1cIkFrdHVlbGwgdmVybGllaGVuZGUgQsO8Y2hlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5ib29rc0JvcnJvd2VkfSAvPlxuICAgICAgICAgICAgICAgICAgICA8U3RhdGlzdGljXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBzY2FsZTogXCIuNXJlbVwiLCB0cmFuc2Zvcm06IFwic2NhbGUoLjcsIC43KVwiIH19XG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT1cIsOcYmVyZsOkbGxpZ2UgQsO8Y2hlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5ib29rc092ZXJkdWV9IC8+XG4gICAgICAgICAgICAgICAgPC9TcGFjZT5cblxuICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgIDxkaXYgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICBqdXN0aWZ5U2VsZjogXCJlbmRcIlxuICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICAgICAgPFNwYWNlPlxuICAgICAgICAgICAgICAgICAgICA8U3RhdGlzdGljXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBzY2FsZTogXCIuNXJlbVwiLCB0cmFuc2Zvcm06IFwic2NhbGUoLjcsIC43KVwiIH19XG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT1cIkLDvGNoZXJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuYm9va0NvdW50fSAvPlxuICAgICAgICAgICAgICAgICAgICA8U3RhdGlzdGljXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBzY2FsZTogXCIuNXJlbVwiLCB0cmFuc2Zvcm06IFwic2NhbGUoLjcsIC43KVwiIH19XG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT1cIkJlbnV0emVyKmlubmVuXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnVzZXJDb3VudH0gLz5cblxuICAgICAgICAgICAgICAgIDwvU3BhY2U+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgfVxufSIsImltcG9ydCB7IEJ1dHRvbiwgSW5wdXQsIG1lc3NhZ2UsIFNwYWNlIH0gZnJvbSBcImFudGRcIjtcbmltcG9ydCBDU1MgZnJvbSBcImNzc3R5cGVcIjtcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IERlZmF1bHRCaWJsZXIgfSBmcm9tIFwiLi4vLi4vYXBpc1wiO1xuaW1wb3J0IHsgUHV0VXNlclJlc3BvbnNlU3RhdHVzLCBVc2VySW5Gcm9tSlNPTiB9IGZyb20gXCIuLi8uLi9tb2RlbHNcIjtcbmltcG9ydCB7IFVzZXIgfSBmcm9tIFwiLi4vLi4vbW9kZWxzL1VzZXJcIjtcblxuY29uc3QgYXBpID0gbmV3IERlZmF1bHRCaWJsZXIoKVxudHlwZSBhZGRVc2VyRm9ybVN0YXRlID0ge1xuICAgIHJlY29yZDogVXNlcixcbiAgICBsb2FkaW5nOiBib29sZWFuXG59XG5leHBvcnQgY2xhc3MgQWRkVXNlckZvcm0gZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8dW5rbm93biwgYWRkVXNlckZvcm1TdGF0ZT4ge1xuICAgIHN0YXRlOiBhZGRVc2VyRm9ybVN0YXRlID0ge1xuICAgICAgICByZWNvcmQ6IHtcbiAgICAgICAgICAgIGtleTogMCxcbiAgICAgICAgICAgIGZpcnN0bmFtZTogXCJcIixcbiAgICAgICAgICAgIGxhc3RuYW1lOiBcIlwiLFxuICAgICAgICAgICAgY2xhc3NuYW1lOiBcIlwiLFxuICAgICAgICB9LFxuICAgICAgICBsb2FkaW5nOiBmYWxzZVxuICAgIH1cbiAgICBzYXZlID0gYXN5bmMgKGV2ZW50OiBSZWFjdC5Nb3VzZUV2ZW50PEhUTUxFbGVtZW50LCBNb3VzZUV2ZW50Pik6IFByb21pc2U8dm9pZD4gPT4ge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICAgIGNvbnN0IGtleSA9ICd1cGRhdGFibGUnO1xuICAgICAgICBjb25zdCB7IHJlY29yZCB9ID0gdGhpcy5zdGF0ZVxuICAgICAgICBsZXQgZmFpbCA9IGZhbHNlXG4gICAgICAgIGlmIChyZWNvcmQuZmlyc3RuYW1lID09IFwiXCIpIHtcbiAgICAgICAgICAgIG1lc3NhZ2UuZXJyb3IoXCJWb3JuYW1lIGRhcmYgbmljaHQgbGVlciBzZWluXCIpXG4gICAgICAgICAgICBmYWlsID0gdHJ1ZVxuICAgICAgICB9XG4gICAgICAgIGlmIChyZWNvcmQubGFzdG5hbWUgPT0gXCJcIikge1xuICAgICAgICAgICAgbWVzc2FnZS5lcnJvcihcIk5hY2huYW1lIGRhcmYgbmljaHQgbGVlciBzZWluXCIpXG4gICAgICAgICAgICBmYWlsID0gdHJ1ZVxuICAgICAgICB9XG4gICAgICAgIGlmIChyZWNvcmQuY2xhc3NuYW1lID09IFwiXCIpIHtcbiAgICAgICAgICAgIG1lc3NhZ2UuZXJyb3IoXCJLbGFzc2UgZGFyZiBuaWNodCBsZWVyIHNlaW5cIilcbiAgICAgICAgICAgIGZhaWwgPSB0cnVlXG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZhaWwpIHtcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG4gICAgICAgIG1lc3NhZ2UubG9hZGluZyh7IGNvbnRlbnQ6ICdTcGVpY2hlcm4uLi4nLCBrZXkgfSk7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgbWVzc2FnZS5zdWNjZXNzKHsgY29udGVudDogJ05ldWUgQmVudXR6ZXIqaW4gZ2VzcGVpY2hlcnQhJywga2V5LCBkdXJhdGlvbjogMiB9KTtcbiAgICAgICAgfSwgMTAwMCk7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgbG9hZGluZzogdHJ1ZVxuICAgICAgICB9KVxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGFwaS5wdXRVc2VyVXNlclB1dCh7IHVzZXJJbjogVXNlckluRnJvbUpTT04ocmVjb3JkKSB9KVxuICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSlcbiAgICAgICAgc3dpdGNoIChyZXNwb25zZS5zdGF0dXMpIHtcbiAgICAgICAgICAgIGNhc2UgUHV0VXNlclJlc3BvbnNlU3RhdHVzLkNyZWF0ZWQ6XG4gICAgICAgICAgICAgICAgbWVzc2FnZS5zdWNjZXNzKFwiQmVudXR6ZXIgd3VyZGUgZ2VzcGVpY2hlcnRcIilcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgUHV0VXNlclJlc3BvbnNlU3RhdHVzLk5vdENyZWF0ZWQ6XG4gICAgICAgICAgICAgICAgbWVzc2FnZS5lcnJvcihcIkJlbnV0emVyIGtvbm50ZSBuaWNodCBnZXNwZWljaGVydCB3ZXJkZW5cIilcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgbWVzc2FnZS5lcnJvcihcIkVzIGlzdCBlaW4gRmVobGVyIGF1ZmdldHJldGVuXCIpXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIGxvYWRpbmc6IGZhbHNlLFxuICAgICAgICAgICAgcmVjb3JkOiB7XG4gICAgICAgICAgICAgICAgbGFzdG5hbWU6IFwiXCIsXG4gICAgICAgICAgICAgICAgZmlyc3RuYW1lOiBcIlwiLFxuICAgICAgICAgICAgICAgIGtleTogMCxcbiAgICAgICAgICAgICAgICBjbGFzc25hbWU6IFwiXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSksIDEwMDApXG4gICAgfVxuICAgIHJlbmRlcigpOiBKU1guRWxlbWVudCB7XG4gICAgICAgIGNvbnN0IGhpZGRlbklucHV0U3R5bGU6IENTUy5Qcm9wZXJ0aWVzID0ge1xuICAgICAgICAgICAgdmlzaWJpbGl0eTogXCJoaWRkZW5cIixcbiAgICAgICAgICAgIHBvaW50ZXJFdmVudHM6IFwibm9uZVwiLFxuICAgICAgICAgICAgZGlzcGxheTogXCJub25lXCJcblxuICAgICAgICB9XG4gICAgICAgIHJldHVybiA8ZGl2IHN0eWxlPXt7IHBhZGRpbmc6IFwiMXJlbVwiIH19PlxuICAgICAgICAgICAgPFNwYWNlIGRpcmVjdGlvbj1cInZlcnRpY2FsXCI+XG4gICAgICAgICAgICAgICAgPGgxIHN0eWxlPXt7IGZvbnRTaXplOiBcIjJyZW1cIiB9fT5CZW51dHplciBoaW56dWbDvGdlbjwvaDE+XG4gICAgICAgICAgICAgICAgPGlucHV0IGlkPVwiYm9vay1rZXlcIiBuYW1lPVwiYm9vay1rZXlcIiBzdHlsZT17aGlkZGVuSW5wdXRTdHlsZX0gdmFsdWU9e3RoaXMuc3RhdGUucmVjb3JkLmtleX0+PC9pbnB1dD5cbiAgICAgICAgICAgICAgICA8bGFiZWw+Vm9ybmFtZTwvbGFiZWw+XG4gICAgICAgICAgICAgICAgPElucHV0IHBsYWNlaG9sZGVyPVwiVm9ybmFtZVwiIHZhbHVlPXt0aGlzLnN0YXRlLnJlY29yZC5maXJzdG5hbWV9XG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeyByZWNvcmQgfSA9IHRoaXMuc3RhdGVcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlY29yZC5maXJzdG5hbWUgPSBlLnRhcmdldC52YWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHJlY29yZDogcmVjb3JkIH0pXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfT48L0lucHV0PlxuICAgICAgICAgICAgICAgIDxsYWJlbD5OYWNobmFtZTwvbGFiZWw+XG4gICAgICAgICAgICAgICAgPElucHV0IHBsYWNlaG9sZGVyPVwiTmFjaG5hbWVcIiB2YWx1ZT17dGhpcy5zdGF0ZS5yZWNvcmQubGFzdG5hbWV9XG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeyByZWNvcmQgfSA9IHRoaXMuc3RhdGVcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlY29yZC5sYXN0bmFtZSA9IGUudGFyZ2V0LnZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgcmVjb3JkOiByZWNvcmQgfSlcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9ID48L0lucHV0PlxuICAgICAgICAgICAgICAgIDxsYWJlbD5LbGFzc2U8L2xhYmVsPlxuICAgICAgICAgICAgICAgIDxJbnB1dCBwbGFjZWhvbGRlcj1cIktsYXNzZVwiIHZhbHVlPXt0aGlzLnN0YXRlLnJlY29yZC5jbGFzc25hbWV9XG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeyByZWNvcmQgfSA9IHRoaXMuc3RhdGVcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlY29yZC5jbGFzc25hbWUgPSBlLnRhcmdldC52YWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHJlY29yZDogcmVjb3JkIH0pXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSA+PC9JbnB1dD5cbiAgICAgICAgICAgICAgICA8QnV0dG9uIHR5cGU9XCJwcmltYXJ5XCIgc2l6ZT1cImxhcmdlXCIgc2hhcGU9XCJyb3VuZFwiIGxvYWRpbmc9e3RoaXMuc3RhdGUubG9hZGluZ30gb25DbGljaz17dGhpcy5zYXZlfT5TcGVpY2hlcm48L0J1dHRvbj5cbiAgICAgICAgICAgIDwvU3BhY2U+XG4gICAgICAgIDwvZGl2PlxuICAgIH1cbn0iLCJpbXBvcnQgeyBEb3dubG9hZE91dGxpbmVkLCBJbmJveE91dGxpbmVkIH0gZnJvbSBcIkBhbnQtZGVzaWduL2ljb25zXCI7XG5pbXBvcnQgeyBCdXR0b24sIG1lc3NhZ2UsIFNwYWNlIH0gZnJvbSBcImFudGRcIjtcbmltcG9ydCB7IFVwbG9hZENoYW5nZVBhcmFtIH0gZnJvbSBcImFudGQvbGliL3VwbG9hZFwiO1xuaW1wb3J0IERyYWdnZXIsIHsgRHJhZ2dlclByb3BzIH0gZnJvbSBcImFudGQvbGliL3VwbG9hZC9EcmFnZ2VyXCI7XG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBCQVNFX1BBVEggfSBmcm9tIFwiLi4vLi4vcnVudGltZVwiO1xuXG5cbmV4cG9ydCBjbGFzcyBBZGRVc2Vyc0ZpbGVGb3JtIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgICBzdGF0ZSA9IHtcbiAgICAgICAgbG9hZGluZzogZmFsc2VcbiAgICB9XG4gICAgcmVuZGVyKCk6IEpTWC5FbGVtZW50IHtcbiAgICAgICAgY29uc3QgcHJvcHM6IERyYWdnZXJQcm9wcyA9IHtcbiAgICAgICAgICAgIG5hbWU6ICdmaWxlJyxcbiAgICAgICAgICAgIGFjdGlvbjogJycsXG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgYXV0aG9yaXphdGlvbjogJ2F1dGhvcml6YXRpb24tdGV4dCcsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25DaGFuZ2UoaW5mbzogVXBsb2FkQ2hhbmdlUGFyYW0pIHtcbiAgICAgICAgICAgICAgICBpZiAoaW5mby5maWxlLnN0YXR1cyAhPT0gJ3VwbG9hZGluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coaW5mby5maWxlLCBpbmZvLmZpbGVMaXN0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGluZm8uZmlsZS5zdGF0dXMgPT09ICdkb25lJykge1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnN1Y2Nlc3MoYCR7aW5mby5maWxlLm5hbWV9IGZpbGUgdXBsb2FkZWQgc3VjY2Vzc2Z1bGx5YCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpbmZvLmZpbGUuc3RhdHVzID09PSAnZXJyb3InKSB7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZXJyb3IoYCR7aW5mby5maWxlLm5hbWV9IGZpbGUgdXBsb2FkIGZhaWxlZC5gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJib3Jyb3ctZm9ybS13b3JrZmxvd1wiIHN0eWxlPXt7IHBhZGRpbmc6IFwiMXJlbVwiIH19PlxuICAgICAgICAgICAgPFNwYWNlIGRpcmVjdGlvbj1cInZlcnRpY2FsXCI+XG4gICAgICAgICAgICAgICAgPERyYWdnZXIgc3R5bGU9e3sgcGFkZGluZzogXCIxcmVtXCIgfX17Li4ucHJvcHN9PlxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJhbnQtdXBsb2FkLWRyYWctaWNvblwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPEluYm94T3V0bGluZWQgLz5cbiAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICA8aDE+QmVudXR6ZXJsaXN0ZSBpbXBvcnRpZXJlbjwvaDE+XG4gICAgICAgICAgICAgICAgICAgIDxwPlfDpGhsZSBlaW5lIENTViBkYXRlaSBtaXQgQmVudXR6ZXJuIGF1cywgZGllIGltcG9ydGllcnQgd2VyZGVuIHNvbGxlbi4gPC9wPlxuICAgICAgICAgICAgICAgICAgICA8cD5TdGVsbGUgc2ljaGVyLCBkYXNzIGRpZSBTcGFsdGVuIHdpZSBmb2xndCBiZW5hbm50IHNpbmQ6PC9wPlxuICAgICAgICAgICAgICAgICAgICA8dWw+XG4gICAgICAgICAgICAgICAgICAgICAgICA8bGk+Zmlyc3RuYW1lOiBQZmxpY2h0PC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxsaT5sYXN0bmFtZTogUGZsaWNodDwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICA8bGk+Y2xhc3NuYW1lOiBQZmxpY2h0PC9saT5cbiAgICAgICAgICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICAgICAgICA8L0RyYWdnZXI+XG4gICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiBzaGFwZT1cInJvdW5kXCIgdHlwZT1cInByaW1hcnlcIiBpY29uPXs8RG93bmxvYWRPdXRsaW5lZCAvPn0gc2l6ZT1cImxhcmdlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8YSBzdHlsZT17eyBjb2xvcjogXCJ3aGl0ZVwiIH19IGhyZWY9e2Ake0JBU0VfUEFUSH0vdXNlcnMvZXhwb3J0L2NzdmB9PkRvd25sb2FkIEJlbnV0emVybGlzdGU8L2E+XG4gICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9TcGFjZT5cbiAgICAgICAgPC9kaXY+XG4gICAgfVxufSIsImltcG9ydCB7IFRhYmxlIH0gZnJvbSBcImFudGRcIjtcbmltcG9ydCBSZWFjdCwgeyBTeW50aGV0aWNFdmVudCB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgU3ViamVjdCwgU3Vic2NyaXB0aW9uIH0gZnJvbSBcInJ4anNcIjtcbmltcG9ydCB7IERlZmF1bHRCaWJsZXIgfSBmcm9tIFwiLi4vLi4vYXBpcy9EZWZhdWx0QmlibGVyXCI7XG5pbXBvcnQgeyB1c2VySTE4TiB9IGZyb20gXCIuLi8uLi9pMThuXCI7XG5pbXBvcnQgeyBVc2VyIH0gZnJvbSBcIi4uLy4uL21vZGVscy9Vc2VyXCI7XG5pbXBvcnQgeyBzZWFyY2hGaWx0ZXJTdWJqZWN0IH0gZnJvbSBcIi4uL1RpdGxlQmFyTWVudVwiO1xuaW1wb3J0IHsgRXh0ZW5kZWRVc2VyIH0gZnJvbSBcIi4vVXNlckNhcmRzXCI7XG5cblxuZXhwb3J0IGludGVyZmFjZSBJVXNlcnNUYWJsZSB7XG4gICAgbmFtZT86IHN0cmluZyxcbiAgICBmaWx0ZXI/OiBzdHJpbmdcbn1cbnR5cGUgUmVjb3JkID0ge1xuICAgIFtpbmRleDogc3RyaW5nXTogdW5rbm93blxufVxudHlwZSBUYWJsZVN0YXRlID0ge1xuICAgIGRhdGE/OiBBcnJheTxFeHRlbmRlZFVzZXI+LFxuICAgIGZpbHRlcmVkRGF0YT86IEFycmF5PEV4dGVuZGVkVXNlcj4sXG4gICAgaW5zZXJ0UmVjb3JkPzogUmVjb3JkXG4gICAgc2VsZWN0ZWRSZWNvcmQ/OiBSZWNvcmRbXVxufVxuY29uc3QgYXBpID0gbmV3IERlZmF1bHRCaWJsZXIoKVxuXG5leHBvcnQgY29uc3QgdXNlclRhYmxlU3ViamVjdCA9IG5ldyBTdWJqZWN0PFJlY29yZFtdPigpXG5jb25zdCBwdWJsaXNoID0gKGRhdGE6IFJlY29yZFtdKSA9PiB1c2VyVGFibGVTdWJqZWN0Lm5leHQoZGF0YSlcblxuZXhwb3J0IGNsYXNzIFVzZXJzVGFibGUgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8SVVzZXJzVGFibGU+IHtcbiAgICBzdGF0ZTogVGFibGVTdGF0ZSA9IHtcbiAgICAgICAgZGF0YTogW10sXG4gICAgfVxuICAgIHNlYXJjaEZpbHRlclN1YjogU3Vic2NyaXB0aW9uIHwgbnVsbCA9IG51bGxcbiAgICBsb2FkRGF0YSA9IGFzeW5jICgpOiBQcm9taXNlPHZvaWQ+ID0+IHtcbiAgICAgICAgY29uc3QgZGF0YSA9IChhd2FpdCBhcGkuZ2V0VXNlcnNVc2Vyc0dldCgpKSBhcyBBcnJheTxbVXNlciwgbnVtYmVyXT5cbiAgICAgICAgY29uc29sZS5sb2coZGF0YSlcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBkYXRhOiBkYXRhLm1hcChlbCA9PiAoeyB1c2VyOiBlbFswXSwgYm9ycm93ZWRCb29rczogZWxbMV0gfSkpXG4gICAgICAgIH0pXG4gICAgfVxuICAgIGFzeW5jIGNvbXBvbmVudERpZE1vdW50KCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBhd2FpdCB0aGlzLmxvYWREYXRhKClcbiAgICAgICAgdGhpcy5zZWFyY2hGaWx0ZXJTdWIgPSBzZWFyY2hGaWx0ZXJTdWJqZWN0LnN1YnNjcmliZSgoc2VhcmNoOiBzdHJpbmcpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiZmlsdGVyaW5nIGJ5OiBcIiArIHNlYXJjaClcbiAgICAgICAgICAgIGNvbnN0IHJlZ2V4ID0gbmV3IFJlZ0V4cChcIi4qXCIgKyBzZWFyY2ggKyBcIi4qXCIpXG4gICAgICAgICAgICBjb25zdCBmaWx0ZXJlZERhdGEgPSB0aGlzLnN0YXRlLmRhdGE/LmZpbHRlcihlID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gT2JqZWN0LnZhbHVlcyhlLnVzZXIpXG4gICAgICAgICAgICAgICAgICAgIC5zb21lKGkgPT4gaSAhPSBudWxsID8gcmVnZXgudGVzdChpLnRvU3RyaW5nKCkpIDogZmFsc2UpXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgZmlsdGVyZWREYXRhOiBmaWx0ZXJlZERhdGFcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgfVxuICAgIGNvbXBvbmVudFdpbGxVbm1vdW50KCk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5zZWFyY2hGaWx0ZXJTdWIgIT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5zZWFyY2hGaWx0ZXJTdWIudW5zdWJzY3JpYmUoKVxuICAgICAgICB9XG4gICAgfVxuICAgIGhhbmRsZVJlY29yZENsaWNrID0gKGV2ZW50OiBTeW50aGV0aWNFdmVudCwgaW5kZXg6IG51bWJlciB8IHVuZGVmaW5lZCk6IHZvaWQgPT4ge1xuICAgICAgICBjb25zdCB7IGZpbHRlcmVkRGF0YSB9ID0gdGhpcy5zdGF0ZVxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICAgIGlmIChmaWx0ZXJlZERhdGEgIT0gbnVsbCAmJiBpbmRleCAhPSBudWxsKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcInVzZXI6IFwiICsgZmlsdGVyZWREYXRhW2luZGV4XSArIFwiIHNlbGVjdGVkXCIpXG4gICAgICAgICAgICBwdWJsaXNoKFtmaWx0ZXJlZERhdGFbaW5kZXhdLnVzZXIgYXMgdW5rbm93biBhcyBSZWNvcmRdKVxuICAgICAgICAgICAgY29uc29sZS5sb2coaW5kZXgsIGV2ZW50KVxuICAgICAgICAgICAgaWYgKGZpbHRlcmVkRGF0YSAmJiBpbmRleCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkUmVjb3JkOiBmaWx0ZXJlZERhdGFbaW5kZXhdXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG4gICAgfVxuICAgIGhhbmRsZUlucHV0ID0gKGV2ZW50OiBSZWFjdC5DaGFuZ2VFdmVudDxIVE1MSW5wdXRFbGVtZW50PiwgZmllbGQ6IHN0cmluZyk6IHZvaWQgPT4ge1xuICAgICAgICBsZXQgeyBpbnNlcnRSZWNvcmQgfSA9IHRoaXMuc3RhdGVcbiAgICAgICAgY29uc29sZS5sb2coZmllbGQsIGV2ZW50LnRhcmdldC52YWx1ZSlcbiAgICAgICAgaWYgKGluc2VydFJlY29yZCA9PSBudWxsKSB7XG4gICAgICAgICAgICBpbnNlcnRSZWNvcmQgPSB7fVxuICAgICAgICB9XG4gICAgICAgIGluc2VydFJlY29yZFtmaWVsZF0gPSBldmVudC50YXJnZXQudmFsdWVcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBpbnNlcnRSZWNvcmQ6IGluc2VydFJlY29yZFxuICAgICAgICB9KVxuICAgIH1cbiAgICBtYXBFeHRlbmRlZFVzZXJUb1JlY29yZChleHRlbmRlZFVzZXI6IEV4dGVuZGVkVXNlcik6IFJlY29yZCB7XG4gICAgICAgIHJldHVybiB7IC4uLmV4dGVuZGVkVXNlci51c2VyLCBib3Jyb3dlZEJvb2tzOiBleHRlbmRlZFVzZXIuYm9ycm93ZWRCb29rcyB9XG4gICAgfVxuXG4gICAgaGFuZGxlUmlnaHRDbGlja1JlY29yZCA9IChldmVudDogUmVhY3QuTW91c2VFdmVudDxIVE1MVGFibGVSb3dFbGVtZW50LCBNb3VzZUV2ZW50Pik6IHZvaWQgPT4ge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICAgIGNvbnNvbGUubG9nKFwicmlnaHRsaWNrIG9uIFwiICsgZXZlbnQudGFyZ2V0KVxuICAgIH1cbiAgICByZW5kZXIoKTogSlNYLkVsZW1lbnQge1xuICAgICAgICBjb25zdCB7IGZpbHRlcmVkRGF0YSB9ID0gdGhpcy5zdGF0ZVxuICAgICAgICBsZXQgY29sc1xuICAgICAgICBpZiAoZmlsdGVyZWREYXRhICE9IG51bGwgJiYgZmlsdGVyZWREYXRhLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGZpbHRlcmVkRGF0YSlcbiAgICAgICAgICAgIGNvbHMgPSBPYmplY3Qua2V5cyhmaWx0ZXJlZERhdGFbMF0udXNlcikuY29uY2F0KFtcImJvcnJvd2VkQm9va3NcIl0pLm1hcChlbCA9PiAoe1xuICAgICAgICAgICAgICAgIHRpdGxlOiB1c2VySTE4Ti5nZXQoZWwpLFxuICAgICAgICAgICAgICAgIGRhdGFJbmRleDogZWwsXG4gICAgICAgICAgICAgICAga2V5OiBlbCxcbiAgICAgICAgICAgICAgICAvL3JlbmRlcjogKHRleHQ6IHN0cmluZykgPT4gPGE+e3RleHR9PC9hPixcbiAgICAgICAgICAgIH0pKVxuICAgICAgICB9XG4gICAgICAgIGNvbnNvbGUubG9nKFwicmVuZGVyaW5nOiBcIiwgZmlsdGVyZWREYXRhPy5tYXAoZWwgPT4gZWwudXNlciBhcyB1bmtub3duIGFzIFJlY29yZCkpXG4gICAgICAgIHJldHVybiA8VGFibGUgY29sdW1ucz17Y29sc30gZGF0YVNvdXJjZT17ZmlsdGVyZWREYXRhPy5tYXAoZWwgPT4gKHsgLi4uKGVsLnVzZXIgYXMgdW5rbm93biBhcyBSZWNvcmQpLCBib3Jyb3dlZEJvb2tzOiBlbC5ib3Jyb3dlZEJvb2tzIH0pKX0gb25Sb3c9eyhyZWNvcmQsIHJvd0luZGV4KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG9uRG91YmxlQ2xpY2s6IGV2ZW50ID0+IHRoaXMuaGFuZGxlUmVjb3JkQ2xpY2soZXZlbnQsIHJvd0luZGV4KSxcbiAgICAgICAgICAgICAgICBvbkNsaWNrOiBldmVudCA9PiB0aGlzLmhhbmRsZVJlY29yZENsaWNrKGV2ZW50LCByb3dJbmRleCksXG4gICAgICAgICAgICB9XG4gICAgICAgIH19PjwvVGFibGU+XG4gICAgfVxufSIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gXCJyeGpzXCI7XG5pbXBvcnQgeyBCb29rIH0gZnJvbSBcIi4uLy4uXCI7XG5pbXBvcnQgeyBVc2VyIH0gZnJvbSBcIi4uLy4uL21vZGVscy9Vc2VyXCI7XG5pbXBvcnQgeyBCb29rSXRlbSB9IGZyb20gXCIuLi9Cb29rL0Jvb2tJdGVtXCI7XG5pbXBvcnQgeyBCb29rc1RhYmxlLCBib29rc1RhYmxlU3ViamVjdCB9IGZyb20gXCIuLi9Cb29rL0Jvb2tzVGFibGVcIjtcbmltcG9ydCB7IHZpZXdUeXBlU3ViamVjdCB9IGZyb20gXCIuLi9UaXRsZUJhck1lbnVcIjtcbmltcG9ydCB7IFZpZXdUeXBlcyB9IGZyb20gXCIuLi9WaWV3VHlwZXNcIjtcbmltcG9ydCB7IEV4dGVuZGVkVXNlciwgVXNlckNhcmRzLCB1c2VyQ2FyZHNTdWJqZWN0IH0gZnJvbSBcIi4vVXNlckNhcmRzXCI7XG5pbXBvcnQgeyBVc2Vyc1RhYmxlLCB1c2VyVGFibGVTdWJqZWN0IH0gZnJvbSBcIi4vVXNlcnNUYWJsZVwiO1xuXG5cbmludGVyZmFjZSBCb29rVmlld1N0YXRlIHtcbiAgICBib29rVmlld1R5cGU6IFZpZXdUeXBlcyxcbiAgICBzZWxlY3RlZFVzZXI6IFVzZXIgfCBudWxsXG4gICAgc2VsZWN0ZWRCb29rOiBCb29rIHwgbnVsbFxufVxuZXhwb3J0IGNsYXNzIFVzZXJzVmlldyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gICAgc3RhdGU6IEJvb2tWaWV3U3RhdGUgPSB7XG4gICAgICAgIGJvb2tWaWV3VHlwZTogVmlld1R5cGVzLkNBUkQsXG4gICAgICAgIHNlbGVjdGVkVXNlcjogbnVsbCxcbiAgICAgICAgc2VsZWN0ZWRCb29rOiBudWxsXG4gICAgfVxuICAgIHZpZXdUeXBlU3ViOiBTdWJzY3JpcHRpb24gfCBudWxsID0gbnVsbFxuICAgIHVzZXJzVGFibGVTdWI6IFN1YnNjcmlwdGlvbiB8IG51bGwgPSBudWxsXG4gICAgdXNlcnNDYXJkc1N1YjogU3Vic2NyaXB0aW9uIHwgbnVsbCA9IG51bGxcbiAgICBib29rVGFibGVTdWI6IFN1YnNjcmlwdGlvbiB8IG51bGwgPSBudWxsXG4gICAgY29tcG9uZW50RGlkTW91bnQoKTogdm9pZCB7XG4gICAgICAgIHRoaXMudmlld1R5cGVTdWIgPSB2aWV3VHlwZVN1YmplY3Quc3Vic2NyaWJlKHZpZXdUeXBlID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiY2hhbmdlIHZpZXR5cGUgdG86IFwiICsgdmlld1R5cGUpXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICBib29rVmlld1R5cGU6IHZpZXdUeXBlXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgICAgICB0aGlzLnVzZXJzVGFibGVTdWIgPSB1c2VyVGFibGVTdWJqZWN0LnN1YnNjcmliZSh1c2VyID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwic2VsZWN0ZWQgXCIgKyB1c2VyWzBdLmtleSlcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgIHNlbGVjdGVkVXNlcjogdXNlclswXVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICAgICAgdGhpcy51c2Vyc0NhcmRzU3ViID0gdXNlckNhcmRzU3ViamVjdC5zdWJzY3JpYmUoKHVzZXI6IEV4dGVuZGVkVXNlcikgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJzZWxlY3RlZCBcIiArIHVzZXIudXNlci5rZXkpXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICBzZWxlY3RlZFVzZXI6IHVzZXIudXNlclxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICAgICAgdGhpcy5ib29rVGFibGVTdWIgPSBib29rc1RhYmxlU3ViamVjdC5zdWJzY3JpYmUoYm9vayA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcInNlbGVjdGVkIFwiICsgYm9vay50aXRsZSlcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgIHNlbGVjdGVkQm9vazogYm9va1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICB9XG4gICAgY29tcG9uZW50V2lsbFVubW91bnQoKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLnZpZXdUeXBlU3ViICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMudmlld1R5cGVTdWIudW5zdWJzY3JpYmUoKVxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnVzZXJzVGFibGVTdWIgIT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy51c2Vyc1RhYmxlU3ViLnVuc3Vic2NyaWJlKClcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5ib29rVGFibGVTdWIgIT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5ib29rVGFibGVTdWIudW5zdWJzY3JpYmUoKVxuICAgICAgICB9XG4gICAgfVxuICAgIHJlbmRlcigpOiBKU1guRWxlbWVudCB7XG4gICAgICAgIGNvbnN0IHsgYm9va1ZpZXdUeXBlLCBzZWxlY3RlZFVzZXIsIHNlbGVjdGVkQm9vayB9ID0gdGhpcy5zdGF0ZVxuICAgICAgICBpZiAoc2VsZWN0ZWRCb29rICE9IG51bGwgJiYgc2VsZWN0ZWRVc2VyICE9IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiA8Qm9va0l0ZW0gYm9vaz17c2VsZWN0ZWRCb29rfSB1c2VyPXtzZWxlY3RlZFVzZXJ9IGtleT17YGJvcnJvd2VkQm9vay0ke3NlbGVjdGVkVXNlci5rZXl9LSR7c2VsZWN0ZWRCb29rLmtleX1gfSA+PC9Cb29rSXRlbT5cbiAgICAgICAgfVxuICAgICAgICBpZiAoc2VsZWN0ZWRVc2VyICE9IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiA8Qm9va3NUYWJsZSB1c2VyRmlsdGVyPXtzZWxlY3RlZFVzZXJ9IGtleT17YGJvcnJvd2VkQm9va3Mke3NlbGVjdGVkVXNlci5maXJzdG5hbWV9LSR7c2VsZWN0ZWRVc2VyLmxhc3RuYW1lfWB9ID48L0Jvb2tzVGFibGU+XG4gICAgICAgIH1cbiAgICAgICAgc3dpdGNoIChib29rVmlld1R5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgVmlld1R5cGVzLlRBQkxFOlxuICAgICAgICAgICAgICAgIHJldHVybiA8VXNlcnNUYWJsZSBrZXk9XCJCb29rc1RhYmxlXCI+PC9Vc2Vyc1RhYmxlPlxuICAgICAgICAgICAgY2FzZSBWaWV3VHlwZXMuQ0FSRDpcbiAgICAgICAgICAgICAgICByZXR1cm4gPFVzZXJDYXJkcyBrZXk9XCJCb29rQ2FyZHNcIj48L1VzZXJDYXJkcz5cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIDxCb29rc1RhYmxlIGtleT1cIkJvb2tzVGFibGVcIj48L0Jvb2tzVGFibGU+XG4gICAgICAgIH1cbiAgICB9XG59IiwiaW1wb3J0IHsgTGF5b3V0LCBNZW51IH0gZnJvbSAnYW50ZCc7XG5pbXBvcnQgJ2FudGQvZGlzdC9hbnRkLmNzcyc7XG5pbXBvcnQgU3ViTWVudSBmcm9tICdhbnRkL2xpYi9tZW51L1N1Yk1lbnUnO1xuaW1wb3J0IFJlYWN0LCB7IFJlYWN0RWxlbWVudCB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgR2lCYWNrd2FyZFRpbWUsIEdpQm9va0NvdmVyLCBHaUJvb2tQaWxlIH0gZnJvbSBcInJlYWN0LWljb25zL2dpXCI7XG5pbXBvcnQgeyBIaVVzZXJBZGQgfSBmcm9tICdyZWFjdC1pY29ucy9oaSc7XG5pbXBvcnQgeyBBZGRCb29rRm9ybSB9IGZyb20gJy4vY29tcG9uZW50cy9Cb29rL0FkZEJvb2tGb3JtJztcbmltcG9ydCB7IEFkZEJvb2tzRmlsZUZvcm0gfSBmcm9tICcuL2NvbXBvbmVudHMvQm9vay9BZGRCb29rc0ZpbGVGb3JtJztcbmltcG9ydCB7IEJvb2tzVmlldyB9IGZyb20gJy4vY29tcG9uZW50cy9Cb29rL0Jvb2tzVmlldyc7XG5pbXBvcnQgeyBCb3Jyb3dCb29rc1ZpZXcgfSBmcm9tICcuL2NvbXBvbmVudHMvQm9vay9Cb3Jyb3dCb29rc1ZpZXcnO1xuaW1wb3J0IHsgQm9ycm93aW5nVXNlcnNUYWJsZSB9IGZyb20gXCIuL2NvbXBvbmVudHMvQm9ycm93aW5nVXNlcnNUYWJsZVwiO1xuaW1wb3J0IHsgTWFpbkNvbnRlbnRUeXBlcyB9IGZyb20gJy4vY29tcG9uZW50cy9NYWluQ29udGVudFR5cGVzJztcbmltcG9ydCB7IFN0YXR1c0JhciB9IGZyb20gJy4vY29tcG9uZW50cy9TdGF0dXNCYXInO1xuaW1wb3J0IHsgVGl0bGVCYXJNZW51IH0gZnJvbSAnLi9jb21wb25lbnRzL1RpdGxlQmFyTWVudSc7XG5pbXBvcnQgeyBBZGRVc2VyRm9ybSB9IGZyb20gJy4vY29tcG9uZW50cy9Vc2VyL0FkZFVzZXJGb3JtJztcbmltcG9ydCB7IEFkZFVzZXJzRmlsZUZvcm0gfSBmcm9tICcuL2NvbXBvbmVudHMvVXNlci9BZGRVc2Vyc0ZpbGVGb3JtJztcbmltcG9ydCB7IFVzZXJzVmlldyB9IGZyb20gJy4vY29tcG9uZW50cy9Vc2VyL1VzZXJzVmlldyc7XG5cbmNvbnN0IHsgSGVhZGVyLCBGb290ZXIsIFNpZGVyLCBDb250ZW50IH0gPSBMYXlvdXQ7XG5cbmludGVyZmFjZSBJQmlibGVyIHtcbiAgICBuYW1lPzogc3RyaW5nXG59XG5pbnRlcmZhY2UgQmlibGVyU3RhdGUge1xuICAgIG1haW5Db250ZW50VHlwZTogTWFpbkNvbnRlbnRUeXBlc1xuICAgIG1haW5Db250ZW50OiBSZWFjdEVsZW1lbnRcbiAgICBjb2xsYXBzZWQ6IGJvb2xlYW5cbn1cbmludGVyZmFjZSBCaWJsZXJDb250ZXh0IHtcbiAgICB0aXRsZTogc3RyaW5nLFxuICAgIHN1YnRpdGxlOiBzdHJpbmdcbn1cbmV4cG9ydCBjbGFzcyBCaWJsZXIgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8SUJpYmxlciwgQmlibGVyU3RhdGUsIEJpYmxlckNvbnRleHQ+IHtcbiAgICBzdGF0ZTogQmlibGVyU3RhdGUgPSB7XG4gICAgICAgIG1haW5Db250ZW50VHlwZTogTWFpbkNvbnRlbnRUeXBlcy5Cb29rc1RhYmxlLFxuICAgICAgICBjb2xsYXBzZWQ6IGZhbHNlLFxuICAgICAgICBtYWluQ29udGVudDogPEJvb2tzVmlldyBrZXk9XCJCb29rc1ZpZXdcIj48L0Jvb2tzVmlldz4sXG4gICAgfVxuICAgIHJlbmRlcigpOiBSZWFjdC5SZWFjdE5vZGUge1xuICAgICAgICBjb25zdCB7IG1haW5Db250ZW50IH0gPSB0aGlzLnN0YXRlXG4gICAgICAgIHJldHVybiA8TGF5b3V0IHN0eWxlPXt7IGhlaWdodDogXCIxMDAlXCIgfX0+XG4gICAgICAgICAgICA8SGVhZGVyIHN0eWxlPXt7IHBhZGRpbmdJbmxpbmU6IFwiMHB4XCIgfX0+XG4gICAgICAgICAgICAgICAgPFRpdGxlQmFyTWVudT48L1RpdGxlQmFyTWVudT5cbiAgICAgICAgICAgIDwvSGVhZGVyPlxuICAgICAgICAgICAgPExheW91dD5cbiAgICAgICAgICAgICAgICA8U2lkZXJcbiAgICAgICAgICAgICAgICAgICAgY29sbGFwc2VkPXt0aGlzLnN0YXRlLmNvbGxhcHNlZH1cbiAgICAgICAgICAgICAgICAgICAgd2lkdGg9XCIzMGNoXCI+XG4gICAgICAgICAgICAgICAgICAgIDxNZW51XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0U2VsZWN0ZWRLZXlzPXtbJzEnXX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRPcGVuS2V5cz17WydzdWIxJ119XG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RlPVwiaW5saW5lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoZW1lPVwiZGFya1wiXG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxNZW51Lkl0ZW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9XCJBdXNsZWloZW5cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb249ezxHaUJvb2tDb3ZlciAvPn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKTogdm9pZCA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFpbkNvbnRlbnQ6IDxCb3Jyb3dCb29rc1ZpZXcga2V5PXtEYXRlLm5vdygpfT48L0JvcnJvd0Jvb2tzVmlldz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT17eyBwYWRkaW5nTGVmdDogXCIuNXJlbVwiIH19PntcIkF1c2xlaWhlblwifTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvTWVudS5JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgPE1lbnUuSXRlbVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT1cIkFsbGUgQsO8Y2hlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbj17PEdpQm9va0NvdmVyIC8+fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpOiB2b2lkID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYWluQ29udGVudDogPEJvb2tzVmlldyBrZXk9e0RhdGUubm93KCl9PjwvQm9va3NWaWV3PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPXt7IHBhZGRpbmdMZWZ0OiBcIi41cmVtXCIgfX0+e1wiQWxsZSBCw7xjaGVyXCJ9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9NZW51Lkl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8TWVudS5JdGVtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PVwiWnVyw7xja2dlYmVuXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uPXs8R2lCYWNrd2FyZFRpbWUgLz59XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCk6IHZvaWQgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1haW5Db250ZW50OiA8VXNlcnNWaWV3IGtleT17RGF0ZS5ub3coKX0+PC9Vc2Vyc1ZpZXc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9e3sgcGFkZGluZ0xlZnQ6IFwiLjVyZW1cIiB9fT57XCJadXLDvGNrZ2ViZW5cIn08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L01lbnUuSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxNZW51Lkl0ZW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9XCJGcmlzdGVuXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uPXs8R2lCYWNrd2FyZFRpbWUgLz59XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCk6IHZvaWQgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1haW5Db250ZW50OiA8Qm9ycm93aW5nVXNlcnNUYWJsZSBrZXk9e0RhdGUubm93KCl9PjwvQm9ycm93aW5nVXNlcnNUYWJsZT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT17eyBwYWRkaW5nTGVmdDogXCIuNXJlbVwiIH19PntcIkZyaXN0ZW5cIn08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L01lbnUuSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxTdWJNZW51XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PVwiQnVjaCBoaW56dWbDvGdlblwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbj17PEdpQm9va1BpbGUgLz59XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9ezxzcGFuIHN0eWxlPXt7IHBhZGRpbmdMZWZ0OiBcIi41cmVtXCIgfX0+e1wiQsO8Y2hlciBoaW56dWbDvGdlblwifTwvc3Bhbj59XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPE1lbnUuSXRlbVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9XCI1XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCk6IHZvaWQgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJlaW56ZWxuZXMgQnVjaFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFpbkNvbnRlbnQ6IDxBZGRCb29rRm9ybSBrZXk9e0RhdGUubm93KCl9PjwvQWRkQm9va0Zvcm0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fSA+TmV1ZXMgQnVjaDwvTWVudS5JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxNZW51Lkl0ZW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PVwiNlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpOiB2b2lkID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiYnVsayBpbXBvcnRcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1haW5Db250ZW50OiA8QWRkQm9va3NGaWxlRm9ybSBrZXk9e0RhdGUubm93KCl9PjwvQWRkQm9va3NGaWxlRm9ybT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19ID5Cw7xjaGVybGlzdGU8L01lbnUuSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvU3ViTWVudT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxTdWJNZW51XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PVwiQmVudXR6ZXIgaGluenVmw7xnZW5cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb249ezxIaVVzZXJBZGQgLz59XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9ezxzcGFuIHN0eWxlPXt7IHBhZGRpbmdMZWZ0OiBcIi41cmVtXCIgfX0+e1wiQmVudXR6ZXIgaGluenVmw7xnZW5cIn08L3NwYW4+fVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxNZW51Lkl0ZW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PVwiN1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpOiB2b2lkID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQmV1dHplcippbiBoaW56dWbDvGdlblwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFpbkNvbnRlbnQ6IDxBZGRVc2VyRm9ybSBrZXk9e0RhdGUubm93KCl9PjwvQWRkVXNlckZvcm0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fSA+TmV1ZW4gQmVudXR6ZXI8L01lbnUuSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TWVudS5JdGVtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT1cIjhcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKTogdm9pZCA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImJ1bGsgaW1wb3J0XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYWluQ29udGVudDogPEFkZFVzZXJzRmlsZUZvcm0ga2V5PXtEYXRlLm5vdygpfT48L0FkZFVzZXJzRmlsZUZvcm0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fSA+QmVudXR6ZXJsaXN0ZTwvTWVudS5JdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9TdWJNZW51PlxuICAgICAgICAgICAgICAgICAgICA8L01lbnU+XG4gICAgICAgICAgICAgICAgPC9TaWRlcj5cbiAgICAgICAgICAgICAgICA8Q29udGVudCA+e21haW5Db250ZW50fTwvQ29udGVudD5cbiAgICAgICAgICAgIDwvTGF5b3V0PlxuICAgICAgICAgICAgPEZvb3RlciBzdHlsZT17eyBwYWRkaW5nOiBcIi4zcmVtXCIgfX0+PFN0YXR1c0Jhcj48L1N0YXR1c0Jhcj48L0Zvb3Rlcj5cbiAgICAgICAgPC9MYXlvdXQ+XG5cbiAgICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IFJlYWN0RE9NIGZyb20gXCJyZWFjdC1kb21cIjtcbmltcG9ydCB7IEJpYmxlciB9IGZyb20gXCIuL0JpYmxlclwiO1xuXG5jb25zdCBBcHAgPSAoKSA9PiAoXG4gICAgPGRpdiBzdHlsZT17e1xuICAgICAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgICAgIGhlaWdodDogXCIxMDB2aFwiLFxuICAgICAgICBtYXJnaW46IFwibm9uZVwiLFxuICAgICAgICBwYWRkaW5nOiBcIm5vbmVcIlxuICAgIH19PlxuICAgICAgICA8QmlibGVyPjwvQmlibGVyPlxuICAgIDwvZGl2PlxuKTtcbmNvbnN0IGFwcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIilcblJlYWN0RE9NLnJlbmRlcihcbiAgICA8QXBwIC8+LFxuICAgIGFwcFxuKTtcbmRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYXBwKSJdLCJzb3VyY2VSb290IjoiIn0=